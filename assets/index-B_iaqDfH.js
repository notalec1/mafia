(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=l(o);fetch(o.href,f)}})();function T1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Lc={exports:{}},Ga={};var f_;function N1(){if(f_)return Ga;f_=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var _ in o)_!=="key"&&(f[_]=o[_])}else f=o;return o=f.ref,{$$typeof:a,type:r,key:h,ref:o!==void 0?o:null,props:f}}return Ga.Fragment=n,Ga.jsx=l,Ga.jsxs=l,Ga}var h_;function A1(){return h_||(h_=1,Lc.exports=N1()),Lc.exports}var D=A1(),Uc={exports:{}},J={};var d_;function x1(){if(d_)return J;d_=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,k={};function $(C,I,q){this.props=C,this.context=I,this.refs=k,this.updater=q||w}$.prototype.isReactComponent={},$.prototype.setState=function(C,I){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,I,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ee(){}ee.prototype=$.prototype;function V(C,I,q){this.props=C,this.context=I,this.refs=k,this.updater=q||w}var ce=V.prototype=new ee;ce.constructor=V,B(ce,$.prototype),ce.isPureReactComponent=!0;var Be=Array.isArray;function Pe(){}var ie={H:null,A:null,T:null,S:null},Fe=Object.prototype.hasOwnProperty;function vt(C,I,q){var Y=q.ref;return{$$typeof:a,type:C,key:I,ref:Y!==void 0?Y:null,props:q}}function an(C,I){return vt(C.type,I,C.props)}function He(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function mt(C){var I={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(q){return I[q]})}var sn=/\/+/g;function ut(C,I){return typeof C=="object"&&C!==null&&C.key!=null?mt(""+C.key):I.toString(36)}function Ge(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Pe,Pe):(C.status="pending",C.then(function(I){C.status==="pending"&&(C.status="fulfilled",C.value=I)},function(I){C.status==="pending"&&(C.status="rejected",C.reason=I)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function z(C,I,q,Y,W){var se=typeof C;(se==="undefined"||se==="boolean")&&(C=null);var be=!1;if(C===null)be=!0;else switch(se){case"bigint":case"string":case"number":be=!0;break;case"object":switch(C.$$typeof){case a:case n:be=!0;break;case y:return be=C._init,z(be(C._payload),I,q,Y,W)}}if(be)return W=W(C),be=Y===""?"."+ut(C,0):Y,Be(W)?(q="",be!=null&&(q=be.replace(sn,"$&/")+"/"),z(W,I,q,"",function(Zl){return Zl})):W!=null&&(He(W)&&(W=an(W,q+(W.key==null||C&&C.key===W.key?"":(""+W.key).replace(sn,"$&/")+"/")+be)),I.push(W)),1;be=0;var _t=Y===""?".":Y+":";if(Be(C))for(var Ye=0;Ye<C.length;Ye++)Y=C[Ye],se=_t+ut(Y,Ye),be+=z(Y,I,q,se,W);else if(Ye=x(C),typeof Ye=="function")for(C=Ye.call(C),Ye=0;!(Y=C.next()).done;)Y=Y.value,se=_t+ut(Y,Ye++),be+=z(Y,I,q,se,W);else if(se==="object"){if(typeof C.then=="function")return z(Ge(C),I,q,Y,W);throw I=String(C),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return be}function j(C,I,q){if(C==null)return C;var Y=[],W=0;return z(C,Y,"","",function(se){return I.call(q,se,W++)}),Y}function F(C){if(C._status===-1){var I=C._result;I=I(),I.then(function(q){(C._status===0||C._status===-1)&&(C._status=1,C._result=q)},function(q){(C._status===0||C._status===-1)&&(C._status=2,C._result=q)}),C._status===-1&&(C._status=0,C._result=I)}if(C._status===1)return C._result.default;throw C._result}var _e=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ve={map:j,forEach:function(C,I,q){j(C,function(){I.apply(this,arguments)},q)},count:function(C){var I=0;return j(C,function(){I++}),I},toArray:function(C){return j(C,function(I){return I})||[]},only:function(C){if(!He(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return J.Activity=v,J.Children=ve,J.Component=$,J.Fragment=l,J.Profiler=o,J.PureComponent=V,J.StrictMode=r,J.Suspense=d,J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,J.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ie.H.useMemoCache(C)}},J.cache=function(C){return function(){return C.apply(null,arguments)}},J.cacheSignal=function(){return null},J.cloneElement=function(C,I,q){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Y=B({},C.props),W=C.key;if(I!=null)for(se in I.key!==void 0&&(W=""+I.key),I)!Fe.call(I,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&I.ref===void 0||(Y[se]=I[se]);var se=arguments.length-2;if(se===1)Y.children=q;else if(1<se){for(var be=Array(se),_t=0;_t<se;_t++)be[_t]=arguments[_t+2];Y.children=be}return vt(C.type,W,Y)},J.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},J.createElement=function(C,I,q){var Y,W={},se=null;if(I!=null)for(Y in I.key!==void 0&&(se=""+I.key),I)Fe.call(I,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(W[Y]=I[Y]);var be=arguments.length-2;if(be===1)W.children=q;else if(1<be){for(var _t=Array(be),Ye=0;Ye<be;Ye++)_t[Ye]=arguments[Ye+2];W.children=_t}if(C&&C.defaultProps)for(Y in be=C.defaultProps,be)W[Y]===void 0&&(W[Y]=be[Y]);return vt(C,se,W)},J.createRef=function(){return{current:null}},J.forwardRef=function(C){return{$$typeof:_,render:C}},J.isValidElement=He,J.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:F}},J.memo=function(C,I){return{$$typeof:g,type:C,compare:I===void 0?null:I}},J.startTransition=function(C){var I=ie.T,q={};ie.T=q;try{var Y=C(),W=ie.S;W!==null&&W(q,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Pe,_e)}catch(se){_e(se)}finally{I!==null&&q.types!==null&&(I.types=q.types),ie.T=I}},J.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},J.use=function(C){return ie.H.use(C)},J.useActionState=function(C,I,q){return ie.H.useActionState(C,I,q)},J.useCallback=function(C,I){return ie.H.useCallback(C,I)},J.useContext=function(C){return ie.H.useContext(C)},J.useDebugValue=function(){},J.useDeferredValue=function(C,I){return ie.H.useDeferredValue(C,I)},J.useEffect=function(C,I){return ie.H.useEffect(C,I)},J.useEffectEvent=function(C){return ie.H.useEffectEvent(C)},J.useId=function(){return ie.H.useId()},J.useImperativeHandle=function(C,I,q){return ie.H.useImperativeHandle(C,I,q)},J.useInsertionEffect=function(C,I){return ie.H.useInsertionEffect(C,I)},J.useLayoutEffect=function(C,I){return ie.H.useLayoutEffect(C,I)},J.useMemo=function(C,I){return ie.H.useMemo(C,I)},J.useOptimistic=function(C,I){return ie.H.useOptimistic(C,I)},J.useReducer=function(C,I,q){return ie.H.useReducer(C,I,q)},J.useRef=function(C){return ie.H.useRef(C)},J.useState=function(C){return ie.H.useState(C)},J.useSyncExternalStore=function(C,I,q){return ie.H.useSyncExternalStore(C,I,q)},J.useTransition=function(){return ie.H.useTransition()},J.version="19.2.3",J}var m_;function Af(){return m_||(m_=1,Uc.exports=x1()),Uc.exports}var Le=Af();const et=T1(Le);var Ic={exports:{}},Ya={},Bc={exports:{}},Hc={};var g_;function R1(){return g_||(g_=1,(function(a){function n(z,j){var F=z.length;z.push(j);e:for(;0<F;){var _e=F-1>>>1,ve=z[_e];if(0<o(ve,j))z[_e]=j,z[F]=ve,F=_e;else break e}}function l(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var j=z[0],F=z.pop();if(F!==j){z[0]=F;e:for(var _e=0,ve=z.length,C=ve>>>1;_e<C;){var I=2*(_e+1)-1,q=z[I],Y=I+1,W=z[Y];if(0>o(q,F))Y<ve&&0>o(W,q)?(z[_e]=W,z[Y]=F,_e=Y):(z[_e]=q,z[I]=F,_e=I);else if(Y<ve&&0>o(W,F))z[_e]=W,z[Y]=F,_e=Y;else break e}}return j}function o(z,j){var F=z.sortIndex-j.sortIndex;return F!==0?F:z.id-j.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,_=h.now();a.unstable_now=function(){return h.now()-_}}var d=[],g=[],y=1,v=null,b=3,x=!1,w=!1,B=!1,k=!1,$=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function ce(z){for(var j=l(g);j!==null;){if(j.callback===null)r(g);else if(j.startTime<=z)r(g),j.sortIndex=j.expirationTime,n(d,j);else break;j=l(g)}}function Be(z){if(B=!1,ce(z),!w)if(l(d)!==null)w=!0,Pe||(Pe=!0,mt());else{var j=l(g);j!==null&&Ge(Be,j.startTime-z)}}var Pe=!1,ie=-1,Fe=5,vt=-1;function an(){return k?!0:!(a.unstable_now()-vt<Fe)}function He(){if(k=!1,Pe){var z=a.unstable_now();vt=z;var j=!0;try{e:{w=!1,B&&(B=!1,ee(ie),ie=-1),x=!0;var F=b;try{t:{for(ce(z),v=l(d);v!==null&&!(v.expirationTime>z&&an());){var _e=v.callback;if(typeof _e=="function"){v.callback=null,b=v.priorityLevel;var ve=_e(v.expirationTime<=z);if(z=a.unstable_now(),typeof ve=="function"){v.callback=ve,ce(z),j=!0;break t}v===l(d)&&r(d),ce(z)}else r(d);v=l(d)}if(v!==null)j=!0;else{var C=l(g);C!==null&&Ge(Be,C.startTime-z),j=!1}}break e}finally{v=null,b=F,x=!1}j=void 0}}finally{j?mt():Pe=!1}}}var mt;if(typeof V=="function")mt=function(){V(He)};else if(typeof MessageChannel<"u"){var sn=new MessageChannel,ut=sn.port2;sn.port1.onmessage=He,mt=function(){ut.postMessage(null)}}else mt=function(){$(He,0)};function Ge(z,j){ie=$(function(){z(a.unstable_now())},j)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(z){z.callback=null},a.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fe=0<z?Math.floor(1e3/z):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(z){switch(b){case 1:case 2:case 3:var j=3;break;default:j=b}var F=b;b=j;try{return z()}finally{b=F}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(z,j){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var F=b;b=z;try{return j()}finally{b=F}},a.unstable_scheduleCallback=function(z,j,F){var _e=a.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?_e+F:_e):F=_e,z){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=F+ve,z={id:y++,callback:j,priorityLevel:z,startTime:F,expirationTime:ve,sortIndex:-1},F>_e?(z.sortIndex=F,n(g,z),l(d)===null&&z===l(g)&&(B?(ee(ie),ie=-1):B=!0,Ge(Be,F-_e))):(z.sortIndex=ve,n(d,z),w||x||(w=!0,Pe||(Pe=!0,mt()))),z},a.unstable_shouldYield=an,a.unstable_wrapCallback=function(z){var j=b;return function(){var F=b;b=j;try{return z.apply(this,arguments)}finally{b=F}}}})(Hc)),Hc}var __;function w1(){return __||(__=1,Bc.exports=R1()),Bc.exports}var jc={exports:{}},gt={};var p_;function M1(){if(p_)return gt;p_=1;var a=Af();function n(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(d,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:d,containerInfo:g,implementation:y}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gt.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(d,g,null,y)},gt.flushSync=function(d){var g=h.T,y=r.p;try{if(h.T=null,r.p=2,d)return d()}finally{h.T=g,r.p=y,r.d.f()}},gt.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(d,g))},gt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},gt.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,v=_(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:x}):y==="script"&&r.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gt.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=_(g.as,g.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(d)},gt.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=_(y,g.crossOrigin);r.d.L(d,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gt.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=_(g.as,g.crossOrigin);r.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(d)},gt.requestFormReset=function(d){r.d.r(d)},gt.unstable_batchedUpdates=function(d,g){return d(g)},gt.useFormState=function(d,g,y){return h.H.useFormState(d,g,y)},gt.useFormStatus=function(){return h.H.useHostTransitionStatus()},gt.version="19.2.3",gt}var y_;function D1(){if(y_)return jc.exports;y_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),jc.exports=M1(),jc.exports}var v_;function O1(){if(v_)return Ya;v_=1;var a=w1(),n=Af(),l=D1();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(f(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,s=t;;){var u=i.return;if(u===null)break;var c=u.alternate;if(c===null){if(s=u.return,s!==null){i=s;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===i)return d(u),e;if(c===s)return d(u),t;c=c.sibling}throw Error(r(188))}if(i.return!==s.return)i=u,s=c;else{for(var m=!1,p=u.child;p;){if(p===i){m=!0,i=u,s=c;break}if(p===s){m=!0,s=u,i=c;break}p=p.sibling}if(!m){for(p=c.child;p;){if(p===i){m=!0,i=c,s=u;break}if(p===s){m=!0,s=c,i=u;break}p=p.sibling}if(!m)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),V=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),vt=Symbol.for("react.activity"),an=Symbol.for("react.memo_cache_sentinel"),He=Symbol.iterator;function mt(e){return e===null||typeof e!="object"?null:(e=He&&e[He]||e["@@iterator"],typeof e=="function"?e:null)}var sn=Symbol.for("react.client.reference");function ut(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===sn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case $:return"Profiler";case k:return"StrictMode";case Be:return"Suspense";case Pe:return"SuspenseList";case vt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case V:return e.displayName||"Context";case ee:return(e._context.displayName||"Context")+".Consumer";case ce:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return t=e.displayName||null,t!==null?t:ut(e.type)||"Memo";case Fe:t=e._payload,e=e._init;try{return ut(e(t))}catch{}}return null}var Ge=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},_e=[],ve=-1;function C(e){return{current:e}}function I(e){0>ve||(e.current=_e[ve],_e[ve]=null,ve--)}function q(e,t){ve++,_e[ve]=e.current,e.current=t}var Y=C(null),W=C(null),se=C(null),be=C(null);function _t(e,t){switch(q(se,t),q(W,e),q(Y,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Lg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Lg(t),e=Ug(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(Y),q(Y,e)}function Ye(){I(Y),I(W),I(se)}function Zl(e){e.memoizedState!==null&&q(be,e);var t=Y.current,i=Ug(t,e.type);t!==i&&(q(W,e),q(Y,i))}function gs(e){W.current===e&&(I(Y),I(W)),be.current===e&&(I(be),Ha._currentValue=F)}var gu,ch;function mi(e){if(gu===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);gu=t&&t[1]||"",ch=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gu+e+ch}var _u=!1;function pu(e,t){if(!e||_u)return"";_u=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(M){var R=M}Reflect.construct(e,[],U)}else{try{U.call()}catch(M){R=M}e.call(U.prototype)}}else{try{throw Error()}catch(M){R=M}(U=e())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(M){if(M&&R&&typeof M.stack=="string")return[M.stack,R.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),m=c[0],p=c[1];if(m&&p){var E=m.split(`
`),A=p.split(`
`);for(u=s=0;s<E.length&&!E[s].includes("DetermineComponentFrameRoot");)s++;for(;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;if(s===E.length||u===A.length)for(s=E.length-1,u=A.length-1;1<=s&&0<=u&&E[s]!==A[u];)u--;for(;1<=s&&0<=u;s--,u--)if(E[s]!==A[u]){if(s!==1||u!==1)do if(s--,u--,0>u||E[s]!==A[u]){var O=`
`+E[s].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=s&&0<=u);break}}}finally{_u=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?mi(i):""}function t0(e,t){switch(e.tag){case 26:case 27:case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return e.child!==t&&t!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return pu(e.type,!1);case 11:return pu(e.type.render,!1);case 1:return pu(e.type,!0);case 31:return mi("Activity");default:return""}}function fh(e){try{var t="",i=null;do t+=t0(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var yu=Object.prototype.hasOwnProperty,vu=a.unstable_scheduleCallback,bu=a.unstable_cancelCallback,n0=a.unstable_shouldYield,i0=a.unstable_requestPaint,wt=a.unstable_now,l0=a.unstable_getCurrentPriorityLevel,hh=a.unstable_ImmediatePriority,dh=a.unstable_UserBlockingPriority,_s=a.unstable_NormalPriority,a0=a.unstable_LowPriority,mh=a.unstable_IdlePriority,s0=a.log,r0=a.unstable_setDisableYieldValue,Jl=null,Mt=null;function Un(e){if(typeof s0=="function"&&r0(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Jl,e)}catch{}}var Dt=Math.clz32?Math.clz32:c0,u0=Math.log,o0=Math.LN2;function c0(e){return e>>>=0,e===0?32:31-(u0(e)/o0|0)|0}var ps=256,ys=262144,vs=4194304;function gi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bs(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var u=0,c=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var p=s&134217727;return p!==0?(s=p&~c,s!==0?u=gi(s):(m&=p,m!==0?u=gi(m):i||(i=p&~e,i!==0&&(u=gi(i))))):(p=s&~c,p!==0?u=gi(p):m!==0?u=gi(m):i||(i=s&~e,i!==0&&(u=gi(i)))),u===0?0:t!==0&&t!==u&&(t&c)===0&&(c=u&-u,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:u}function Wl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function f0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gh(){var e=vs;return vs<<=1,(vs&62914560)===0&&(vs=4194304),e}function Eu(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Pl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function h0(e,t,i,s,u,c){var m=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,E=e.expirationTimes,A=e.hiddenUpdates;for(i=m&~i;0<i;){var O=31-Dt(i),U=1<<O;p[O]=0,E[O]=-1;var R=A[O];if(R!==null)for(A[O]=null,O=0;O<R.length;O++){var M=R[O];M!==null&&(M.lane&=-536870913)}i&=~U}s!==0&&_h(e,s,0),c!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=c&~(m&~t))}function _h(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Dt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function ph(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-Dt(i),u=1<<s;u&t|e[s]&t&&(e[s]|=t),i&=~u}}function yh(e,t){var i=t&-t;return i=(i&42)!==0?1:Su(i),(i&(e.suspendedLanes|t))!==0?0:i}function Su(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Cu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vh(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:l_(e.type))}function bh(e,t){var i=j.p;try{return j.p=e,t()}finally{j.p=i}}var In=Math.random().toString(36).slice(2),ot="__reactFiber$"+In,bt="__reactProps$"+In,Qi="__reactContainer$"+In,Tu="__reactEvents$"+In,d0="__reactListeners$"+In,m0="__reactHandles$"+In,Eh="__reactResources$"+In,$l="__reactMarker$"+In;function Nu(e){delete e[ot],delete e[bt],delete e[Tu],delete e[d0],delete e[m0]}function Xi(e){var t=e[ot];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Qi]||i[ot]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Gg(e);e!==null;){if(i=e[ot])return i;e=Gg(e)}return t}e=i,i=e.parentNode}return null}function Fi(e){if(e=e[ot]||e[Qi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ea(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ki(e){var t=e[Eh];return t||(t=e[Eh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[$l]=!0}var Sh=new Set,Ch={};function _i(e,t){Zi(e,t),Zi(e+"Capture",t)}function Zi(e,t){for(Ch[e]=t,e=0;e<t.length;e++)Sh.add(t[e])}var g0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Th={},Nh={};function _0(e){return yu.call(Nh,e)?!0:yu.call(Th,e)?!1:g0.test(e)?Nh[e]=!0:(Th[e]=!0,!1)}function Es(e,t,i){if(_0(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Ss(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function dn(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ah(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function p0(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(m){i=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Au(e){if(!e._valueTracker){var t=Ah(e)?"checked":"value";e._valueTracker=p0(e,t,""+e[t])}}function xh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=Ah(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var y0=/[\n"\\]/g;function qt(e){return e.replace(y0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function xu(e,t,i,s,u,c,m,p){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Ru(e,m,kt(t)):i!=null?Ru(e,m,kt(i)):s!=null&&e.removeAttribute("value"),u==null&&c!=null&&(e.defaultChecked=!!c),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+kt(p):e.removeAttribute("name")}function Rh(e,t,i,s,u,c,m,p){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Au(e);return}i=i!=null?""+kt(i):"",t=t!=null?""+kt(t):i,p||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=p?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Au(e)}function Ru(e,t,i){t==="number"&&Cs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ji(e,t,i,s){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&s&&(e[i].defaultSelected=!0)}else{for(i=""+kt(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function wh(e,t,i){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+kt(i):""}function Mh(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(r(92));if(Ge(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=kt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Au(e)}function Wi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var v0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dh(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||v0.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Oh(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&i[u]!==s&&Dh(e,u,s)}else for(var c in t)t.hasOwnProperty(c)&&Dh(e,c,t[c])}function wu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),E0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(e){return E0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mn(){}var Mu=null;function Du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pi=null,$i=null;function zh(e){var t=Fi(e);if(t&&(e=t.stateNode)){var i=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(xu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var u=s[bt]||null;if(!u)throw Error(r(90));xu(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&xh(s)}break e;case"textarea":wh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Ji(e,!!i.multiple,t,!1)}}}var Ou=!1;function Lh(e,t,i){if(Ou)return e(t,i);Ou=!0;try{var s=e(t);return s}finally{if(Ou=!1,(Pi!==null||$i!==null)&&(fr(),Pi&&(t=Pi,e=$i,$i=Pi=null,zh(t),e)))for(t=0;t<e.length;t++)zh(e[t])}}function ta(e,t){var i=e.stateNode;if(i===null)return null;var s=i[bt]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zu=!1;if(gn)try{var na={};Object.defineProperty(na,"passive",{get:function(){zu=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{zu=!1}var Bn=null,Lu=null,Ns=null;function Uh(){if(Ns)return Ns;var e,t=Lu,i=t.length,s,u="value"in Bn?Bn.value:Bn.textContent,c=u.length;for(e=0;e<i&&t[e]===u[e];e++);var m=i-e;for(s=1;s<=m&&t[i-s]===u[c-s];s++);return Ns=u.slice(e,1<s?1-s:void 0)}function As(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function Ih(){return!1}function Et(e){function t(i,s,u,c,m){this._reactName=i,this._targetInst=u,this.type=s,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?xs:Ih,this.isPropagationStopped=Ih,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),t}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=Et(pi),ia=v({},pi,{view:0,detail:0}),S0=Et(ia),Uu,Iu,la,ws=v({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==la&&(la&&e.type==="mousemove"?(Uu=e.screenX-la.screenX,Iu=e.screenY-la.screenY):Iu=Uu=0,la=e),Uu)},movementY:function(e){return"movementY"in e?e.movementY:Iu}}),Bh=Et(ws),C0=v({},ws,{dataTransfer:0}),T0=Et(C0),N0=v({},ia,{relatedTarget:0}),Bu=Et(N0),A0=v({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),x0=Et(A0),R0=v({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w0=Et(R0),M0=v({},pi,{data:0}),Hh=Et(M0),D0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=z0[e])?!!t[e]:!1}function Hu(){return L0}var U0=v({},ia,{key:function(e){if(e.key){var t=D0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?O0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),I0=Et(U0),B0=v({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jh=Et(B0),H0=v({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),j0=Et(H0),k0=v({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),q0=Et(k0),G0=v({},ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y0=Et(G0),V0=v({},pi,{newState:0,oldState:0}),Q0=Et(V0),X0=[9,13,27,32],ju=gn&&"CompositionEvent"in window,aa=null;gn&&"documentMode"in document&&(aa=document.documentMode);var F0=gn&&"TextEvent"in window&&!aa,kh=gn&&(!ju||aa&&8<aa&&11>=aa),qh=" ",Gh=!1;function Yh(e,t){switch(e){case"keyup":return X0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var el=!1;function K0(e,t){switch(e){case"compositionend":return Vh(t);case"keypress":return t.which!==32?null:(Gh=!0,qh);case"textInput":return e=t.data,e===qh&&Gh?null:e;default:return null}}function Z0(e,t){if(el)return e==="compositionend"||!ju&&Yh(e,t)?(e=Uh(),Ns=Lu=Bn=null,el=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kh&&t.locale!=="ko"?null:t.data;default:return null}}var J0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!J0[e.type]:t==="textarea"}function Xh(e,t,i,s){Pi?$i?$i.push(s):$i=[s]:Pi=s,t=yr(t,"onChange"),0<t.length&&(i=new Rs("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var sa=null,ra=null;function W0(e){Rg(e,0)}function Ms(e){var t=ea(e);if(xh(t))return e}function Fh(e,t){if(e==="change")return t}var Kh=!1;if(gn){var ku;if(gn){var qu="oninput"in document;if(!qu){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),qu=typeof Zh.oninput=="function"}ku=qu}else ku=!1;Kh=ku&&(!document.documentMode||9<document.documentMode)}function Jh(){sa&&(sa.detachEvent("onpropertychange",Wh),ra=sa=null)}function Wh(e){if(e.propertyName==="value"&&Ms(ra)){var t=[];Xh(t,ra,e,Du(e)),Lh(W0,t)}}function P0(e,t,i){e==="focusin"?(Jh(),sa=t,ra=i,sa.attachEvent("onpropertychange",Wh)):e==="focusout"&&Jh()}function $0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ms(ra)}function ev(e,t){if(e==="click")return Ms(t)}function tv(e,t){if(e==="input"||e==="change")return Ms(t)}function nv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:nv;function ua(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var u=i[s];if(!yu.call(t,u)||!Ot(e[u],t[u]))return!1}return!0}function Ph(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $h(e,t){var i=Ph(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ph(i)}}function ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function td(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Cs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Cs(e.document)}return t}function Gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var iv=gn&&"documentMode"in document&&11>=document.documentMode,tl=null,Yu=null,oa=null,Vu=!1;function nd(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Vu||tl==null||tl!==Cs(s)||(s=tl,"selectionStart"in s&&Gu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),oa&&ua(oa,s)||(oa=s,s=yr(Yu,"onSelect"),0<s.length&&(t=new Rs("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=tl)))}function yi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var nl={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionrun:yi("Transition","TransitionRun"),transitionstart:yi("Transition","TransitionStart"),transitioncancel:yi("Transition","TransitionCancel"),transitionend:yi("Transition","TransitionEnd")},Qu={},id={};gn&&(id=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function vi(e){if(Qu[e])return Qu[e];if(!nl[e])return e;var t=nl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in id)return Qu[e]=t[i];return e}var ld=vi("animationend"),ad=vi("animationiteration"),sd=vi("animationstart"),lv=vi("transitionrun"),av=vi("transitionstart"),sv=vi("transitioncancel"),rd=vi("transitionend"),ud=new Map,Xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xu.push("scrollEnd");function Wt(e,t){ud.set(e,t),_i(t,[e])}var Ds=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],il=0,Fu=0;function Os(){for(var e=il,t=Fu=il=0;t<e;){var i=Gt[t];Gt[t++]=null;var s=Gt[t];Gt[t++]=null;var u=Gt[t];Gt[t++]=null;var c=Gt[t];if(Gt[t++]=null,s!==null&&u!==null){var m=s.pending;m===null?u.next=u:(u.next=m.next,m.next=u),s.pending=u}c!==0&&od(i,u,c)}}function zs(e,t,i,s){Gt[il++]=e,Gt[il++]=t,Gt[il++]=i,Gt[il++]=s,Fu|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ku(e,t,i,s){return zs(e,t,i,s),Ls(e)}function bi(e,t){return zs(e,null,null,t),Ls(e)}function od(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var u=!1,c=e.return;c!==null;)c.childLanes|=i,s=c.alternate,s!==null&&(s.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(u=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,u&&t!==null&&(u=31-Dt(i),e=c.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=i|536870912),c):null}function Ls(e){if(50<Da)throw Da=0,lc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ll={};function rv(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,i,s){return new rv(e,t,i,s)}function Zu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _n(e,t){var i=e.alternate;return i===null?(i=zt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function cd(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Us(e,t,i,s,u,c){var m=0;if(s=e,typeof e=="function")Zu(e)&&(m=1);else if(typeof e=="string")m=h1(e,i,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case vt:return e=zt(31,i,t,u),e.elementType=vt,e.lanes=c,e;case B:return Ei(i.children,u,c,t);case k:m=8,u|=24;break;case $:return e=zt(12,i,t,u|2),e.elementType=$,e.lanes=c,e;case Be:return e=zt(13,i,t,u),e.elementType=Be,e.lanes=c,e;case Pe:return e=zt(19,i,t,u),e.elementType=Pe,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:m=10;break e;case ee:m=9;break e;case ce:m=11;break e;case ie:m=14;break e;case Fe:m=16,s=null;break e}m=29,i=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=zt(m,i,t,u),t.elementType=e,t.type=s,t.lanes=c,t}function Ei(e,t,i,s){return e=zt(7,e,s,t),e.lanes=i,e}function Ju(e,t,i){return e=zt(6,e,null,t),e.lanes=i,e}function fd(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function Wu(e,t,i){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var hd=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var i=hd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:fh(t)},hd.set(e,t),t)}return{value:e,source:t,stack:fh(t)}}var al=[],sl=0,Is=null,ca=0,Vt=[],Qt=0,Hn=null,rn=1,un="";function pn(e,t){al[sl++]=ca,al[sl++]=Is,Is=e,ca=t}function dd(e,t,i){Vt[Qt++]=rn,Vt[Qt++]=un,Vt[Qt++]=Hn,Hn=e;var s=rn;e=un;var u=32-Dt(s)-1;s&=~(1<<u),i+=1;var c=32-Dt(t)+u;if(30<c){var m=u-u%5;c=(s&(1<<m)-1).toString(32),s>>=m,u-=m,rn=1<<32-Dt(t)+u|i<<u|s,un=c+e}else rn=1<<c|i<<u|s,un=e}function Pu(e){e.return!==null&&(pn(e,1),dd(e,1,0))}function $u(e){for(;e===Is;)Is=al[--sl],al[sl]=null,ca=al[--sl],al[sl]=null;for(;e===Hn;)Hn=Vt[--Qt],Vt[Qt]=null,un=Vt[--Qt],Vt[Qt]=null,rn=Vt[--Qt],Vt[Qt]=null}function md(e,t){Vt[Qt++]=rn,Vt[Qt++]=un,Vt[Qt++]=Hn,rn=t.id,un=t.overflow,Hn=e}var ct=null,De=null,de=!1,jn=null,Xt=!1,eo=Error(r(519));function kn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fa(Yt(t,e)),eo}function gd(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[ot]=e,t[bt]=s,i){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(i=0;i<za.length;i++)ue(za[i],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),Rh(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),Mh(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||Og(t.textContent,i)?(s.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),s.onScroll!=null&&ue("scroll",t),s.onScrollEnd!=null&&ue("scrollend",t),s.onClick!=null&&(t.onclick=mn),t=!0):t=!1,t||kn(e,!0)}function _d(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:ct=ct.return}}function rl(e){if(e!==ct)return!1;if(!de)return _d(e),de=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||vc(e.type,e.memoizedProps)),i=!i),i&&De&&kn(e),_d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));De=qg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));De=qg(e)}else t===27?(t=De,ei(e.type)?(e=Tc,Tc=null,De=e):De=t):De=ct?Kt(e.stateNode.nextSibling):null;return!0}function Si(){De=ct=null,de=!1}function to(){var e=jn;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),jn=null),e}function fa(e){jn===null?jn=[e]:jn.push(e)}var no=C(null),Ci=null,yn=null;function qn(e,t,i){q(no,t._currentValue),t._currentValue=i}function vn(e){e._currentValue=no.current,I(no)}function io(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function lo(e,t,i,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var c=u.dependencies;if(c!==null){var m=u.child;c=c.firstContext;e:for(;c!==null;){var p=c;c=u;for(var E=0;E<t.length;E++)if(p.context===t[E]){c.lanes|=i,p=c.alternate,p!==null&&(p.lanes|=i),io(c.return,i,e),s||(m=null);break e}c=p.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(r(341));m.lanes|=i,c=m.alternate,c!==null&&(c.lanes|=i),io(m,i,e),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===e){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function ul(e,t,i,s){e=null;for(var u=t,c=!1;u!==null;){if(!c){if((u.flags&524288)!==0)c=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var p=u.type;Ot(u.pendingProps.value,m.value)||(e!==null?e.push(p):e=[p])}}else if(u===be.current){if(m=u.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ha):e=[Ha])}u=u.return}e!==null&&lo(t,e,i,s),t.flags|=262144}function Bs(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){Ci=e,yn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return pd(Ci,e)}function Hs(e,t){return Ci===null&&Ti(e),pd(e,t)}function pd(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},yn===null){if(e===null)throw Error(r(308));yn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yn=yn.next=t;return i}var uv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},ov=a.unstable_scheduleCallback,cv=a.unstable_NormalPriority,Ke={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ao(){return{controller:new uv,data:new Map,refCount:0}}function ha(e){e.refCount--,e.refCount===0&&ov(cv,function(){e.controller.abort()})}var da=null,so=0,ol=0,cl=null;function fv(e,t){if(da===null){var i=da=[];so=0,ol=cc(),cl={status:"pending",value:void 0,then:function(s){i.push(s)}}}return so++,t.then(yd,yd),t}function yd(){if(--so===0&&da!==null){cl!==null&&(cl.status="fulfilled");var e=da;da=null,ol=0,cl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hv(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),s}var vd=z.S;z.S=function(e,t){ng=wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&fv(e,t),vd!==null&&vd(e,t)};var Ni=C(null);function ro(){var e=Ni.current;return e!==null?e:xe.pooledCache}function js(e,t){t===null?q(Ni,Ni.current):q(Ni,t.pool)}function bd(){var e=ro();return e===null?null:{parent:Ke._currentValue,pool:e}}var fl=Error(r(460)),uo=Error(r(474)),ks=Error(r(542)),qs={then:function(){}};function Ed(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sd(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(mn,mn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e;default:if(typeof t.status=="string")t.then(mn,mn);else{if(e=xe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e}throw xi=t,fl}}function Ai(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(xi=i,fl):i}}var xi=null;function Cd(){if(xi===null)throw Error(r(459));var e=xi;return xi=null,e}function Td(e){if(e===fl||e===ks)throw Error(r(483))}var hl=null,ma=0;function Gs(e){var t=ma;return ma+=1,hl===null&&(hl=[]),Sd(hl,e,t)}function ga(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ys(e,t){throw t.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Nd(e){function t(T,S){if(e){var N=T.deletions;N===null?(T.deletions=[S],T.flags|=16):N.push(S)}}function i(T,S){if(!e)return null;for(;S!==null;)t(T,S),S=S.sibling;return null}function s(T){for(var S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function u(T,S){return T=_n(T,S),T.index=0,T.sibling=null,T}function c(T,S,N){return T.index=N,e?(N=T.alternate,N!==null?(N=N.index,N<S?(T.flags|=67108866,S):N):(T.flags|=67108866,S)):(T.flags|=1048576,S)}function m(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function p(T,S,N,L){return S===null||S.tag!==6?(S=Ju(N,T.mode,L),S.return=T,S):(S=u(S,N),S.return=T,S)}function E(T,S,N,L){var X=N.type;return X===B?O(T,S,N.props.children,L,N.key):S!==null&&(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Fe&&Ai(X)===S.type)?(S=u(S,N.props),ga(S,N),S.return=T,S):(S=Us(N.type,N.key,N.props,null,T.mode,L),ga(S,N),S.return=T,S)}function A(T,S,N,L){return S===null||S.tag!==4||S.stateNode.containerInfo!==N.containerInfo||S.stateNode.implementation!==N.implementation?(S=Wu(N,T.mode,L),S.return=T,S):(S=u(S,N.children||[]),S.return=T,S)}function O(T,S,N,L,X){return S===null||S.tag!==7?(S=Ei(N,T.mode,L,X),S.return=T,S):(S=u(S,N),S.return=T,S)}function U(T,S,N){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Ju(""+S,T.mode,N),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case x:return N=Us(S.type,S.key,S.props,null,T.mode,N),ga(N,S),N.return=T,N;case w:return S=Wu(S,T.mode,N),S.return=T,S;case Fe:return S=Ai(S),U(T,S,N)}if(Ge(S)||mt(S))return S=Ei(S,T.mode,N,null),S.return=T,S;if(typeof S.then=="function")return U(T,Gs(S),N);if(S.$$typeof===V)return U(T,Hs(T,S),N);Ys(T,S)}return null}function R(T,S,N,L){var X=S!==null?S.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return X!==null?null:p(T,S,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case x:return N.key===X?E(T,S,N,L):null;case w:return N.key===X?A(T,S,N,L):null;case Fe:return N=Ai(N),R(T,S,N,L)}if(Ge(N)||mt(N))return X!==null?null:O(T,S,N,L,null);if(typeof N.then=="function")return R(T,S,Gs(N),L);if(N.$$typeof===V)return R(T,S,Hs(T,N),L);Ys(T,N)}return null}function M(T,S,N,L,X){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return T=T.get(N)||null,p(S,T,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return T=T.get(L.key===null?N:L.key)||null,E(S,T,L,X);case w:return T=T.get(L.key===null?N:L.key)||null,A(S,T,L,X);case Fe:return L=Ai(L),M(T,S,N,L,X)}if(Ge(L)||mt(L))return T=T.get(N)||null,O(S,T,L,X,null);if(typeof L.then=="function")return M(T,S,N,Gs(L),X);if(L.$$typeof===V)return M(T,S,N,Hs(S,L),X);Ys(S,L)}return null}function G(T,S,N,L){for(var X=null,me=null,Q=S,te=S=0,he=null;Q!==null&&te<N.length;te++){Q.index>te?(he=Q,Q=null):he=Q.sibling;var ge=R(T,Q,N[te],L);if(ge===null){Q===null&&(Q=he);break}e&&Q&&ge.alternate===null&&t(T,Q),S=c(ge,S,te),me===null?X=ge:me.sibling=ge,me=ge,Q=he}if(te===N.length)return i(T,Q),de&&pn(T,te),X;if(Q===null){for(;te<N.length;te++)Q=U(T,N[te],L),Q!==null&&(S=c(Q,S,te),me===null?X=Q:me.sibling=Q,me=Q);return de&&pn(T,te),X}for(Q=s(Q);te<N.length;te++)he=M(Q,T,te,N[te],L),he!==null&&(e&&he.alternate!==null&&Q.delete(he.key===null?te:he.key),S=c(he,S,te),me===null?X=he:me.sibling=he,me=he);return e&&Q.forEach(function(ai){return t(T,ai)}),de&&pn(T,te),X}function K(T,S,N,L){if(N==null)throw Error(r(151));for(var X=null,me=null,Q=S,te=S=0,he=null,ge=N.next();Q!==null&&!ge.done;te++,ge=N.next()){Q.index>te?(he=Q,Q=null):he=Q.sibling;var ai=R(T,Q,ge.value,L);if(ai===null){Q===null&&(Q=he);break}e&&Q&&ai.alternate===null&&t(T,Q),S=c(ai,S,te),me===null?X=ai:me.sibling=ai,me=ai,Q=he}if(ge.done)return i(T,Q),de&&pn(T,te),X;if(Q===null){for(;!ge.done;te++,ge=N.next())ge=U(T,ge.value,L),ge!==null&&(S=c(ge,S,te),me===null?X=ge:me.sibling=ge,me=ge);return de&&pn(T,te),X}for(Q=s(Q);!ge.done;te++,ge=N.next())ge=M(Q,T,te,ge.value,L),ge!==null&&(e&&ge.alternate!==null&&Q.delete(ge.key===null?te:ge.key),S=c(ge,S,te),me===null?X=ge:me.sibling=ge,me=ge);return e&&Q.forEach(function(C1){return t(T,C1)}),de&&pn(T,te),X}function Ae(T,S,N,L){if(typeof N=="object"&&N!==null&&N.type===B&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case x:e:{for(var X=N.key;S!==null;){if(S.key===X){if(X=N.type,X===B){if(S.tag===7){i(T,S.sibling),L=u(S,N.props.children),L.return=T,T=L;break e}}else if(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Fe&&Ai(X)===S.type){i(T,S.sibling),L=u(S,N.props),ga(L,N),L.return=T,T=L;break e}i(T,S);break}else t(T,S);S=S.sibling}N.type===B?(L=Ei(N.props.children,T.mode,L,N.key),L.return=T,T=L):(L=Us(N.type,N.key,N.props,null,T.mode,L),ga(L,N),L.return=T,T=L)}return m(T);case w:e:{for(X=N.key;S!==null;){if(S.key===X)if(S.tag===4&&S.stateNode.containerInfo===N.containerInfo&&S.stateNode.implementation===N.implementation){i(T,S.sibling),L=u(S,N.children||[]),L.return=T,T=L;break e}else{i(T,S);break}else t(T,S);S=S.sibling}L=Wu(N,T.mode,L),L.return=T,T=L}return m(T);case Fe:return N=Ai(N),Ae(T,S,N,L)}if(Ge(N))return G(T,S,N,L);if(mt(N)){if(X=mt(N),typeof X!="function")throw Error(r(150));return N=X.call(N),K(T,S,N,L)}if(typeof N.then=="function")return Ae(T,S,Gs(N),L);if(N.$$typeof===V)return Ae(T,S,Hs(T,N),L);Ys(T,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,S!==null&&S.tag===6?(i(T,S.sibling),L=u(S,N),L.return=T,T=L):(i(T,S),L=Ju(N,T.mode,L),L.return=T,T=L),m(T)):i(T,S)}return function(T,S,N,L){try{ma=0;var X=Ae(T,S,N,L);return hl=null,X}catch(Q){if(Q===fl||Q===ks)throw Q;var me=zt(29,Q,null,T.mode);return me.lanes=L,me.return=T,me}}}var Ri=Nd(!0),Ad=Nd(!1),Gn=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(pe&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=Ls(e),od(e,null,i),t}return zs(e,s,t,i),Ls(e)}function _a(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,ph(e,i)}}function fo(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var u=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var m={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?u=c=m:c=c.next=m,i=i.next}while(i!==null);c===null?u=c=t:c=c.next=t}else u=c=t;i={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var ho=!1;function pa(){if(ho){var e=cl;if(e!==null)throw e}}function ya(e,t,i,s){ho=!1;var u=e.updateQueue;Gn=!1;var c=u.firstBaseUpdate,m=u.lastBaseUpdate,p=u.shared.pending;if(p!==null){u.shared.pending=null;var E=p,A=E.next;E.next=null,m===null?c=A:m.next=A,m=E;var O=e.alternate;O!==null&&(O=O.updateQueue,p=O.lastBaseUpdate,p!==m&&(p===null?O.firstBaseUpdate=A:p.next=A,O.lastBaseUpdate=E))}if(c!==null){var U=u.baseState;m=0,O=A=E=null,p=c;do{var R=p.lane&-536870913,M=R!==p.lane;if(M?(fe&R)===R:(s&R)===R){R!==0&&R===ol&&(ho=!0),O!==null&&(O=O.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var G=e,K=p;R=t;var Ae=i;switch(K.tag){case 1:if(G=K.payload,typeof G=="function"){U=G.call(Ae,U,R);break e}U=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=K.payload,R=typeof G=="function"?G.call(Ae,U,R):G,R==null)break e;U=v({},U,R);break e;case 2:Gn=!0}}R=p.callback,R!==null&&(e.flags|=64,M&&(e.flags|=8192),M=u.callbacks,M===null?u.callbacks=[R]:M.push(R))}else M={lane:R,tag:p.tag,payload:p.payload,callback:p.callback,next:null},O===null?(A=O=M,E=U):O=O.next=M,m|=R;if(p=p.next,p===null){if(p=u.shared.pending,p===null)break;M=p,p=M.next,M.next=null,u.lastBaseUpdate=M,u.shared.pending=null}}while(!0);O===null&&(E=U),u.baseState=E,u.firstBaseUpdate=A,u.lastBaseUpdate=O,c===null&&(u.shared.lanes=0),Zn|=m,e.lanes=m,e.memoizedState=U}}function xd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Rd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)xd(i[e],t)}var dl=C(null),Vs=C(0);function wd(e,t){e=Rn,q(Vs,e),q(dl,t),Rn=e|t.baseLanes}function mo(){q(Vs,Rn),q(dl,dl.current)}function go(){Rn=Vs.current,I(dl),I(Vs)}var Lt=C(null),Ft=null;function Qn(e){var t=e.alternate;q(Ve,Ve.current&1),q(Lt,e),Ft===null&&(t===null||dl.current!==null||t.memoizedState!==null)&&(Ft=e)}function _o(e){q(Ve,Ve.current),q(Lt,e),Ft===null&&(Ft=e)}function Md(e){e.tag===22?(q(Ve,Ve.current),q(Lt,e),Ft===null&&(Ft=e)):Xn()}function Xn(){q(Ve,Ve.current),q(Lt,Lt.current)}function Ut(e){I(Lt),Ft===e&&(Ft=null),I(Ve)}var Ve=C(0);function Qs(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Sc(i)||Cc(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bn=0,P=null,Te=null,Ze=null,Xs=!1,ml=!1,wi=!1,Fs=0,va=0,gl=null,dv=0;function je(){throw Error(r(321))}function po(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ot(e[i],t[i]))return!1;return!0}function yo(e,t,i,s,u,c){return bn=c,P=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?dm:zo,wi=!1,c=i(s,u),wi=!1,ml&&(c=Od(t,i,s,u)),Dd(e),c}function Dd(e){z.H=Sa;var t=Te!==null&&Te.next!==null;if(bn=0,Ze=Te=P=null,Xs=!1,va=0,gl=null,t)throw Error(r(300));e===null||Je||(e=e.dependencies,e!==null&&Bs(e)&&(Je=!0))}function Od(e,t,i,s){P=e;var u=0;do{if(ml&&(gl=null),va=0,ml=!1,25<=u)throw Error(r(301));if(u+=1,Ze=Te=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}z.H=mm,c=t(i,s)}while(ml);return c}function mv(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?ba(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(P.flags|=1024),t}function vo(){var e=Fs!==0;return Fs=0,e}function bo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Eo(e){if(Xs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Xs=!1}bn=0,Ze=Te=P=null,ml=!1,va=Fs=0,gl=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?P.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Qe(){if(Te===null){var e=P.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ze===null?P.memoizedState:Ze.next;if(t!==null)Ze=t,Te=e;else{if(e===null)throw P.alternate===null?Error(r(467)):Error(r(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ze===null?P.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Ks(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ba(e){var t=va;return va+=1,gl===null&&(gl=[]),e=Sd(gl,e,t),t=P,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?dm:zo),e}function Zs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ba(e);if(e.$$typeof===V)return ft(e)}throw Error(r(438,String(e)))}function So(e){var t=null,i=P.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=P.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Ks(),P.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=an;return t.index++,i}function En(e,t){return typeof t=="function"?t(e):t}function Js(e){var t=Qe();return Co(t,Te,e)}function Co(e,t,i){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var u=e.baseQueue,c=s.pending;if(c!==null){if(u!==null){var m=u.next;u.next=c.next,c.next=m}t.baseQueue=u=c,s.pending=null}if(c=e.baseState,u===null)e.memoizedState=c;else{t=u.next;var p=m=null,E=null,A=t,O=!1;do{var U=A.lane&-536870913;if(U!==A.lane?(fe&U)===U:(bn&U)===U){var R=A.revertLane;if(R===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),U===ol&&(O=!0);else if((bn&R)===R){A=A.next,R===ol&&(O=!0);continue}else U={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},E===null?(p=E=U,m=c):E=E.next=U,P.lanes|=R,Zn|=R;U=A.action,wi&&i(c,U),c=A.hasEagerState?A.eagerState:i(c,U)}else R={lane:U,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},E===null?(p=E=R,m=c):E=E.next=R,P.lanes|=U,Zn|=U;A=A.next}while(A!==null&&A!==t);if(E===null?m=c:E.next=p,!Ot(c,e.memoizedState)&&(Je=!0,O&&(i=cl,i!==null)))throw i;e.memoizedState=c,e.baseState=m,e.baseQueue=E,s.lastRenderedState=c}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function To(e){var t=Qe(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var s=i.dispatch,u=i.pending,c=t.memoizedState;if(u!==null){i.pending=null;var m=u=u.next;do c=e(c,m.action),m=m.next;while(m!==u);Ot(c,t.memoizedState)||(Je=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,s]}function zd(e,t,i){var s=P,u=Qe(),c=de;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var m=!Ot((Te||u).memoizedState,i);if(m&&(u.memoizedState=i,Je=!0),u=u.queue,xo(Id.bind(null,s,u,e),[e]),u.getSnapshot!==t||m||Ze!==null&&Ze.memoizedState.tag&1){if(s.flags|=2048,_l(9,{destroy:void 0},Ud.bind(null,s,u,i,t),null),xe===null)throw Error(r(349));c||(bn&127)!==0||Ld(s,t,i)}return i}function Ld(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=P.updateQueue,t===null?(t=Ks(),P.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Ud(e,t,i,s){t.value=i,t.getSnapshot=s,Bd(t)&&Hd(e)}function Id(e,t,i){return i(function(){Bd(t)&&Hd(e)})}function Bd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ot(e,i)}catch{return!0}}function Hd(e){var t=bi(e,2);t!==null&&At(t,e,2)}function No(e){var t=pt();if(typeof e=="function"){var i=e;if(e=i(),wi){Un(!0);try{i()}finally{Un(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:e},t}function jd(e,t,i,s){return e.baseState=i,Co(e,Te,typeof s=="function"?s:En)}function gv(e,t,i,s,u){if($s(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};z.T!==null?i(!0):c.isTransition=!1,s(c),i=t.pending,i===null?(c.next=t.pending=c,kd(t,c)):(c.next=i.next,t.pending=i.next=c)}}function kd(e,t){var i=t.action,s=t.payload,u=e.state;if(t.isTransition){var c=z.T,m={};z.T=m;try{var p=i(u,s),E=z.S;E!==null&&E(m,p),qd(e,t,p)}catch(A){Ao(e,t,A)}finally{c!==null&&m.types!==null&&(c.types=m.types),z.T=c}}else try{c=i(u,s),qd(e,t,c)}catch(A){Ao(e,t,A)}}function qd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Gd(e,t,s)},function(s){return Ao(e,t,s)}):Gd(e,t,i)}function Gd(e,t,i){t.status="fulfilled",t.value=i,Yd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,kd(e,i)))}function Ao(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,Yd(t),t=t.next;while(t!==s)}e.action=null}function Yd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vd(e,t){return t}function Qd(e,t){if(de){var i=xe.formState;if(i!==null){e:{var s=P;if(de){if(De){t:{for(var u=De,c=Xt;u.nodeType!==8;){if(!c){u=null;break t}if(u=Kt(u.nextSibling),u===null){u=null;break t}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){De=Kt(u.nextSibling),s=u.data==="F!";break e}}kn(s)}s=!1}s&&(t=i[0])}}return i=pt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:t},i.queue=s,i=cm.bind(null,P,s),s.dispatch=i,s=No(!1),c=Oo.bind(null,P,!1,s.queue),s=pt(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,i=gv.bind(null,P,u,c,i),u.dispatch=i,s.memoizedState=e,[t,i,!1]}function Xd(e){var t=Qe();return Fd(t,Te,e)}function Fd(e,t,i){if(t=Co(e,t,Vd)[0],e=Js(En)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ba(t)}catch(m){throw m===fl?ks:m}else s=t;t=Qe();var u=t.queue,c=u.dispatch;return i!==t.memoizedState&&(P.flags|=2048,_l(9,{destroy:void 0},_v.bind(null,u,i),null)),[s,c,e]}function _v(e,t){e.action=t}function Kd(e){var t=Qe(),i=Te;if(i!==null)return Fd(t,i,e);Qe(),t=t.memoizedState,i=Qe();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function _l(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=P.updateQueue,t===null&&(t=Ks(),P.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function Zd(){return Qe().memoizedState}function Ws(e,t,i,s){var u=pt();P.flags|=e,u.memoizedState=_l(1|t,{destroy:void 0},i,s===void 0?null:s)}function Ps(e,t,i,s){var u=Qe();s=s===void 0?null:s;var c=u.memoizedState.inst;Te!==null&&s!==null&&po(s,Te.memoizedState.deps)?u.memoizedState=_l(t,c,i,s):(P.flags|=e,u.memoizedState=_l(1|t,c,i,s))}function Jd(e,t){Ws(8390656,8,e,t)}function xo(e,t){Ps(2048,8,e,t)}function pv(e){P.flags|=4;var t=P.updateQueue;if(t===null)t=Ks(),P.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Wd(e){var t=Qe().memoizedState;return pv({ref:t,nextImpl:e}),function(){if((pe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Pd(e,t){return Ps(4,2,e,t)}function $d(e,t){return Ps(4,4,e,t)}function em(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tm(e,t,i){i=i!=null?i.concat([e]):null,Ps(4,4,em.bind(null,t,e),i)}function Ro(){}function nm(e,t){var i=Qe();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&po(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function im(e,t){var i=Qe();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&po(t,s[1]))return s[0];if(s=e(),wi){Un(!0);try{e()}finally{Un(!1)}}return i.memoizedState=[s,t],s}function wo(e,t,i){return i===void 0||(bn&1073741824)!==0&&(fe&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=lg(),P.lanes|=e,Zn|=e,i)}function lm(e,t,i,s){return Ot(i,t)?i:dl.current!==null?(e=wo(e,i,s),Ot(e,t)||(Je=!0),e):(bn&42)===0||(bn&1073741824)!==0&&(fe&261930)===0?(Je=!0,e.memoizedState=i):(e=lg(),P.lanes|=e,Zn|=e,t)}function am(e,t,i,s,u){var c=j.p;j.p=c!==0&&8>c?c:8;var m=z.T,p={};z.T=p,Oo(e,!1,t,i);try{var E=u(),A=z.S;if(A!==null&&A(p,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var O=hv(E,s);Ea(e,t,O,Ht(e))}else Ea(e,t,s,Ht(e))}catch(U){Ea(e,t,{then:function(){},status:"rejected",reason:U},Ht())}finally{j.p=c,m!==null&&p.types!==null&&(m.types=p.types),z.T=m}}function yv(){}function Mo(e,t,i,s){if(e.tag!==5)throw Error(r(476));var u=sm(e).queue;am(e,u,t,F,i===null?yv:function(){return rm(e),i(s)})}function sm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:F},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rm(e){var t=sm(e);t.next===null&&(t=e.alternate.memoizedState),Ea(e,t.next.queue,{},Ht())}function Do(){return ft(Ha)}function um(){return Qe().memoizedState}function om(){return Qe().memoizedState}function vv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Ht();e=Yn(i);var s=Vn(t,e,i);s!==null&&(At(s,t,i),_a(s,t,i)),t={cache:ao()},e.payload=t;return}t=t.return}}function bv(e,t,i){var s=Ht();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},$s(e)?fm(t,i):(i=Ku(e,t,i,s),i!==null&&(At(i,e,s),hm(i,t,s)))}function cm(e,t,i){var s=Ht();Ea(e,t,i,s)}function Ea(e,t,i,s){var u={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if($s(e))fm(t,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,p=c(m,i);if(u.hasEagerState=!0,u.eagerState=p,Ot(p,m))return zs(e,t,u,0),xe===null&&Os(),!1}catch{}if(i=Ku(e,t,u,s),i!==null)return At(i,e,s),hm(i,t,s),!0}return!1}function Oo(e,t,i,s){if(s={lane:2,revertLane:cc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$s(e)){if(t)throw Error(r(479))}else t=Ku(e,i,s,2),t!==null&&At(t,e,2)}function $s(e){var t=e.alternate;return e===P||t!==null&&t===P}function fm(e,t){ml=Xs=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function hm(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,ph(e,i)}}var Sa={readContext:ft,use:Zs,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};Sa.useEffectEvent=je;var dm={readContext:ft,use:Zs,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Jd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Ws(4194308,4,em.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){Ws(4,2,e,t)},useMemo:function(e,t){var i=pt();t=t===void 0?null:t;var s=e();if(wi){Un(!0);try{e()}finally{Un(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=pt();if(i!==void 0){var u=i(t);if(wi){Un(!0);try{i(t)}finally{Un(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=bv.bind(null,P,e),[s.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=No(e);var t=e.queue,i=cm.bind(null,P,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Ro,useDeferredValue:function(e,t){var i=pt();return wo(i,e,t)},useTransition:function(){var e=No(!1);return e=am.bind(null,P,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=P,u=pt();if(de){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),xe===null)throw Error(r(349));(fe&127)!==0||Ld(s,t,i)}u.memoizedState=i;var c={value:i,getSnapshot:t};return u.queue=c,Jd(Id.bind(null,s,c,e),[e]),s.flags|=2048,_l(9,{destroy:void 0},Ud.bind(null,s,c,i,t),null),i},useId:function(){var e=pt(),t=xe.identifierPrefix;if(de){var i=un,s=rn;i=(s&~(1<<32-Dt(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Fs++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=dv++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:Qd,useActionState:Qd,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Oo.bind(null,P,!0,i),i.dispatch=t,[e,t]},useMemoCache:So,useCacheRefresh:function(){return pt().memoizedState=vv.bind(null,P)},useEffectEvent:function(e){var t=pt(),i={impl:e};return t.memoizedState=i,function(){if((pe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},zo={readContext:ft,use:Zs,useCallback:nm,useContext:ft,useEffect:xo,useImperativeHandle:tm,useInsertionEffect:Pd,useLayoutEffect:$d,useMemo:im,useReducer:Js,useRef:Zd,useState:function(){return Js(En)},useDebugValue:Ro,useDeferredValue:function(e,t){var i=Qe();return lm(i,Te.memoizedState,e,t)},useTransition:function(){var e=Js(En)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:ba(e),t]},useSyncExternalStore:zd,useId:um,useHostTransitionStatus:Do,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,t){var i=Qe();return jd(i,Te,e,t)},useMemoCache:So,useCacheRefresh:om};zo.useEffectEvent=Wd;var mm={readContext:ft,use:Zs,useCallback:nm,useContext:ft,useEffect:xo,useImperativeHandle:tm,useInsertionEffect:Pd,useLayoutEffect:$d,useMemo:im,useReducer:To,useRef:Zd,useState:function(){return To(En)},useDebugValue:Ro,useDeferredValue:function(e,t){var i=Qe();return Te===null?wo(i,e,t):lm(i,Te.memoizedState,e,t)},useTransition:function(){var e=To(En)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:ba(e),t]},useSyncExternalStore:zd,useId:um,useHostTransitionStatus:Do,useFormState:Kd,useActionState:Kd,useOptimistic:function(e,t){var i=Qe();return Te!==null?jd(i,Te,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:So,useCacheRefresh:om};mm.useEffectEvent=Wd;function Lo(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Uo={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Ht(),u=Yn(s);u.payload=t,i!=null&&(u.callback=i),t=Vn(e,u,s),t!==null&&(At(t,e,s),_a(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Ht(),u=Yn(s);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=Vn(e,u,s),t!==null&&(At(t,e,s),_a(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ht(),s=Yn(i);s.tag=2,t!=null&&(s.callback=t),t=Vn(e,s,i),t!==null&&(At(t,e,i),_a(t,e,i))}};function gm(e,t,i,s,u,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,m):t.prototype&&t.prototype.isPureReactComponent?!ua(i,s)||!ua(u,c):!0}function _m(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Mi(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function pm(e){Ds(e)}function ym(e){console.error(e)}function vm(e){Ds(e)}function er(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function bm(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Io(e,t,i){return i=Yn(i),i.tag=3,i.payload={element:null},i.callback=function(){er(e,t)},i}function Em(e){return e=Yn(e),e.tag=3,e}function Sm(e,t,i,s){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var c=s.value;e.payload=function(){return u(c)},e.callback=function(){bm(t,i,s)}}var m=i.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){bm(t,i,s),typeof u!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var p=s.stack;this.componentDidCatch(s.value,{componentStack:p!==null?p:""})})}function Ev(e,t,i,s,u){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&ul(t,i,u,!0),i=Lt.current,i!==null){switch(i.tag){case 31:case 13:return Ft===null?hr():i.alternate===null&&ke===0&&(ke=3),i.flags&=-257,i.flags|=65536,i.lanes=u,s===qs?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),rc(e,s,u)),!1;case 22:return i.flags|=65536,s===qs?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),rc(e,s,u)),!1}throw Error(r(435,i.tag))}return rc(e,s,u),hr(),!1}if(de)return t=Lt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==eo&&(e=Error(r(422),{cause:s}),fa(Yt(e,i)))):(s!==eo&&(t=Error(r(423),{cause:s}),fa(Yt(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=Yt(s,i),u=Io(e.stateNode,s,u),fo(e,u),ke!==4&&(ke=2)),!1;var c=Error(r(520),{cause:s});if(c=Yt(c,i),Ma===null?Ma=[c]:Ma.push(c),ke!==4&&(ke=2),t===null)return!0;s=Yt(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=Io(i.stateNode,s,e),fo(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Jn===null||!Jn.has(c))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Em(u),Sm(u,e,i,s),fo(i,u),!1}i=i.return}while(i!==null);return!1}var Bo=Error(r(461)),Je=!1;function ht(e,t,i,s){t.child=e===null?Ad(t,null,i,s):Ri(t,e.child,i,s)}function Cm(e,t,i,s,u){i=i.render;var c=t.ref;if("ref"in s){var m={};for(var p in s)p!=="ref"&&(m[p]=s[p])}else m=s;return Ti(t),s=yo(e,t,i,m,c,u),p=vo(),e!==null&&!Je?(bo(e,t,u),Sn(e,t,u)):(de&&p&&Pu(t),t.flags|=1,ht(e,t,s,u),t.child)}function Tm(e,t,i,s,u){if(e===null){var c=i.type;return typeof c=="function"&&!Zu(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,Nm(e,t,c,s,u)):(e=Us(i.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Qo(e,u)){var m=c.memoizedProps;if(i=i.compare,i=i!==null?i:ua,i(m,s)&&e.ref===t.ref)return Sn(e,t,u)}return t.flags|=1,e=_n(c,s),e.ref=t.ref,e.return=t,t.child=e}function Nm(e,t,i,s,u){if(e!==null){var c=e.memoizedProps;if(ua(c,s)&&e.ref===t.ref)if(Je=!1,t.pendingProps=s=c,Qo(e,u))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,Sn(e,t,u)}return Ho(e,t,i,s,u)}function Am(e,t,i,s){var u=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|i:i,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~c}else s=0,t.child=null;return xm(e,t,c,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&js(t,c!==null?c.cachePool:null),c!==null?wd(t,c):mo(),Md(t);else return s=t.lanes=536870912,xm(e,t,c!==null?c.baseLanes|i:i,i,s)}else c!==null?(js(t,c.cachePool),wd(t,c),Xn(),t.memoizedState=null):(e!==null&&js(t,null),mo(),Xn());return ht(e,t,u,i),t.child}function Ca(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function xm(e,t,i,s,u){var c=ro();return c=c===null?null:{parent:Ke._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&js(t,null),mo(),Md(t),e!==null&&ul(e,t,s,!0),t.childLanes=u,null}function tr(e,t){return t=ir({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Rm(e,t,i){return Ri(t,e.child,null,i),e=tr(t,t.pendingProps),e.flags|=2,Ut(t),t.memoizedState=null,e}function Sv(e,t,i){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(de){if(s.mode==="hidden")return e=tr(t,s),t.lanes=536870912,Ca(null,e);if(_o(t),(e=De)?(e=kg(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:rn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},i=fd(e),i.return=t,t.child=i,ct=t,De=null)):e=null,e===null)throw kn(t);return t.lanes=536870912,null}return tr(t,s)}var c=e.memoizedState;if(c!==null){var m=c.dehydrated;if(_o(t),u)if(t.flags&256)t.flags&=-257,t=Rm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Je||ul(e,t,i,!1),u=(i&e.childLanes)!==0,Je||u){if(s=xe,s!==null&&(m=yh(s,i),m!==0&&m!==c.retryLane))throw c.retryLane=m,bi(e,m),At(s,e,m),Bo;hr(),t=Rm(e,t,i)}else e=c.treeContext,De=Kt(m.nextSibling),ct=t,de=!0,jn=null,Xt=!1,e!==null&&md(t,e),t=tr(t,s),t.flags|=4096;return t}return e=_n(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function nr(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Ho(e,t,i,s,u){return Ti(t),i=yo(e,t,i,s,void 0,u),s=vo(),e!==null&&!Je?(bo(e,t,u),Sn(e,t,u)):(de&&s&&Pu(t),t.flags|=1,ht(e,t,i,u),t.child)}function wm(e,t,i,s,u,c){return Ti(t),t.updateQueue=null,i=Od(t,s,i,u),Dd(e),s=vo(),e!==null&&!Je?(bo(e,t,c),Sn(e,t,c)):(de&&s&&Pu(t),t.flags|=1,ht(e,t,i,c),t.child)}function Mm(e,t,i,s,u){if(Ti(t),t.stateNode===null){var c=ll,m=i.contextType;typeof m=="object"&&m!==null&&(c=ft(m)),c=new i(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Uo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},oo(t),m=i.contextType,c.context=typeof m=="object"&&m!==null?ft(m):ll,c.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Lo(t,i,m,s),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&Uo.enqueueReplaceState(c,c.state,null),ya(t,s,c,u),pa(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var p=t.memoizedProps,E=Mi(i,p);c.props=E;var A=c.context,O=i.contextType;m=ll,typeof O=="object"&&O!==null&&(m=ft(O));var U=i.getDerivedStateFromProps;O=typeof U=="function"||typeof c.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,O||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p||A!==m)&&_m(t,c,s,m),Gn=!1;var R=t.memoizedState;c.state=R,ya(t,s,c,u),pa(),A=t.memoizedState,p||R!==A||Gn?(typeof U=="function"&&(Lo(t,i,U,s),A=t.memoizedState),(E=Gn||gm(t,i,E,s,R,A,m))?(O||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=A),c.props=s,c.state=A,c.context=m,s=E):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,co(e,t),m=t.memoizedProps,O=Mi(i,m),c.props=O,U=t.pendingProps,R=c.context,A=i.contextType,E=ll,typeof A=="object"&&A!==null&&(E=ft(A)),p=i.getDerivedStateFromProps,(A=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==U||R!==E)&&_m(t,c,s,E),Gn=!1,R=t.memoizedState,c.state=R,ya(t,s,c,u),pa();var M=t.memoizedState;m!==U||R!==M||Gn||e!==null&&e.dependencies!==null&&Bs(e.dependencies)?(typeof p=="function"&&(Lo(t,i,p,s),M=t.memoizedState),(O=Gn||gm(t,i,O,s,R,M,E)||e!==null&&e.dependencies!==null&&Bs(e.dependencies))?(A||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,M,E),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,M,E)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=M),c.props=s,c.state=M,c.context=E,s=O):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,nr(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=Ri(t,e.child,null,u),t.child=Ri(t,null,i,u)):ht(e,t,i,u),t.memoizedState=c.state,e=t.child):e=Sn(e,t,u),e}function Dm(e,t,i,s){return Si(),t.flags|=256,ht(e,t,i,s),t.child}var jo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ko(e){return{baseLanes:e,cachePool:bd()}}function qo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Bt),e}function Om(e,t,i){var s=t.pendingProps,u=!1,c=(t.flags&128)!==0,m;if((m=c)||(m=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),m&&(u=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(de){if(u?Qn(t):Xn(),(e=De)?(e=kg(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:rn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},i=fd(e),i.return=t,t.child=i,ct=t,De=null)):e=null,e===null)throw kn(t);return Cc(e)?t.lanes=32:t.lanes=536870912,null}var p=s.children;return s=s.fallback,u?(Xn(),u=t.mode,p=ir({mode:"hidden",children:p},u),s=Ei(s,u,i,null),p.return=t,s.return=t,p.sibling=s,t.child=p,s=t.child,s.memoizedState=ko(i),s.childLanes=qo(e,m,i),t.memoizedState=jo,Ca(null,s)):(Qn(t),Go(t,p))}var E=e.memoizedState;if(E!==null&&(p=E.dehydrated,p!==null)){if(c)t.flags&256?(Qn(t),t.flags&=-257,t=Yo(e,t,i)):t.memoizedState!==null?(Xn(),t.child=e.child,t.flags|=128,t=null):(Xn(),p=s.fallback,u=t.mode,s=ir({mode:"visible",children:s.children},u),p=Ei(p,u,i,null),p.flags|=2,s.return=t,p.return=t,s.sibling=p,t.child=s,Ri(t,e.child,null,i),s=t.child,s.memoizedState=ko(i),s.childLanes=qo(e,m,i),t.memoizedState=jo,t=Ca(null,s));else if(Qn(t),Cc(p)){if(m=p.nextSibling&&p.nextSibling.dataset,m)var A=m.dgst;m=A,s=Error(r(419)),s.stack="",s.digest=m,fa({value:s,source:null,stack:null}),t=Yo(e,t,i)}else if(Je||ul(e,t,i,!1),m=(i&e.childLanes)!==0,Je||m){if(m=xe,m!==null&&(s=yh(m,i),s!==0&&s!==E.retryLane))throw E.retryLane=s,bi(e,s),At(m,e,s),Bo;Sc(p)||hr(),t=Yo(e,t,i)}else Sc(p)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,De=Kt(p.nextSibling),ct=t,de=!0,jn=null,Xt=!1,e!==null&&md(t,e),t=Go(t,s.children),t.flags|=4096);return t}return u?(Xn(),p=s.fallback,u=t.mode,E=e.child,A=E.sibling,s=_n(E,{mode:"hidden",children:s.children}),s.subtreeFlags=E.subtreeFlags&65011712,A!==null?p=_n(A,p):(p=Ei(p,u,i,null),p.flags|=2),p.return=t,s.return=t,s.sibling=p,t.child=s,Ca(null,s),s=t.child,p=e.child.memoizedState,p===null?p=ko(i):(u=p.cachePool,u!==null?(E=Ke._currentValue,u=u.parent!==E?{parent:E,pool:E}:u):u=bd(),p={baseLanes:p.baseLanes|i,cachePool:u}),s.memoizedState=p,s.childLanes=qo(e,m,i),t.memoizedState=jo,Ca(e.child,s)):(Qn(t),i=e.child,e=i.sibling,i=_n(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=i,t.memoizedState=null,i)}function Go(e,t){return t=ir({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ir(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function Yo(e,t,i){return Ri(t,e.child,null,i),e=Go(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zm(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),io(e.return,t,i)}function Vo(e,t,i,s,u,c){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:u,treeForkCount:c}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=i,m.tailMode=u,m.treeForkCount=c)}function Lm(e,t,i){var s=t.pendingProps,u=s.revealOrder,c=s.tail;s=s.children;var m=Ve.current,p=(m&2)!==0;if(p?(m=m&1|2,t.flags|=128):m&=1,q(Ve,m),ht(e,t,s,i),s=de?ca:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zm(e,i,t);else if(e.tag===19)zm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&Qs(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),Vo(t,!1,u,i,c,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Qs(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Vo(t,!0,i,null,c,s);break;case"together":Vo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Sn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ul(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=_n(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=_n(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Qo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Bs(e)))}function Cv(e,t,i){switch(t.tag){case 3:_t(t,t.stateNode.containerInfo),qn(t,Ke,e.memoizedState.cache),Si();break;case 27:case 5:Zl(t);break;case 4:_t(t,t.stateNode.containerInfo);break;case 10:qn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,_o(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Qn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Om(e,t,i):(Qn(t),e=Sn(e,t,i),e!==null?e.sibling:null);Qn(t);break;case 19:var u=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(ul(e,t,i,!1),s=(i&t.childLanes)!==0),u){if(s)return Lm(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),q(Ve,Ve.current),s)break;return null;case 22:return t.lanes=0,Am(e,t,i,t.pendingProps);case 24:qn(t,Ke,e.memoizedState.cache)}return Sn(e,t,i)}function Um(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!Qo(e,i)&&(t.flags&128)===0)return Je=!1,Cv(e,t,i);Je=(e.flags&131072)!==0}else Je=!1,de&&(t.flags&1048576)!==0&&dd(t,ca,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Ai(t.elementType),t.type=e,typeof e=="function")Zu(e)?(s=Mi(e,s),t.tag=1,t=Mm(null,t,e,s,i)):(t.tag=0,t=Ho(null,t,e,s,i));else{if(e!=null){var u=e.$$typeof;if(u===ce){t.tag=11,t=Cm(null,t,e,s,i);break e}else if(u===ie){t.tag=14,t=Tm(null,t,e,s,i);break e}}throw t=ut(e)||e,Error(r(306,t,""))}}return t;case 0:return Ho(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,u=Mi(s,t.pendingProps),Mm(e,t,s,u,i);case 3:e:{if(_t(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var c=t.memoizedState;u=c.element,co(e,t),ya(t,s,null,i);var m=t.memoizedState;if(s=m.cache,qn(t,Ke,s),s!==c.cache&&lo(t,[Ke],i,!0),pa(),s=m.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Dm(e,t,s,i);break e}else if(s!==u){u=Yt(Error(r(424)),t),fa(u),t=Dm(e,t,s,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,De=Kt(e.firstChild),ct=t,de=!0,jn=null,Xt=!0,i=Ad(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Si(),s===u){t=Sn(e,t,i);break e}ht(e,t,s,i)}t=t.child}return t;case 26:return nr(e,t),e===null?(i=Xg(t.type,null,t.pendingProps,null))?t.memoizedState=i:de||(i=t.type,e=t.pendingProps,s=vr(se.current).createElement(i),s[ot]=t,s[bt]=e,dt(s,i,e),tt(s),t.stateNode=s):t.memoizedState=Xg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Zl(t),e===null&&de&&(s=t.stateNode=Yg(t.type,t.pendingProps,se.current),ct=t,Xt=!0,u=De,ei(t.type)?(Tc=u,De=Kt(s.firstChild)):De=u),ht(e,t,t.pendingProps.children,i),nr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&de&&((u=s=De)&&(s=$v(s,t.type,t.pendingProps,Xt),s!==null?(t.stateNode=s,ct=t,De=Kt(s.firstChild),Xt=!1,u=!0):u=!1),u||kn(t)),Zl(t),u=t.type,c=t.pendingProps,m=e!==null?e.memoizedProps:null,s=c.children,vc(u,c)?s=null:m!==null&&vc(u,m)&&(t.flags|=32),t.memoizedState!==null&&(u=yo(e,t,mv,null,null,i),Ha._currentValue=u),nr(e,t),ht(e,t,s,i),t.child;case 6:return e===null&&de&&((e=i=De)&&(i=e1(i,t.pendingProps,Xt),i!==null?(t.stateNode=i,ct=t,De=null,e=!0):e=!1),e||kn(t)),null;case 13:return Om(e,t,i);case 4:return _t(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ri(t,null,s,i):ht(e,t,s,i),t.child;case 11:return Cm(e,t,t.type,t.pendingProps,i);case 7:return ht(e,t,t.pendingProps,i),t.child;case 8:return ht(e,t,t.pendingProps.children,i),t.child;case 12:return ht(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,qn(t,t.type,s.value),ht(e,t,s.children,i),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,Ti(t),u=ft(u),s=s(u),t.flags|=1,ht(e,t,s,i),t.child;case 14:return Tm(e,t,t.type,t.pendingProps,i);case 15:return Nm(e,t,t.type,t.pendingProps,i);case 19:return Lm(e,t,i);case 31:return Sv(e,t,i);case 22:return Am(e,t,i,t.pendingProps);case 24:return Ti(t),s=ft(Ke),e===null?(u=ro(),u===null&&(u=xe,c=ao(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=i),u=c),t.memoizedState={parent:s,cache:u},oo(t),qn(t,Ke,u)):((e.lanes&i)!==0&&(co(e,t),ya(t,null,null,i),pa()),u=e.memoizedState,c=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),qn(t,Ke,s)):(s=c.cache,qn(t,Ke,s),s!==u.cache&&lo(t,[Ke],i,!0))),ht(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Cn(e){e.flags|=4}function Xo(e,t,i,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(ug())e.flags|=8192;else throw xi=qs,uo}else e.flags&=-16777217}function Im(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wg(t))if(ug())e.flags|=8192;else throw xi=qs,uo}function lr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?gh():536870912,e.lanes|=t,bl|=t)}function Ta(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function Tv(e,t,i){var s=t.pendingProps;switch($u(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),vn(Ke),Ye(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(rl(t)?Cn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,to())),Oe(t),null;case 26:var u=t.type,c=t.memoizedState;return e===null?(Cn(t),c!==null?(Oe(t),Im(t,c)):(Oe(t),Xo(t,u,null,s,i))):c?c!==e.memoizedState?(Cn(t),Oe(t),Im(t,c)):(Oe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Cn(t),Oe(t),Xo(t,u,e,s,i)),null;case 27:if(gs(t),i=se.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Cn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Oe(t),null}e=Y.current,rl(t)?gd(t):(e=Yg(u,s,i),t.stateNode=e,Cn(t))}return Oe(t),null;case 5:if(gs(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Cn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Oe(t),null}if(c=Y.current,rl(t))gd(t);else{var m=vr(se.current);switch(c){case 1:c=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:c=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":c=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":c=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":c=m.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?m.createElement(u,{is:s.is}):m.createElement(u)}}c[ot]=t,c[bt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=c;e:switch(dt(c,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Cn(t)}}return Oe(t),Xo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Cn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=se.current,rl(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,u=ct,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[ot]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Og(e.nodeValue,i)),e||kn(t,!0)}else e=vr(e).createTextNode(s),e[ot]=t,t.stateNode=e}return Oe(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=rl(t),i!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ot]=t}else Si(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),e=!1}else i=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Ut(t),t):(Ut(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Oe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=rl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ot]=t}else Si(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),u=!1}else u=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Ut(t),t):(Ut(t),null)}return Ut(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==u&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),lr(t,t.updateQueue),Oe(t),null);case 4:return Ye(),e===null&&mc(t.stateNode.containerInfo),Oe(t),null;case 10:return vn(t.type),Oe(t),null;case 19:if(I(Ve),s=t.memoizedState,s===null)return Oe(t),null;if(u=(t.flags&128)!==0,c=s.rendering,c===null)if(u)Ta(s,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Qs(e),c!==null){for(t.flags|=128,Ta(s,!1),e=c.updateQueue,t.updateQueue=e,lr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)cd(i,e),i=i.sibling;return q(Ve,Ve.current&1|2),de&&pn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&wt()>or&&(t.flags|=128,u=!0,Ta(s,!1),t.lanes=4194304)}else{if(!u)if(e=Qs(c),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,lr(t,e),Ta(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!de)return Oe(t),null}else 2*wt()-s.renderingStartTime>or&&i!==536870912&&(t.flags|=128,u=!0,Ta(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wt(),e.sibling=null,i=Ve.current,q(Ve,u?i&1|2:i&1),de&&pn(t,s.treeForkCount),e):(Oe(t),null);case 22:case 23:return Ut(t),go(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),i=t.updateQueue,i!==null&&lr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&I(Ni),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),vn(Ke),Oe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Nv(e,t){switch($u(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vn(Ke),Ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return gs(t),null;case 31:if(t.memoizedState!==null){if(Ut(t),t.alternate===null)throw Error(r(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ut(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(Ve),null;case 4:return Ye(),null;case 10:return vn(t.type),null;case 22:case 23:return Ut(t),go(),e!==null&&I(Ni),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return vn(Ke),null;case 25:return null;default:return null}}function Bm(e,t){switch($u(t),t.tag){case 3:vn(Ke),Ye();break;case 26:case 27:case 5:gs(t);break;case 4:Ye();break;case 31:t.memoizedState!==null&&Ut(t);break;case 13:Ut(t);break;case 19:I(Ve);break;case 10:vn(t.type);break;case 22:case 23:Ut(t),go(),e!==null&&I(Ni);break;case 24:vn(Ke)}}function Na(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var u=s.next;i=u;do{if((i.tag&e)===e){s=void 0;var c=i.create,m=i.inst;s=c(),m.destroy=s}i=i.next}while(i!==u)}}catch(p){Se(t,t.return,p)}}function Fn(e,t,i){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var c=u.next;s=c;do{if((s.tag&e)===e){var m=s.inst,p=m.destroy;if(p!==void 0){m.destroy=void 0,u=t;var E=i,A=p;try{A()}catch(O){Se(u,E,O)}}}s=s.next}while(s!==c)}}catch(O){Se(t,t.return,O)}}function Hm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Rd(t,i)}catch(s){Se(e,e.return,s)}}}function jm(e,t,i){i.props=Mi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Se(e,t,s)}}function Aa(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(u){Se(e,t,u)}}function on(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(u){Se(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){Se(e,t,u)}else i.current=null}function km(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(u){Se(e,e.return,u)}}function Fo(e,t,i){try{var s=e.stateNode;Fv(s,e.type,i,t),s[bt]=t}catch(u){Se(e,e.return,u)}}function qm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ei(e.type)||e.tag===4}function Ko(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ei(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zo(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=mn));else if(s!==4&&(s===27&&ei(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Zo(e,t,i),e=e.sibling;e!==null;)Zo(e,t,i),e=e.sibling}function ar(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&ei(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ar(e,t,i),e=e.sibling;e!==null;)ar(e,t,i),e=e.sibling}function Gm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);dt(t,s,i),t[ot]=e,t[bt]=i}catch(c){Se(e,e.return,c)}}var Tn=!1,We=!1,Jo=!1,Ym=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Av(e,t){if(e=e.containerInfo,pc=Ar,e=td(e),Gu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var u=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var m=0,p=-1,E=-1,A=0,O=0,U=e,R=null;t:for(;;){for(var M;U!==i||u!==0&&U.nodeType!==3||(p=m+u),U!==c||s!==0&&U.nodeType!==3||(E=m+s),U.nodeType===3&&(m+=U.nodeValue.length),(M=U.firstChild)!==null;)R=U,U=M;for(;;){if(U===e)break t;if(R===i&&++A===u&&(p=m),R===c&&++O===s&&(E=m),(M=U.nextSibling)!==null)break;U=R,R=U.parentNode}U=M}i=p===-1||E===-1?null:{start:p,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(yc={focusedElem:e,selectionRange:i},Ar=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)u=e[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,u=c.memoizedProps,c=c.memoizedState,s=i.stateNode;try{var G=Mi(i.type,u);e=s.getSnapshotBeforeUpdate(G,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(K){Se(i,i.return,K)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Ec(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ec(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function Vm(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:An(e,i),s&4&&Na(5,i);break;case 1:if(An(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(m){Se(i,i.return,m)}else{var u=Mi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Se(i,i.return,m)}}s&64&&Hm(i),s&512&&Aa(i,i.return);break;case 3:if(An(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Rd(e,t)}catch(m){Se(i,i.return,m)}}break;case 27:t===null&&s&4&&Gm(i);case 26:case 5:An(e,i),t===null&&s&4&&km(i),s&512&&Aa(i,i.return);break;case 12:An(e,i);break;case 31:An(e,i),s&4&&Fm(e,i);break;case 13:An(e,i),s&4&&Km(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Uv.bind(null,i),t1(e,i))));break;case 22:if(s=i.memoizedState!==null||Tn,!s){t=t!==null&&t.memoizedState!==null||We,u=Tn;var c=We;Tn=s,(We=t)&&!c?xn(e,i,(i.subtreeFlags&8772)!==0):An(e,i),Tn=u,We=c}break;case 30:break;default:An(e,i)}}function Qm(e){var t=e.alternate;t!==null&&(e.alternate=null,Qm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Nu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,St=!1;function Nn(e,t,i){for(i=i.child;i!==null;)Xm(e,t,i),i=i.sibling}function Xm(e,t,i){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Jl,i)}catch{}switch(i.tag){case 26:We||on(i,t),Nn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:We||on(i,t);var s=ze,u=St;ei(i.type)&&(ze=i.stateNode,St=!1),Nn(e,t,i),Ua(i.stateNode),ze=s,St=u;break;case 5:We||on(i,t);case 6:if(s=ze,u=St,ze=null,Nn(e,t,i),ze=s,St=u,ze!==null)if(St)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(i.stateNode)}catch(c){Se(i,t,c)}else try{ze.removeChild(i.stateNode)}catch(c){Se(i,t,c)}break;case 18:ze!==null&&(St?(e=ze,Hg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Rl(e)):Hg(ze,i.stateNode));break;case 4:s=ze,u=St,ze=i.stateNode.containerInfo,St=!0,Nn(e,t,i),ze=s,St=u;break;case 0:case 11:case 14:case 15:Fn(2,i,t),We||Fn(4,i,t),Nn(e,t,i);break;case 1:We||(on(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&jm(i,t,s)),Nn(e,t,i);break;case 21:Nn(e,t,i);break;case 22:We=(s=We)||i.memoizedState!==null,Nn(e,t,i),We=s;break;default:Nn(e,t,i)}}function Fm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Rl(e)}catch(i){Se(t,t.return,i)}}}function Km(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rl(e)}catch(i){Se(t,t.return,i)}}function xv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ym),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ym),t;default:throw Error(r(435,e.tag))}}function sr(e,t){var i=xv(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var u=Iv.bind(null,e,s);s.then(u,u)}})}function Ct(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var u=i[s],c=e,m=t,p=m;e:for(;p!==null;){switch(p.tag){case 27:if(ei(p.type)){ze=p.stateNode,St=!1;break e}break;case 5:ze=p.stateNode,St=!1;break e;case 3:case 4:ze=p.stateNode.containerInfo,St=!0;break e}p=p.return}if(ze===null)throw Error(r(160));Xm(c,m,u),ze=null,St=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Zm(t,e),t=t.sibling}var Pt=null;function Zm(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(t,e),Tt(e),s&4&&(Fn(3,e,e.return),Na(3,e),Fn(5,e,e.return));break;case 1:Ct(t,e),Tt(e),s&512&&(We||i===null||on(i,i.return)),s&64&&Tn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var u=Pt;if(Ct(t,e),Tt(e),s&512&&(We||i===null||on(i,i.return)),s&4){var c=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":c=u.getElementsByTagName("title")[0],(!c||c[$l]||c[ot]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(s),u.head.insertBefore(c,u.querySelector("head > title"))),dt(c,s,i),c[ot]=e,tt(c),s=c;break e;case"link":var m=Zg("link","href",u).get(s+(i.href||""));if(m){for(var p=0;p<m.length;p++)if(c=m[p],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){m.splice(p,1);break t}}c=u.createElement(s),dt(c,s,i),u.head.appendChild(c);break;case"meta":if(m=Zg("meta","content",u).get(s+(i.content||""))){for(p=0;p<m.length;p++)if(c=m[p],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){m.splice(p,1);break t}}c=u.createElement(s),dt(c,s,i),u.head.appendChild(c);break;default:throw Error(r(468,s))}c[ot]=e,tt(c),s=c}e.stateNode=s}else Jg(u,e.type,e.stateNode);else e.stateNode=Kg(u,s,e.memoizedProps);else c!==s?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,s===null?Jg(u,e.type,e.stateNode):Kg(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Fo(e,e.memoizedProps,i.memoizedProps)}break;case 27:Ct(t,e),Tt(e),s&512&&(We||i===null||on(i,i.return)),i!==null&&s&4&&Fo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Ct(t,e),Tt(e),s&512&&(We||i===null||on(i,i.return)),e.flags&32){u=e.stateNode;try{Wi(u,"")}catch(G){Se(e,e.return,G)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,Fo(e,u,i!==null?i.memoizedProps:u)),s&1024&&(Jo=!0);break;case 6:if(Ct(t,e),Tt(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(G){Se(e,e.return,G)}}break;case 3:if(Sr=null,u=Pt,Pt=br(t.containerInfo),Ct(t,e),Pt=u,Tt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Rl(t.containerInfo)}catch(G){Se(e,e.return,G)}Jo&&(Jo=!1,Jm(e));break;case 4:s=Pt,Pt=br(e.stateNode.containerInfo),Ct(t,e),Tt(e),Pt=s;break;case 12:Ct(t,e),Tt(e);break;case 31:Ct(t,e),Tt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sr(e,s)));break;case 13:Ct(t,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ur=wt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sr(e,s)));break;case 22:u=e.memoizedState!==null;var E=i!==null&&i.memoizedState!==null,A=Tn,O=We;if(Tn=A||u,We=O||E,Ct(t,e),We=O,Tn=A,Tt(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||E||Tn||We||Di(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){E=i=t;try{if(c=E.stateNode,u)m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{p=E.stateNode;var U=E.memoizedProps.style,R=U!=null&&U.hasOwnProperty("display")?U.display:null;p.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(G){Se(E,E.return,G)}}}else if(t.tag===6){if(i===null){E=t;try{E.stateNode.nodeValue=u?"":E.memoizedProps}catch(G){Se(E,E.return,G)}}}else if(t.tag===18){if(i===null){E=t;try{var M=E.stateNode;u?jg(M,!0):jg(E.stateNode,!1)}catch(G){Se(E,E.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,sr(e,i))));break;case 19:Ct(t,e),Tt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sr(e,s)));break;case 30:break;case 21:break;default:Ct(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(qm(s)){i=s;break}s=s.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var u=i.stateNode,c=Ko(e);ar(e,c,u);break;case 5:var m=i.stateNode;i.flags&32&&(Wi(m,""),i.flags&=-33);var p=Ko(e);ar(e,p,m);break;case 3:case 4:var E=i.stateNode.containerInfo,A=Ko(e);Zo(e,A,E);break;default:throw Error(r(161))}}catch(O){Se(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Jm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function An(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Vm(e,t.alternate,t),t=t.sibling}function Di(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fn(4,t,t.return),Di(t);break;case 1:on(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&jm(t,t.return,i),Di(t);break;case 27:Ua(t.stateNode);case 26:case 5:on(t,t.return),Di(t);break;case 22:t.memoizedState===null&&Di(t);break;case 30:Di(t);break;default:Di(t)}e=e.sibling}}function xn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,c=t,m=c.flags;switch(c.tag){case 0:case 11:case 15:xn(u,c,i),Na(4,c);break;case 1:if(xn(u,c,i),s=c,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(A){Se(s,s.return,A)}if(s=c,u=s.updateQueue,u!==null){var p=s.stateNode;try{var E=u.shared.hiddenCallbacks;if(E!==null)for(u.shared.hiddenCallbacks=null,u=0;u<E.length;u++)xd(E[u],p)}catch(A){Se(s,s.return,A)}}i&&m&64&&Hm(c),Aa(c,c.return);break;case 27:Gm(c);case 26:case 5:xn(u,c,i),i&&s===null&&m&4&&km(c),Aa(c,c.return);break;case 12:xn(u,c,i);break;case 31:xn(u,c,i),i&&m&4&&Fm(u,c);break;case 13:xn(u,c,i),i&&m&4&&Km(u,c);break;case 22:c.memoizedState===null&&xn(u,c,i),Aa(c,c.return);break;case 30:break;default:xn(u,c,i)}t=t.sibling}}function Wo(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ha(i))}function Po(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ha(e))}function $t(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wm(e,t,i,s),t=t.sibling}function Wm(e,t,i,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:$t(e,t,i,s),u&2048&&Na(9,t);break;case 1:$t(e,t,i,s);break;case 3:$t(e,t,i,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ha(e)));break;case 12:if(u&2048){$t(e,t,i,s),e=t.stateNode;try{var c=t.memoizedProps,m=c.id,p=c.onPostCommit;typeof p=="function"&&p(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Se(t,t.return,E)}}else $t(e,t,i,s);break;case 31:$t(e,t,i,s);break;case 13:$t(e,t,i,s);break;case 23:break;case 22:c=t.stateNode,m=t.alternate,t.memoizedState!==null?c._visibility&2?$t(e,t,i,s):xa(e,t):c._visibility&2?$t(e,t,i,s):(c._visibility|=2,pl(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Wo(m,t);break;case 24:$t(e,t,i,s),u&2048&&Po(t.alternate,t);break;default:$t(e,t,i,s)}}function pl(e,t,i,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,m=t,p=i,E=s,A=m.flags;switch(m.tag){case 0:case 11:case 15:pl(c,m,p,E,u),Na(8,m);break;case 23:break;case 22:var O=m.stateNode;m.memoizedState!==null?O._visibility&2?pl(c,m,p,E,u):xa(c,m):(O._visibility|=2,pl(c,m,p,E,u)),u&&A&2048&&Wo(m.alternate,m);break;case 24:pl(c,m,p,E,u),u&&A&2048&&Po(m.alternate,m);break;default:pl(c,m,p,E,u)}t=t.sibling}}function xa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,u=s.flags;switch(s.tag){case 22:xa(i,s),u&2048&&Wo(s.alternate,s);break;case 24:xa(i,s),u&2048&&Po(s.alternate,s);break;default:xa(i,s)}t=t.sibling}}var Ra=8192;function yl(e,t,i){if(e.subtreeFlags&Ra)for(e=e.child;e!==null;)Pm(e,t,i),e=e.sibling}function Pm(e,t,i){switch(e.tag){case 26:yl(e,t,i),e.flags&Ra&&e.memoizedState!==null&&d1(i,Pt,e.memoizedState,e.memoizedProps);break;case 5:yl(e,t,i);break;case 3:case 4:var s=Pt;Pt=br(e.stateNode.containerInfo),yl(e,t,i),Pt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Ra,Ra=16777216,yl(e,t,i),Ra=s):yl(e,t,i));break;default:yl(e,t,i)}}function $m(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function wa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];nt=s,tg(s,e)}$m(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)eg(e),e=e.sibling}function eg(e){switch(e.tag){case 0:case 11:case 15:wa(e),e.flags&2048&&Fn(9,e,e.return);break;case 3:wa(e);break;case 12:wa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,rr(e)):wa(e);break;default:wa(e)}}function rr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];nt=s,tg(s,e)}$m(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fn(8,t,t.return),rr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,rr(t));break;default:rr(t)}e=e.sibling}}function tg(e,t){for(;nt!==null;){var i=nt;switch(i.tag){case 0:case 11:case 15:Fn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ha(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,nt=s;else e:for(i=e;nt!==null;){s=nt;var u=s.sibling,c=s.return;if(Qm(s),s===i){nt=null;break e}if(u!==null){u.return=c,nt=u;break e}nt=c}}}var Rv={getCacheForType:function(e){var t=ft(Ke),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return ft(Ke).controller.signal}},wv=typeof WeakMap=="function"?WeakMap:Map,pe=0,xe=null,re=null,fe=0,Ee=0,It=null,Kn=!1,vl=!1,$o=!1,Rn=0,ke=0,Zn=0,Oi=0,ec=0,Bt=0,bl=0,Ma=null,Nt=null,tc=!1,ur=0,ng=0,or=1/0,cr=null,Jn=null,$e=0,Wn=null,El=null,wn=0,nc=0,ic=null,ig=null,Da=0,lc=null;function Ht(){return(pe&2)!==0&&fe!==0?fe&-fe:z.T!==null?cc():vh()}function lg(){if(Bt===0)if((fe&536870912)===0||de){var e=ys;ys<<=1,(ys&3932160)===0&&(ys=262144),Bt=e}else Bt=536870912;return e=Lt.current,e!==null&&(e.flags|=32),Bt}function At(e,t,i){(e===xe&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Sl(e,0),Pn(e,fe,Bt,!1)),Pl(e,i),((pe&2)===0||e!==xe)&&(e===xe&&((pe&2)===0&&(Oi|=i),ke===4&&Pn(e,fe,Bt,!1)),cn(e))}function ag(e,t,i){if((pe&6)!==0)throw Error(r(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Wl(e,t),u=s?Ov(e,t):sc(e,t,!0),c=s;do{if(u===0){vl&&!s&&Pn(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!Mv(i)){u=sc(e,t,!1),c=!1;continue}if(u===2){if(c=t,e.errorRecoveryDisabledLanes&c)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var p=e;u=Ma;var E=p.current.memoizedState.isDehydrated;if(E&&(Sl(p,m).flags|=256),m=sc(p,m,!1),m!==2){if($o&&!E){p.errorRecoveryDisabledLanes|=c,Oi|=c,u=4;break e}c=Nt,Nt=u,c!==null&&(Nt===null?Nt=c:Nt.push.apply(Nt,c))}u=m}if(c=!1,u!==2)continue}}if(u===1){Sl(e,0),Pn(e,t,0,!0);break}e:{switch(s=e,c=u,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Pn(s,t,Bt,!Kn);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=ur+300-wt(),10<u)){if(Pn(s,t,Bt,!Kn),bs(s,0,!0)!==0)break e;wn=t,s.timeoutHandle=Ig(sg.bind(null,s,i,Nt,cr,tc,t,Bt,Oi,bl,Kn,c,"Throttled",-0,0),u);break e}sg(s,i,Nt,cr,tc,t,Bt,Oi,bl,Kn,c,null,-0,0)}}break}while(!0);cn(e)}function sg(e,t,i,s,u,c,m,p,E,A,O,U,R,M){if(e.timeoutHandle=-1,U=t.subtreeFlags,U&8192||(U&16785408)===16785408){U={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},Pm(t,c,U);var G=(c&62914560)===c?ur-wt():(c&4194048)===c?ng-wt():0;if(G=m1(U,G),G!==null){wn=c,e.cancelPendingCommit=G(mg.bind(null,e,t,c,i,s,u,m,p,E,O,U,null,R,M)),Pn(e,c,m,!A);return}}mg(e,t,c,i,s,u,m,p,E)}function Mv(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var u=i[s],c=u.getSnapshot;u=u.value;try{if(!Ot(c(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t,i,s){t&=~ec,t&=~Oi,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var c=31-Dt(u),m=1<<c;s[c]=-1,u&=~m}i!==0&&_h(e,i,t)}function fr(){return(pe&6)===0?(Oa(0),!1):!0}function ac(){if(re!==null){if(Ee===0)var e=re.return;else e=re,yn=Ci=null,Eo(e),hl=null,ma=0,e=re;for(;e!==null;)Bm(e.alternate,e),e=e.return;re=null}}function Sl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Jv(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),wn=0,ac(),xe=e,re=i=_n(e.current,null),fe=t,Ee=0,It=null,Kn=!1,vl=Wl(e,t),$o=!1,bl=Bt=ec=Oi=Zn=ke=0,Nt=Ma=null,tc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-Dt(s),c=1<<u;t|=e[u],s&=~c}return Rn=t,Os(),i}function rg(e,t){P=null,z.H=Sa,t===fl||t===ks?(t=Cd(),Ee=3):t===uo?(t=Cd(),Ee=4):Ee=t===Bo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,It=t,re===null&&(ke=1,er(e,Yt(t,e.current)))}function ug(){var e=Lt.current;return e===null?!0:(fe&4194048)===fe?Ft===null:(fe&62914560)===fe||(fe&536870912)!==0?e===Ft:!1}function og(){var e=z.H;return z.H=Sa,e===null?Sa:e}function cg(){var e=z.A;return z.A=Rv,e}function hr(){ke=4,Kn||(fe&4194048)!==fe&&Lt.current!==null||(vl=!0),(Zn&134217727)===0&&(Oi&134217727)===0||xe===null||Pn(xe,fe,Bt,!1)}function sc(e,t,i){var s=pe;pe|=2;var u=og(),c=cg();(xe!==e||fe!==t)&&(cr=null,Sl(e,t)),t=!1;var m=ke;e:do try{if(Ee!==0&&re!==null){var p=re,E=It;switch(Ee){case 8:ac(),m=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(t=!0);var A=Ee;if(Ee=0,It=null,Cl(e,p,E,A),i&&vl){m=0;break e}break;default:A=Ee,Ee=0,It=null,Cl(e,p,E,A)}}Dv(),m=ke;break}catch(O){rg(e,O)}while(!0);return t&&e.shellSuspendCounter++,yn=Ci=null,pe=s,z.H=u,z.A=c,re===null&&(xe=null,fe=0,Os()),m}function Dv(){for(;re!==null;)fg(re)}function Ov(e,t){var i=pe;pe|=2;var s=og(),u=cg();xe!==e||fe!==t?(cr=null,or=wt()+500,Sl(e,t)):vl=Wl(e,t);e:do try{if(Ee!==0&&re!==null){t=re;var c=It;t:switch(Ee){case 1:Ee=0,It=null,Cl(e,t,c,1);break;case 2:case 9:if(Ed(c)){Ee=0,It=null,hg(t);break}t=function(){Ee!==2&&Ee!==9||xe!==e||(Ee=7),cn(e)},c.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:Ed(c)?(Ee=0,It=null,hg(t)):(Ee=0,It=null,Cl(e,t,c,7));break;case 5:var m=null;switch(re.tag){case 26:m=re.memoizedState;case 5:case 27:var p=re;if(m?Wg(m):p.stateNode.complete){Ee=0,It=null;var E=p.sibling;if(E!==null)re=E;else{var A=p.return;A!==null?(re=A,dr(A)):re=null}break t}}Ee=0,It=null,Cl(e,t,c,5);break;case 6:Ee=0,It=null,Cl(e,t,c,6);break;case 8:ac(),ke=6;break e;default:throw Error(r(462))}}zv();break}catch(O){rg(e,O)}while(!0);return yn=Ci=null,z.H=s,z.A=u,pe=i,re!==null?0:(xe=null,fe=0,Os(),ke)}function zv(){for(;re!==null&&!n0();)fg(re)}function fg(e){var t=Um(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?dr(e):re=t}function hg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=wm(i,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=wm(i,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:Eo(t);default:Bm(i,t),t=re=cd(t,Rn),t=Um(i,t,Rn)}e.memoizedProps=e.pendingProps,t===null?dr(e):re=t}function Cl(e,t,i,s){yn=Ci=null,Eo(t),hl=null,ma=0;var u=t.return;try{if(Ev(e,u,t,i,fe)){ke=1,er(e,Yt(i,e.current)),re=null;return}}catch(c){if(u!==null)throw re=u,c;ke=1,er(e,Yt(i,e.current)),re=null;return}t.flags&32768?(de||s===1?e=!0:vl||(fe&536870912)!==0?e=!1:(Kn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Lt.current,s!==null&&s.tag===13&&(s.flags|=16384))),dg(t,e)):dr(t)}function dr(e){var t=e;do{if((t.flags&32768)!==0){dg(t,Kn);return}e=t.return;var i=Tv(t.alternate,t,Rn);if(i!==null){re=i;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);ke===0&&(ke=5)}function dg(e,t){do{var i=Nv(e.alternate,e);if(i!==null){i.flags&=32767,re=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){re=e;return}re=e=i}while(e!==null);ke=6,re=null}function mg(e,t,i,s,u,c,m,p,E){e.cancelPendingCommit=null;do mr();while($e!==0);if((pe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=Fu,h0(e,i,c,m,p,E),e===xe&&(re=xe=null,fe=0),El=t,Wn=e,wn=i,nc=c,ic=u,ig=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Bv(_s,function(){return vg(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null,u=j.p,j.p=2,m=pe,pe|=4;try{Av(e,t,i)}finally{pe=m,j.p=u,z.T=s}}$e=1,gg(),_g(),pg()}}function gg(){if($e===1){$e=0;var e=Wn,t=El,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=z.T,z.T=null;var s=j.p;j.p=2;var u=pe;pe|=4;try{Zm(t,e);var c=yc,m=td(e.containerInfo),p=c.focusedElem,E=c.selectionRange;if(m!==p&&p&&p.ownerDocument&&ed(p.ownerDocument.documentElement,p)){if(E!==null&&Gu(p)){var A=E.start,O=E.end;if(O===void 0&&(O=A),"selectionStart"in p)p.selectionStart=A,p.selectionEnd=Math.min(O,p.value.length);else{var U=p.ownerDocument||document,R=U&&U.defaultView||window;if(R.getSelection){var M=R.getSelection(),G=p.textContent.length,K=Math.min(E.start,G),Ae=E.end===void 0?K:Math.min(E.end,G);!M.extend&&K>Ae&&(m=Ae,Ae=K,K=m);var T=$h(p,K),S=$h(p,Ae);if(T&&S&&(M.rangeCount!==1||M.anchorNode!==T.node||M.anchorOffset!==T.offset||M.focusNode!==S.node||M.focusOffset!==S.offset)){var N=U.createRange();N.setStart(T.node,T.offset),M.removeAllRanges(),K>Ae?(M.addRange(N),M.extend(S.node,S.offset)):(N.setEnd(S.node,S.offset),M.addRange(N))}}}}for(U=[],M=p;M=M.parentNode;)M.nodeType===1&&U.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<U.length;p++){var L=U[p];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Ar=!!pc,yc=pc=null}finally{pe=u,j.p=s,z.T=i}}e.current=t,$e=2}}function _g(){if($e===2){$e=0;var e=Wn,t=El,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=z.T,z.T=null;var s=j.p;j.p=2;var u=pe;pe|=4;try{Vm(e,t.alternate,t)}finally{pe=u,j.p=s,z.T=i}}$e=3}}function pg(){if($e===4||$e===3){$e=0,i0();var e=Wn,t=El,i=wn,s=ig;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?$e=5:($e=0,El=Wn=null,yg(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Jn=null),Cu(i),t=t.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Jl,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=z.T,u=j.p,j.p=2,z.T=null;try{for(var c=e.onRecoverableError,m=0;m<s.length;m++){var p=s[m];c(p.value,{componentStack:p.stack})}}finally{z.T=t,j.p=u}}(wn&3)!==0&&mr(),cn(e),u=e.pendingLanes,(i&261930)!==0&&(u&42)!==0?e===lc?Da++:(Da=0,lc=e):Da=0,Oa(0)}}function yg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ha(t)))}function mr(){return gg(),_g(),pg(),vg()}function vg(){if($e!==5)return!1;var e=Wn,t=nc;nc=0;var i=Cu(wn),s=z.T,u=j.p;try{j.p=32>i?32:i,z.T=null,i=ic,ic=null;var c=Wn,m=wn;if($e=0,El=Wn=null,wn=0,(pe&6)!==0)throw Error(r(331));var p=pe;if(pe|=4,eg(c.current),Wm(c,c.current,m,i),pe=p,Oa(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Jl,c)}catch{}return!0}finally{j.p=u,z.T=s,yg(e,t)}}function bg(e,t,i){t=Yt(i,t),t=Io(e.stateNode,t,2),e=Vn(e,t,2),e!==null&&(Pl(e,2),cn(e))}function Se(e,t,i){if(e.tag===3)bg(e,e,i);else for(;t!==null;){if(t.tag===3){bg(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Jn===null||!Jn.has(s))){e=Yt(i,e),i=Em(2),s=Vn(t,i,2),s!==null&&(Sm(i,s,t,e),Pl(s,2),cn(s));break}}t=t.return}}function rc(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new wv;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(i)||($o=!0,u.add(i),e=Lv.bind(null,e,t,i),t.then(e,e))}function Lv(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,xe===e&&(fe&i)===i&&(ke===4||ke===3&&(fe&62914560)===fe&&300>wt()-ur?(pe&2)===0&&Sl(e,0):ec|=i,bl===fe&&(bl=0)),cn(e)}function Eg(e,t){t===0&&(t=gh()),e=bi(e,t),e!==null&&(Pl(e,t),cn(e))}function Uv(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Eg(e,i)}function Iv(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),Eg(e,i)}function Bv(e,t){return vu(e,t)}var gr=null,Tl=null,uc=!1,_r=!1,oc=!1,$n=0;function cn(e){e!==Tl&&e.next===null&&(Tl===null?gr=Tl=e:Tl=Tl.next=e),_r=!0,uc||(uc=!0,jv())}function Oa(e,t){if(!oc&&_r){oc=!0;do for(var i=!1,s=gr;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var c=0;else{var m=s.suspendedLanes,p=s.pingedLanes;c=(1<<31-Dt(42|e)+1)-1,c&=u&~(m&~p),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,Ng(s,c))}else c=fe,c=bs(s,s===xe?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||Wl(s,c)||(i=!0,Ng(s,c));s=s.next}while(i);oc=!1}}function Hv(){Sg()}function Sg(){_r=uc=!1;var e=0;$n!==0&&Zv()&&(e=$n);for(var t=wt(),i=null,s=gr;s!==null;){var u=s.next,c=Cg(s,t);c===0?(s.next=null,i===null?gr=u:i.next=u,u===null&&(Tl=i)):(i=s,(e!==0||(c&3)!==0)&&(_r=!0)),s=u}$e!==0&&$e!==5||Oa(e),$n!==0&&($n=0)}function Cg(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var m=31-Dt(c),p=1<<m,E=u[m];E===-1?((p&i)===0||(p&s)!==0)&&(u[m]=f0(p,t)):E<=t&&(e.expiredLanes|=p),c&=~p}if(t=xe,i=fe,i=bs(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&bu(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Wl(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&bu(s),Cu(i)){case 2:case 8:i=dh;break;case 32:i=_s;break;case 268435456:i=mh;break;default:i=_s}return s=Tg.bind(null,e),i=vu(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&bu(s),e.callbackPriority=2,e.callbackNode=null,2}function Tg(e,t){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(mr()&&e.callbackNode!==i)return null;var s=fe;return s=bs(e,e===xe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(ag(e,s,t),Cg(e,wt()),e.callbackNode!=null&&e.callbackNode===i?Tg.bind(null,e):null)}function Ng(e,t){if(mr())return null;ag(e,t,!0)}function jv(){Wv(function(){(pe&6)!==0?vu(hh,Hv):Sg()})}function cc(){if($n===0){var e=ol;e===0&&(e=ps,ps<<=1,(ps&261888)===0&&(ps=256)),$n=e}return $n}function Ag(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ts(""+e)}function xg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function kv(e,t,i,s,u){if(t==="submit"&&i&&i.stateNode===u){var c=Ag((u[bt]||null).action),m=s.submitter;m&&(t=(t=m[bt]||null)?Ag(t.formAction):m.getAttribute("formAction"),t!==null&&(c=t,m=null));var p=new Rs("action","action",null,s,u);e.push({event:p,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if($n!==0){var E=m?xg(u,m):new FormData(u);Mo(i,{pending:!0,data:E,method:u.method,action:c},null,E)}}else typeof c=="function"&&(p.preventDefault(),E=m?xg(u,m):new FormData(u),Mo(i,{pending:!0,data:E,method:u.method,action:c},c,E))},currentTarget:u}]})}}for(var fc=0;fc<Xu.length;fc++){var hc=Xu[fc],qv=hc.toLowerCase(),Gv=hc[0].toUpperCase()+hc.slice(1);Wt(qv,"on"+Gv)}Wt(ld,"onAnimationEnd"),Wt(ad,"onAnimationIteration"),Wt(sd,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(lv,"onTransitionRun"),Wt(av,"onTransitionStart"),Wt(sv,"onTransitionCancel"),Wt(rd,"onTransitionEnd"),Zi("onMouseEnter",["mouseout","mouseover"]),Zi("onMouseLeave",["mouseout","mouseover"]),Zi("onPointerEnter",["pointerout","pointerover"]),Zi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(za));function Rg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],u=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var m=s.length-1;0<=m;m--){var p=s[m],E=p.instance,A=p.currentTarget;if(p=p.listener,E!==c&&u.isPropagationStopped())break e;c=p,u.currentTarget=A;try{c(u)}catch(O){Ds(O)}u.currentTarget=null,c=E}else for(m=0;m<s.length;m++){if(p=s[m],E=p.instance,A=p.currentTarget,p=p.listener,E!==c&&u.isPropagationStopped())break e;c=p,u.currentTarget=A;try{c(u)}catch(O){Ds(O)}u.currentTarget=null,c=E}}}}function ue(e,t){var i=t[Tu];i===void 0&&(i=t[Tu]=new Set);var s=e+"__bubble";i.has(s)||(wg(t,e,2,!1),i.add(s))}function dc(e,t,i){var s=0;t&&(s|=4),wg(i,e,s,t)}var pr="_reactListening"+Math.random().toString(36).slice(2);function mc(e){if(!e[pr]){e[pr]=!0,Sh.forEach(function(i){i!=="selectionchange"&&(Yv.has(i)||dc(i,!1,e),dc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pr]||(t[pr]=!0,dc("selectionchange",!1,t))}}function wg(e,t,i,s){switch(l_(t)){case 2:var u=p1;break;case 8:u=y1;break;default:u=wc}i=u.bind(null,t,i,e),u=void 0,!zu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function gc(e,t,i,s,u){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var p=s.stateNode.containerInfo;if(p===u)break;if(m===4)for(m=s.return;m!==null;){var E=m.tag;if((E===3||E===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;p!==null;){if(m=Xi(p),m===null)return;if(E=m.tag,E===5||E===6||E===26||E===27){s=c=m;continue e}p=p.parentNode}}s=s.return}Lh(function(){var A=c,O=Du(i),U=[];e:{var R=ud.get(e);if(R!==void 0){var M=Rs,G=e;switch(e){case"keypress":if(As(i)===0)break e;case"keydown":case"keyup":M=I0;break;case"focusin":G="focus",M=Bu;break;case"focusout":G="blur",M=Bu;break;case"beforeblur":case"afterblur":M=Bu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=T0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=j0;break;case ld:case ad:case sd:M=x0;break;case rd:M=q0;break;case"scroll":case"scrollend":M=S0;break;case"wheel":M=Y0;break;case"copy":case"cut":case"paste":M=w0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=jh;break;case"toggle":case"beforetoggle":M=Q0}var K=(t&4)!==0,Ae=!K&&(e==="scroll"||e==="scrollend"),T=K?R!==null?R+"Capture":null:R;K=[];for(var S=A,N;S!==null;){var L=S;if(N=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||N===null||T===null||(L=ta(S,T),L!=null&&K.push(La(S,L,N))),Ae)break;S=S.return}0<K.length&&(R=new M(R,G,null,i,O),U.push({event:R,listeners:K}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",R&&i!==Mu&&(G=i.relatedTarget||i.fromElement)&&(Xi(G)||G[Qi]))break e;if((M||R)&&(R=O.window===O?O:(R=O.ownerDocument)?R.defaultView||R.parentWindow:window,M?(G=i.relatedTarget||i.toElement,M=A,G=G?Xi(G):null,G!==null&&(Ae=f(G),K=G.tag,G!==Ae||K!==5&&K!==27&&K!==6)&&(G=null)):(M=null,G=A),M!==G)){if(K=Bh,L="onMouseLeave",T="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(K=jh,L="onPointerLeave",T="onPointerEnter",S="pointer"),Ae=M==null?R:ea(M),N=G==null?R:ea(G),R=new K(L,S+"leave",M,i,O),R.target=Ae,R.relatedTarget=N,L=null,Xi(O)===A&&(K=new K(T,S+"enter",G,i,O),K.target=N,K.relatedTarget=Ae,L=K),Ae=L,M&&G)t:{for(K=Vv,T=M,S=G,N=0,L=T;L;L=K(L))N++;L=0;for(var X=S;X;X=K(X))L++;for(;0<N-L;)T=K(T),N--;for(;0<L-N;)S=K(S),L--;for(;N--;){if(T===S||S!==null&&T===S.alternate){K=T;break t}T=K(T),S=K(S)}K=null}else K=null;M!==null&&Mg(U,R,M,K,!1),G!==null&&Ae!==null&&Mg(U,Ae,G,K,!0)}}e:{if(R=A?ea(A):window,M=R.nodeName&&R.nodeName.toLowerCase(),M==="select"||M==="input"&&R.type==="file")var me=Fh;else if(Qh(R))if(Kh)me=tv;else{me=$0;var Q=P0}else M=R.nodeName,!M||M.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?A&&wu(A.elementType)&&(me=Fh):me=ev;if(me&&(me=me(e,A))){Xh(U,me,i,O);break e}Q&&Q(e,R,A),e==="focusout"&&A&&R.type==="number"&&A.memoizedProps.value!=null&&Ru(R,"number",R.value)}switch(Q=A?ea(A):window,e){case"focusin":(Qh(Q)||Q.contentEditable==="true")&&(tl=Q,Yu=A,oa=null);break;case"focusout":oa=Yu=tl=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,nd(U,i,O);break;case"selectionchange":if(iv)break;case"keydown":case"keyup":nd(U,i,O)}var te;if(ju)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else el?Yh(e,i)&&(he="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(he="onCompositionStart");he&&(kh&&i.locale!=="ko"&&(el||he!=="onCompositionStart"?he==="onCompositionEnd"&&el&&(te=Uh()):(Bn=O,Lu="value"in Bn?Bn.value:Bn.textContent,el=!0)),Q=yr(A,he),0<Q.length&&(he=new Hh(he,e,null,i,O),U.push({event:he,listeners:Q}),te?he.data=te:(te=Vh(i),te!==null&&(he.data=te)))),(te=F0?K0(e,i):Z0(e,i))&&(he=yr(A,"onBeforeInput"),0<he.length&&(Q=new Hh("onBeforeInput","beforeinput",null,i,O),U.push({event:Q,listeners:he}),Q.data=te)),kv(U,e,A,i,O)}Rg(U,t)})}function La(e,t,i){return{instance:e,listener:t,currentTarget:i}}function yr(e,t){for(var i=t+"Capture",s=[];e!==null;){var u=e,c=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=ta(e,i),u!=null&&s.unshift(La(e,u,c)),u=ta(e,t),u!=null&&s.push(La(e,u,c))),e.tag===3)return s;e=e.return}return[]}function Vv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mg(e,t,i,s,u){for(var c=t._reactName,m=[];i!==null&&i!==s;){var p=i,E=p.alternate,A=p.stateNode;if(p=p.tag,E!==null&&E===s)break;p!==5&&p!==26&&p!==27||A===null||(E=A,u?(A=ta(i,c),A!=null&&m.unshift(La(i,A,E))):u||(A=ta(i,c),A!=null&&m.push(La(i,A,E)))),i=i.return}m.length!==0&&e.push({event:t,listeners:m})}var Qv=/\r\n?/g,Xv=/\u0000|\uFFFD/g;function Dg(e){return(typeof e=="string"?e:""+e).replace(Qv,`
`).replace(Xv,"")}function Og(e,t){return t=Dg(t),Dg(e)===t}function Ne(e,t,i,s,u,c){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Wi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Wi(e,""+s);break;case"className":Ss(e,"class",s);break;case"tabIndex":Ss(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ss(e,i,s);break;case"style":Oh(e,s,c);break;case"data":if(t!=="object"){Ss(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Ts(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&Ne(e,t,"name",u.name,u,null),Ne(e,t,"formEncType",u.formEncType,u,null),Ne(e,t,"formMethod",u.formMethod,u,null),Ne(e,t,"formTarget",u.formTarget,u,null)):(Ne(e,t,"encType",u.encType,u,null),Ne(e,t,"method",u.method,u,null),Ne(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Ts(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=mn);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Ts(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":ue("beforetoggle",e),ue("toggle",e),Es(e,"popover",s);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Es(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=b0.get(i)||i,Es(e,i,s))}}function _c(e,t,i,s,u,c){switch(i){case"style":Oh(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Wi(e,s):(typeof s=="number"||typeof s=="bigint")&&Wi(e,""+s);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"onClick":s!=null&&(e.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ch.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),c=e[bt]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,u),typeof s=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,u);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):Es(e,i,s)}}}function dt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var s=!1,u=!1,c;for(c in i)if(i.hasOwnProperty(c)){var m=i[c];if(m!=null)switch(c){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ne(e,t,c,m,i,null)}}u&&Ne(e,t,"srcSet",i.srcSet,i,null),s&&Ne(e,t,"src",i.src,i,null);return;case"input":ue("invalid",e);var p=c=m=u=null,E=null,A=null;for(s in i)if(i.hasOwnProperty(s)){var O=i[s];if(O!=null)switch(s){case"name":u=O;break;case"type":m=O;break;case"checked":E=O;break;case"defaultChecked":A=O;break;case"value":c=O;break;case"defaultValue":p=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:Ne(e,t,s,O,i,null)}}Rh(e,c,p,E,A,m,u,!1);return;case"select":ue("invalid",e),s=m=c=null;for(u in i)if(i.hasOwnProperty(u)&&(p=i[u],p!=null))switch(u){case"value":c=p;break;case"defaultValue":m=p;break;case"multiple":s=p;default:Ne(e,t,u,p,i,null)}t=c,i=m,e.multiple=!!s,t!=null?Ji(e,!!s,t,!1):i!=null&&Ji(e,!!s,i,!0);return;case"textarea":ue("invalid",e),c=u=s=null;for(m in i)if(i.hasOwnProperty(m)&&(p=i[m],p!=null))switch(m){case"value":s=p;break;case"defaultValue":u=p;break;case"children":c=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:Ne(e,t,m,p,i,null)}Mh(e,s,u,c);return;case"option":for(E in i)i.hasOwnProperty(E)&&(s=i[E],s!=null)&&(E==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Ne(e,t,E,s,i,null));return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(s=0;s<za.length;s++)ue(za[s],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in i)if(i.hasOwnProperty(A)&&(s=i[A],s!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ne(e,t,A,s,i,null)}return;default:if(wu(t)){for(O in i)i.hasOwnProperty(O)&&(s=i[O],s!==void 0&&_c(e,t,O,s,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(s=i[p],s!=null&&Ne(e,t,p,s,i,null))}function Fv(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,m=null,p=null,E=null,A=null,O=null;for(M in i){var U=i[M];if(i.hasOwnProperty(M)&&U!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":E=U;default:s.hasOwnProperty(M)||Ne(e,t,M,null,s,U)}}for(var R in s){var M=s[R];if(U=i[R],s.hasOwnProperty(R)&&(M!=null||U!=null))switch(R){case"type":c=M;break;case"name":u=M;break;case"checked":A=M;break;case"defaultChecked":O=M;break;case"value":m=M;break;case"defaultValue":p=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:M!==U&&Ne(e,t,R,M,s,U)}}xu(e,m,p,E,A,O,c,u);return;case"select":M=m=p=R=null;for(c in i)if(E=i[c],i.hasOwnProperty(c)&&E!=null)switch(c){case"value":break;case"multiple":M=E;default:s.hasOwnProperty(c)||Ne(e,t,c,null,s,E)}for(u in s)if(c=s[u],E=i[u],s.hasOwnProperty(u)&&(c!=null||E!=null))switch(u){case"value":R=c;break;case"defaultValue":p=c;break;case"multiple":m=c;default:c!==E&&Ne(e,t,u,c,s,E)}t=p,i=m,s=M,R!=null?Ji(e,!!i,R,!1):!!s!=!!i&&(t!=null?Ji(e,!!i,t,!0):Ji(e,!!i,i?[]:"",!1));return;case"textarea":M=R=null;for(p in i)if(u=i[p],i.hasOwnProperty(p)&&u!=null&&!s.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Ne(e,t,p,null,s,u)}for(m in s)if(u=s[m],c=i[m],s.hasOwnProperty(m)&&(u!=null||c!=null))switch(m){case"value":R=u;break;case"defaultValue":M=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==c&&Ne(e,t,m,u,s,c)}wh(e,R,M);return;case"option":for(var G in i)R=i[G],i.hasOwnProperty(G)&&R!=null&&!s.hasOwnProperty(G)&&(G==="selected"?e.selected=!1:Ne(e,t,G,null,s,R));for(E in s)R=s[E],M=i[E],s.hasOwnProperty(E)&&R!==M&&(R!=null||M!=null)&&(E==="selected"?e.selected=R&&typeof R!="function"&&typeof R!="symbol":Ne(e,t,E,R,s,M));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var K in i)R=i[K],i.hasOwnProperty(K)&&R!=null&&!s.hasOwnProperty(K)&&Ne(e,t,K,null,s,R);for(A in s)if(R=s[A],M=i[A],s.hasOwnProperty(A)&&R!==M&&(R!=null||M!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:Ne(e,t,A,R,s,M)}return;default:if(wu(t)){for(var Ae in i)R=i[Ae],i.hasOwnProperty(Ae)&&R!==void 0&&!s.hasOwnProperty(Ae)&&_c(e,t,Ae,void 0,s,R);for(O in s)R=s[O],M=i[O],!s.hasOwnProperty(O)||R===M||R===void 0&&M===void 0||_c(e,t,O,R,s,M);return}}for(var T in i)R=i[T],i.hasOwnProperty(T)&&R!=null&&!s.hasOwnProperty(T)&&Ne(e,t,T,null,s,R);for(U in s)R=s[U],M=i[U],!s.hasOwnProperty(U)||R===M||R==null&&M==null||Ne(e,t,U,R,s,M)}function zg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var u=i[s],c=u.transferSize,m=u.initiatorType,p=u.duration;if(c&&p&&zg(m)){for(m=0,p=u.responseEnd,s+=1;s<i.length;s++){var E=i[s],A=E.startTime;if(A>p)break;var O=E.transferSize,U=E.initiatorType;O&&zg(U)&&(E=E.responseEnd,m+=O*(E<p?1:(p-A)/(E-A)))}if(--s,t+=8*(c+m)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pc=null,yc=null;function vr(e){return e.nodeType===9?e:e.ownerDocument}function Lg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ug(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bc=null;function Zv(){var e=window.event;return e&&e.type==="popstate"?e===bc?!1:(bc=e,!0):(bc=null,!1)}var Ig=typeof setTimeout=="function"?setTimeout:void 0,Jv=typeof clearTimeout=="function"?clearTimeout:void 0,Bg=typeof Promise=="function"?Promise:void 0,Wv=typeof queueMicrotask=="function"?queueMicrotask:typeof Bg<"u"?function(e){return Bg.resolve(null).then(e).catch(Pv)}:Ig;function Pv(e){setTimeout(function(){throw e})}function ei(e){return e==="head"}function Hg(e,t){var i=t,s=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(u),Rl(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Ua(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ua(i);for(var c=i.firstChild;c;){var m=c.nextSibling,p=c.nodeName;c[$l]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=m}}else i==="body"&&Ua(e.ownerDocument.body);i=u}while(i);Rl(t)}function jg(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function Ec(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Ec(i),Nu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function $v(e,t,i,s){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[$l])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function e1(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Kt(e.nextSibling),e===null))return null;return e}function kg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function Sc(e){return e.data==="$?"||e.data==="$~"}function Cc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function t1(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Tc=null;function qg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Kt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Gg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Yg(e,t,i){switch(t=vr(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ua(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Nu(e)}var Zt=new Map,Vg=new Set;function br(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mn=j.d;j.d={f:n1,r:i1,D:l1,C:a1,L:s1,m:r1,X:o1,S:u1,M:c1};function n1(){var e=Mn.f(),t=fr();return e||t}function i1(e){var t=Fi(e);t!==null&&t.tag===5&&t.type==="form"?rm(t):Mn.r(e)}var Nl=typeof document>"u"?null:document;function Qg(e,t,i){var s=Nl;if(s&&typeof t=="string"&&t){var u=qt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),Vg.has(u)||(Vg.add(u),e={rel:e,crossOrigin:i,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),dt(t,"link",e),tt(t),s.head.appendChild(t)))}}function l1(e){Mn.D(e),Qg("dns-prefetch",e,null)}function a1(e,t){Mn.C(e,t),Qg("preconnect",e,t)}function s1(e,t,i){Mn.L(e,t,i);var s=Nl;if(s&&e&&t){var u='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+qt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+qt(i.imageSizes)+'"]')):u+='[href="'+qt(e)+'"]';var c=u;switch(t){case"style":c=Al(e);break;case"script":c=xl(e)}Zt.has(c)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Zt.set(c,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(Ia(c))||t==="script"&&s.querySelector(Ba(c))||(t=s.createElement("link"),dt(t,"link",e),tt(t),s.head.appendChild(t)))}}function r1(e,t){Mn.m(e,t);var i=Nl;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+qt(s)+'"][href="'+qt(e)+'"]',c=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=xl(e)}if(!Zt.has(c)&&(e=v({rel:"modulepreload",href:e},t),Zt.set(c,e),i.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ba(c)))return}s=i.createElement("link"),dt(s,"link",e),tt(s),i.head.appendChild(s)}}}function u1(e,t,i){Mn.S(e,t,i);var s=Nl;if(s&&e){var u=Ki(s).hoistableStyles,c=Al(e);t=t||"default";var m=u.get(c);if(!m){var p={loading:0,preload:null};if(m=s.querySelector(Ia(c)))p.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Zt.get(c))&&Nc(e,i);var E=m=s.createElement("link");tt(E),dt(E,"link",e),E._p=new Promise(function(A,O){E.onload=A,E.onerror=O}),E.addEventListener("load",function(){p.loading|=1}),E.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Er(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:p},u.set(c,m)}}}function o1(e,t){Mn.X(e,t);var i=Nl;if(i&&e){var s=Ki(i).hoistableScripts,u=xl(e),c=s.get(u);c||(c=i.querySelector(Ba(u)),c||(e=v({src:e,async:!0},t),(t=Zt.get(u))&&Ac(e,t),c=i.createElement("script"),tt(c),dt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(u,c))}}function c1(e,t){Mn.M(e,t);var i=Nl;if(i&&e){var s=Ki(i).hoistableScripts,u=xl(e),c=s.get(u);c||(c=i.querySelector(Ba(u)),c||(e=v({src:e,async:!0,type:"module"},t),(t=Zt.get(u))&&Ac(e,t),c=i.createElement("script"),tt(c),dt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(u,c))}}function Xg(e,t,i,s){var u=(u=se.current)?br(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Al(i.href),i=Ki(u).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Al(i.href);var c=Ki(u).hoistableStyles,m=c.get(e);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,m),(c=u.querySelector(Ia(e)))&&!c._p&&(m.instance=c,m.state.loading=5),Zt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Zt.set(e,i),c||f1(u,e,i,m.state))),t&&s===null)throw Error(r(528,""));return m}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xl(i),i=Ki(u).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Al(e){return'href="'+qt(e)+'"'}function Ia(e){return'link[rel="stylesheet"]['+e+"]"}function Fg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function f1(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),dt(t,"link",i),tt(t),e.head.appendChild(t))}function xl(e){return'[src="'+qt(e)+'"]'}function Ba(e){return"script[async]"+e}function Kg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+qt(i.href)+'"]');if(s)return t.instance=s,tt(s),s;var u=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),tt(s),dt(s,"style",u),Er(s,i.precedence,e),t.instance=s;case"stylesheet":u=Al(i.href);var c=e.querySelector(Ia(u));if(c)return t.state.loading|=4,t.instance=c,tt(c),c;s=Fg(i),(u=Zt.get(u))&&Nc(s,u),c=(e.ownerDocument||e).createElement("link"),tt(c);var m=c;return m._p=new Promise(function(p,E){m.onload=p,m.onerror=E}),dt(c,"link",s),t.state.loading|=4,Er(c,i.precedence,e),t.instance=c;case"script":return c=xl(i.src),(u=e.querySelector(Ba(c)))?(t.instance=u,tt(u),u):(s=i,(u=Zt.get(c))&&(s=v({},i),Ac(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),tt(u),dt(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Er(s,i.precedence,e));return t.instance}function Er(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,c=u,m=0;m<s.length;m++){var p=s[m];if(p.dataset.precedence===t)c=p;else if(c!==u)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ac(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Sr=null;function Zg(e,t,i){if(Sr===null){var s=new Map,u=Sr=new Map;u.set(i,s)}else u=Sr,s=u.get(i),s||(s=new Map,u.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var c=i[u];if(!(c[$l]||c[ot]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(t)||"";m=e+m;var p=s.get(m);p?p.push(c):s.set(m,[c])}}return s}function Jg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function h1(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function d1(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=Al(s.href),c=t.querySelector(Ia(u));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Cr.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=c,tt(c);return}c=t.ownerDocument||t,s=Fg(s),(u=Zt.get(u))&&Nc(s,u),c=c.createElement("link"),tt(c);var m=c;m._p=new Promise(function(p,E){m.onload=p,m.onerror=E}),dt(c,"link",s),i.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Cr.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var xc=0;function m1(e,t){return e.stylesheets&&e.count===0&&Nr(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Nr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&xc===0&&(xc=62500*Kv());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Nr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>xc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function Cr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tr=null;function Nr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tr=new Map,t.forEach(g1,e),Tr=null,Cr.call(e))}function g1(e,t){if(!(t.state.loading&4)){var i=Tr.get(e);if(i)var s=i.get(null);else{i=new Map,Tr.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var m=u[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(i.set(m.dataset.precedence,m),s=m)}s&&i.set(null,s)}u=t.instance,m=u.getAttribute("data-precedence"),c=i.get(m)||s,c===s&&i.set(null,u),i.set(m,u),this.count++,s=Cr.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),c?c.parentNode.insertBefore(u,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ha={$$typeof:V,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function _1(e,t,i,s,u,c,m,p,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Eu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eu(0),this.hiddenUpdates=Eu(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Pg(e,t,i,s,u,c,m,p,E,A,O,U){return e=new _1(e,t,i,m,E,A,O,U,p),t=1,c===!0&&(t|=24),c=zt(3,null,null,t),e.current=c,c.stateNode=e,t=ao(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:i,cache:t},oo(c),e}function $g(e){return e?(e=ll,e):ll}function e_(e,t,i,s,u,c){u=$g(u),s.context===null?s.context=u:s.pendingContext=u,s=Yn(t),s.payload={element:i},c=c===void 0?null:c,c!==null&&(s.callback=c),i=Vn(e,s,t),i!==null&&(At(i,e,t),_a(i,e,t))}function t_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Rc(e,t){t_(e,t),(e=e.alternate)&&t_(e,t)}function n_(e){if(e.tag===13||e.tag===31){var t=bi(e,67108864);t!==null&&At(t,e,67108864),Rc(e,67108864)}}function i_(e){if(e.tag===13||e.tag===31){var t=Ht();t=Su(t);var i=bi(e,t);i!==null&&At(i,e,t),Rc(e,t)}}var Ar=!0;function p1(e,t,i,s){var u=z.T;z.T=null;var c=j.p;try{j.p=2,wc(e,t,i,s)}finally{j.p=c,z.T=u}}function y1(e,t,i,s){var u=z.T;z.T=null;var c=j.p;try{j.p=8,wc(e,t,i,s)}finally{j.p=c,z.T=u}}function wc(e,t,i,s){if(Ar){var u=Mc(s);if(u===null)gc(e,t,s,xr,i),a_(e,s);else if(b1(u,e,t,i,s))s.stopPropagation();else if(a_(e,s),t&4&&-1<v1.indexOf(e)){for(;u!==null;){var c=Fi(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=gi(c.pendingLanes);if(m!==0){var p=c;for(p.pendingLanes|=2,p.entangledLanes|=2;m;){var E=1<<31-Dt(m);p.entanglements[1]|=E,m&=~E}cn(c),(pe&6)===0&&(or=wt()+500,Oa(0))}}break;case 31:case 13:p=bi(c,2),p!==null&&At(p,c,2),fr(),Rc(c,2)}if(c=Mc(s),c===null&&gc(e,t,s,xr,i),c===u)break;u=c}u!==null&&s.stopPropagation()}else gc(e,t,s,null,i)}}function Mc(e){return e=Du(e),Dc(e)}var xr=null;function Dc(e){if(xr=null,e=Xi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===31){if(e=_(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return xr=e,null}function l_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(l0()){case hh:return 2;case dh:return 8;case _s:case a0:return 32;case mh:return 268435456;default:return 32}default:return 32}}var Oc=!1,ti=null,ni=null,ii=null,ja=new Map,ka=new Map,li=[],v1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a_(e,t){switch(e){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":ja.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(t.pointerId)}}function qa(e,t,i,s,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:c,targetContainers:[u]},t!==null&&(t=Fi(t),t!==null&&n_(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function b1(e,t,i,s,u){switch(t){case"focusin":return ti=qa(ti,e,t,i,s,u),!0;case"dragenter":return ni=qa(ni,e,t,i,s,u),!0;case"mouseover":return ii=qa(ii,e,t,i,s,u),!0;case"pointerover":var c=u.pointerId;return ja.set(c,qa(ja.get(c)||null,e,t,i,s,u)),!0;case"gotpointercapture":return c=u.pointerId,ka.set(c,qa(ka.get(c)||null,e,t,i,s,u)),!0}return!1}function s_(e){var t=Xi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,bh(e.priority,function(){i_(i)});return}}else if(t===31){if(t=_(i),t!==null){e.blockedOn=t,bh(e.priority,function(){i_(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Mc(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Mu=s,i.target.dispatchEvent(s),Mu=null}else return t=Fi(i),t!==null&&n_(t),e.blockedOn=i,!1;t.shift()}return!0}function r_(e,t,i){Rr(e)&&i.delete(t)}function E1(){Oc=!1,ti!==null&&Rr(ti)&&(ti=null),ni!==null&&Rr(ni)&&(ni=null),ii!==null&&Rr(ii)&&(ii=null),ja.forEach(r_),ka.forEach(r_)}function wr(e,t){e.blockedOn===t&&(e.blockedOn=null,Oc||(Oc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,E1)))}var Mr=null;function u_(e){Mr!==e&&(Mr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Mr===e&&(Mr=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(Dc(s||i)===null)continue;break}var c=Fi(i);c!==null&&(e.splice(t,3),t-=3,Mo(c,{pending:!0,data:u,method:i.method,action:s},s,u))}}))}function Rl(e){function t(E){return wr(E,e)}ti!==null&&wr(ti,e),ni!==null&&wr(ni,e),ii!==null&&wr(ii,e),ja.forEach(t),ka.forEach(t);for(var i=0;i<li.length;i++){var s=li[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<li.length&&(i=li[0],i.blockedOn===null);)s_(i),i.blockedOn===null&&li.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var u=i[s],c=i[s+1],m=u[bt]||null;if(typeof c=="function")m||u_(i);else if(m){var p=null;if(c&&c.hasAttribute("formAction")){if(u=c,m=c[bt]||null)p=m.formAction;else if(Dc(u)!==null)continue}else p=m.action;typeof p=="function"?i[s+1]=p:(i.splice(s,3),s-=3),u_(i)}}}function o_(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(m){return u=m})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function zc(e){this._internalRoot=e}Dr.prototype.render=zc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,s=Ht();e_(i,s,e,t,null,null)},Dr.prototype.unmount=zc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e_(e.current,2,null,e,null,null),fr(),t[Qi]=null}};function Dr(e){this._internalRoot=e}Dr.prototype.unstable_scheduleHydration=function(e){if(e){var t=vh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<li.length&&t!==0&&t<li[i].priority;i++);li.splice(i,0,e),i===0&&s_(e)}};var c_=n.version;if(c_!=="19.2.3")throw Error(r(527,c_,"19.2.3"));j.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var S1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Or.isDisabled&&Or.supportsFiber)try{Jl=Or.inject(S1),Mt=Or}catch{}}return Ya.createRoot=function(e,t){if(!o(e))throw Error(r(299));var i=!1,s="",u=pm,c=ym,m=vm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Pg(e,1,!1,null,null,i,s,null,u,c,m,o_),e[Qi]=t.current,mc(e),new zc(t)},Ya.hydrateRoot=function(e,t,i){if(!o(e))throw Error(r(299));var s=!1,u="",c=pm,m=ym,p=vm,E=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.formState!==void 0&&(E=i.formState)),t=Pg(e,1,!0,t,i??null,s,u,E,c,m,p,o_),t.context=$g(null),i=t.current,s=Ht(),s=Su(s),u=Yn(s),u.callback=null,Vn(i,u,s),i=s,t.current.lanes=i,Pl(t,i),cn(t),e[Qi]=t.current,mc(e),new Dr(t)},Ya.version="19.2.3",Ya}var b_;function z1(){if(b_)return Ic.exports;b_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Ic.exports=O1(),Ic.exports}var L1=z1();const U1=()=>Date.now().toString(36)+Math.random().toString(36).substr(2,5).toUpperCase(),I1=a=>{const n=[...a];for(let l=n.length-1;l>0;l--){const r=Math.floor(Math.random()*(l+1));[n[l],n[r]]=[n[r],n[l]]}return n},B1=()=>{};var E_={};const _p={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const H=function(a,n){if(!a)throw Yl(n)},Yl=function(a){return new Error("Firebase Database ("+_p.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const pp=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},H1=function(a){const n=[];let l=0,r=0;for(;l<a.length;){const o=a[l++];if(o<128)n[r++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[l++];n[r++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[l++],h=a[l++],_=a[l++],d=((o&7)<<18|(f&63)<<12|(h&63)<<6|_&63)-65536;n[r++]=String.fromCharCode(55296+(d>>10)),n[r++]=String.fromCharCode(56320+(d&1023))}else{const f=a[l++],h=a[l++];n[r++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return n.join("")},xf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const f=a[o],h=o+1<a.length,_=h?a[o+1]:0,d=o+2<a.length,g=d?a[o+2]:0,y=f>>2,v=(f&3)<<4|_>>4;let b=(_&15)<<2|g>>6,x=g&63;d||(x=64,h||(b=64)),r.push(l[y],l[v],l[b],l[x])}return r.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(pp(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):H1(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const f=l[a.charAt(o++)],_=o<a.length?l[a.charAt(o)]:0;++o;const g=o<a.length?l[a.charAt(o)]:64;++o;const v=o<a.length?l[a.charAt(o)]:64;if(++o,f==null||_==null||g==null||v==null)throw new j1;const b=f<<2|_>>4;if(r.push(b),g!==64){const x=_<<4&240|g>>2;if(r.push(x),v!==64){const w=g<<6&192|v;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class j1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yp=function(a){const n=pp(a);return xf.encodeByteArray(n,!0)},Br=function(a){return yp(a).replace(/\./g,"")},Pc=function(a){try{return xf.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function k1(a){return vp(void 0,a)}function vp(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!q1(l)||(a[l]=vp(a[l],n[l]));return a}function q1(a){return a!=="__proto__"}function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Y1=()=>G1().__FIREBASE_DEFAULTS__,V1=()=>{if(typeof process>"u"||typeof E_>"u")return;const a=E_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Q1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&Pc(a[1]);return n&&JSON.parse(n)},bp=()=>{try{return B1()||Y1()||V1()||Q1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},X1=a=>bp()?.emulatorHosts?.[a],F1=a=>{const n=X1(a);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),r]:[n.substring(0,l),r]},Ep=()=>bp()?.config;class fn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,r)=>{l?this.reject(l):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,r))}}}function Rf(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function K1(a){return(await fetch(a,{credentials:"include"})).ok}function Z1(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},r=n||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Br(JSON.stringify(l)),Br(JSON.stringify(h)),""].join(".")}const Za={};function J1(){const a={prod:[],emulator:[]};for(const n of Object.keys(Za))Za[n]?a.emulator.push(n):a.prod.push(n);return a}function W1(a){let n=document.getElementById(a),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),l=!0),{created:l,element:n}}let S_=!1;function P1(a,n){if(typeof window>"u"||typeof document>"u"||!Rf(window.location.host)||Za[a]===n||Za[a]||S_)return;Za[a]=n;function l(b){return`__firebase__banner__${b}`}const r="__firebase__banner",f=J1().prod.length>0;function h(){const b=document.getElementById(r);b&&b.remove()}function _(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{S_=!0,h()},b}function y(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=W1(r),x=l("text"),w=document.getElementById(x)||document.createElement("span"),B=l("learnmore"),k=document.getElementById(B)||document.createElement("a"),$=l("preprendIcon"),ee=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const V=b.element;_(V),y(k,B);const ce=g();d(ee,$),V.append(ee,w,k,ce),document.body.appendChild(V)}f?(w.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function $1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($1())}function eb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tb(){return _p.NODE_ADMIN===!0}function nb(){try{return typeof indexedDB=="object"}catch{return!1}}function ib(){return new Promise((a,n)=>{try{let l=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),l||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{l=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(l){n(l)}})}const lb="FirebaseError";class cs extends Error{constructor(n,l,r){super(l),this.code=n,this.customData=r,this.name=lb,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cp.prototype.create)}}class Cp{constructor(n,l,r){this.service=n,this.serviceName=l,this.errors=r}create(n,...l){const r=l[0]||{},o=`${this.service}/${n}`,f=this.errors[n],h=f?ab(f,r):"Error",_=`${this.serviceName}: ${h} (${o}).`;return new cs(o,_,r)}}function ab(a,n){return a.replace(sb,(l,r)=>{const o=n[r];return o!=null?String(o):`<${r}?>`})}const sb=/\{\$([^}]+)}/g;function ts(a){return JSON.parse(a)}function st(a){return JSON.stringify(a)}const Tp=function(a){let n={},l={},r={},o="";try{const f=a.split(".");n=ts(Pc(f[0])||""),l=ts(Pc(f[1])||""),o=f[2],r=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:r,signature:o}},rb=function(a){const n=Tp(a),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},ub=function(a){const n=Tp(a).claims;return typeof n=="object"&&n.admin===!0};function hn(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Il(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function $c(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function Hr(a,n,l){const r={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=n.call(l,a[o],o,a));return r}function jr(a,n){if(a===n)return!0;const l=Object.keys(a),r=Object.keys(n);for(const o of l){if(!r.includes(o))return!1;const f=a[o],h=n[o];if(C_(f)&&C_(h)){if(!jr(f,h))return!1}else if(f!==h)return!1}for(const o of r)if(!l.includes(o))return!1;return!0}function C_(a){return a!==null&&typeof a=="object"}function ob(a){const n=[];for(const[l,r]of Object.entries(a))Array.isArray(r)?r.forEach(o=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}class cb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const r=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)r[v]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let v=0;v<16;v++)r[v]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let v=16;v<80;v++){const b=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(b<<1|b>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],_=this.chain_[3],d=this.chain_[4],g,y;for(let v=0;v<80;v++){v<40?v<20?(g=_^f&(h^_),y=1518500249):(g=f^h^_,y=1859775393):v<60?(g=f&h|_&(f|h),y=2400959708):(g=f^h^_,y=3395469782);const b=(o<<5|o>>>27)+g+d+y+r[v]&4294967295;d=_,_=h,h=(f<<30|f>>>2)&4294967295,f=o,o=b}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+_&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const r=l-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<l;){if(h===0)for(;o<=r;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<l;)if(f[h]=n.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<l;)if(f[h]=n[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=l&255,l/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[o]>>f&255,++r;return n}}function Bl(a,n){return`${a} failed: ${n} argument `}const fb=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);if(o>=55296&&o<=56319){const f=o-55296;r++,H(r<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(r)-56320;o=65536+(f<<10)+h}o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):o<65536?(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},nu=function(a){let n=0;for(let l=0;l<a.length;l++){const r=a.charCodeAt(l);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,l++):n+=3}return n};function Vl(a){return a&&a._delegate?a._delegate:a}class ns{constructor(n,l,r){this.name=n,this.instanceFactory=l,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const zi="[DEFAULT]";class hb{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const r=new fn;if(this.instancesDeferred.set(l,r),this.isInitialized(l)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:l});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),r=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(mb(n))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(const[l,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:o});r.resolve(f)}catch{}}}}clearInstance(n=zi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=zi){return this.instances.has(n)}getOptions(n=zi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:l});for(const[f,h]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(f);r===_&&h.resolve(o)}return o}onInit(n,l){const r=this.normalizeInstanceIdentifier(l),o=this.onInitCallbacks.get(r)??new Set;o.add(n),this.onInitCallbacks.set(r,o);const f=this.instances.get(r);return f&&n(f,r),()=>{o.delete(n)}}invokeOnInitCallbacks(n,l){const r=this.onInitCallbacks.get(l);if(r)for(const o of r)try{o(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:db(n),options:l}),this.instances.set(n,r),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=zi){return this.component?this.component.multipleInstances?n:zi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function db(a){return a===zi?void 0:a}function mb(a){return a.instantiationMode==="EAGER"}class gb{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new hb(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}var Me;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Me||(Me={}));const _b={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},pb=Me.INFO,yb={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},vb=(a,n,...l)=>{if(n<a.logLevel)return;const r=new Date().toISOString(),o=yb[n];if(o)console[o](`[${r}]  ${a.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Np{constructor(n){this.name=n,this._logLevel=pb,this._logHandler=vb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Me))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?_b[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...n),this._logHandler(this,Me.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...n),this._logHandler(this,Me.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...n),this._logHandler(this,Me.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...n),this._logHandler(this,Me.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...n),this._logHandler(this,Me.ERROR,...n)}}const bb=(a,n)=>n.some(l=>a instanceof l);let T_,N_;function Eb(){return T_||(T_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sb(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ap=new WeakMap,ef=new WeakMap,xp=new WeakMap,kc=new WeakMap,wf=new WeakMap;function Cb(a){const n=new Promise((l,r)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",h)},f=()=>{l(ri(a.result)),o()},h=()=>{r(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&Ap.set(l,a)}).catch(()=>{}),wf.set(n,a),n}function Tb(a){if(ef.has(a))return;const n=new Promise((l,r)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",h),a.removeEventListener("abort",h)},f=()=>{l(),o()},h=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",h),a.addEventListener("abort",h)});ef.set(a,n)}let tf={get(a,n,l){if(a instanceof IDBTransaction){if(n==="done")return ef.get(a);if(n==="objectStoreNames")return a.objectStoreNames||xp.get(a);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return ri(a[n])},set(a,n,l){return a[n]=l,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function Nb(a){tf=a(tf)}function Ab(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const r=a.call(qc(this),n,...l);return xp.set(r,n.sort?n.sort():[n]),ri(r)}:Sb().includes(a)?function(...n){return a.apply(qc(this),n),ri(Ap.get(this))}:function(...n){return ri(a.apply(qc(this),n))}}function xb(a){return typeof a=="function"?Ab(a):(a instanceof IDBTransaction&&Tb(a),bb(a,Eb())?new Proxy(a,tf):a)}function ri(a){if(a instanceof IDBRequest)return Cb(a);if(kc.has(a))return kc.get(a);const n=xb(a);return n!==a&&(kc.set(a,n),wf.set(n,a)),n}const qc=a=>wf.get(a);function Rb(a,n,{blocked:l,upgrade:r,blocking:o,terminated:f}={}){const h=indexedDB.open(a,n),_=ri(h);return r&&h.addEventListener("upgradeneeded",d=>{r(ri(h.result),d.oldVersion,d.newVersion,ri(h.transaction),d)}),l&&h.addEventListener("blocked",d=>l(d.oldVersion,d.newVersion,d)),_.then(d=>{f&&d.addEventListener("close",()=>f()),o&&d.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),_}const wb=["get","getKey","getAll","getAllKeys","count"],Mb=["put","add","delete","clear"],Gc=new Map;function A_(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(Gc.get(n))return Gc.get(n);const l=n.replace(/FromIndex$/,""),r=n!==l,o=Mb.includes(l);if(!(l in(r?IDBIndex:IDBObjectStore).prototype)||!(o||wb.includes(l)))return;const f=async function(h,..._){const d=this.transaction(h,o?"readwrite":"readonly");let g=d.store;return r&&(g=g.index(_.shift())),(await Promise.all([g[l](..._),o&&d.done]))[0]};return Gc.set(n,f),f}Nb(a=>({...a,get:(n,l,r)=>A_(n,l)||a.get(n,l,r),has:(n,l)=>!!A_(n,l)||a.has(n,l)}));class Db{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(Ob(l)){const r=l.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(l=>l).join(" ")}}function Ob(a){return a.getComponent()?.type==="VERSION"}const nf="@firebase/app",x_="0.14.6";const zn=new Np("@firebase/app"),zb="@firebase/app-compat",Lb="@firebase/analytics-compat",Ub="@firebase/analytics",Ib="@firebase/app-check-compat",Bb="@firebase/app-check",Hb="@firebase/auth",jb="@firebase/auth-compat",kb="@firebase/database",qb="@firebase/data-connect",Gb="@firebase/database-compat",Yb="@firebase/functions",Vb="@firebase/functions-compat",Qb="@firebase/installations",Xb="@firebase/installations-compat",Fb="@firebase/messaging",Kb="@firebase/messaging-compat",Zb="@firebase/performance",Jb="@firebase/performance-compat",Wb="@firebase/remote-config",Pb="@firebase/remote-config-compat",$b="@firebase/storage",eE="@firebase/storage-compat",tE="@firebase/firestore",nE="@firebase/ai",iE="@firebase/firestore-compat",lE="firebase",aE="12.6.0";const lf="[DEFAULT]",sE={[nf]:"fire-core",[zb]:"fire-core-compat",[Ub]:"fire-analytics",[Lb]:"fire-analytics-compat",[Bb]:"fire-app-check",[Ib]:"fire-app-check-compat",[Hb]:"fire-auth",[jb]:"fire-auth-compat",[kb]:"fire-rtdb",[qb]:"fire-data-connect",[Gb]:"fire-rtdb-compat",[Yb]:"fire-fn",[Vb]:"fire-fn-compat",[Qb]:"fire-iid",[Xb]:"fire-iid-compat",[Fb]:"fire-fcm",[Kb]:"fire-fcm-compat",[Zb]:"fire-perf",[Jb]:"fire-perf-compat",[Wb]:"fire-rc",[Pb]:"fire-rc-compat",[$b]:"fire-gcs",[eE]:"fire-gcs-compat",[tE]:"fire-fst",[iE]:"fire-fst-compat",[nE]:"fire-vertex","fire-js":"fire-js",[lE]:"fire-js-all"};const kr=new Map,rE=new Map,af=new Map;function R_(a,n){try{a.container.addComponent(n)}catch(l){zn.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,l)}}function qr(a){const n=a.name;if(af.has(n))return zn.debug(`There were multiple attempts to register component ${n}.`),!1;af.set(n,a);for(const l of kr.values())R_(l,a);for(const l of rE.values())R_(l,a);return!0}function uE(a,n){const l=a.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),a.container.getProvider(n)}function oE(a){return a==null?!1:a.settings!==void 0}const cE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new Cp("app","Firebase",cE);class fE{constructor(n,l,r){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}const hE=aE;function Rp(a,n={}){let l=a;typeof n!="object"&&(n={name:n});const r={name:lf,automaticDataCollectionEnabled:!0,...n},o=r.name;if(typeof o!="string"||!o)throw ui.create("bad-app-name",{appName:String(o)});if(l||(l=Ep()),!l)throw ui.create("no-options");const f=kr.get(o);if(f){if(jr(l,f.options)&&jr(r,f.config))return f;throw ui.create("duplicate-app",{appName:o})}const h=new gb(o);for(const d of af.values())h.addComponent(d);const _=new fE(l,r,h);return kr.set(o,_),_}function dE(a=lf){const n=kr.get(a);if(!n&&a===lf&&Ep())return Rp();if(!n)throw ui.create("no-app",{appName:a});return n}function Ol(a,n,l){let r=sE[a]??a;l&&(r+=`-${l}`);const o=r.match(/\s|\//),f=n.match(/\s|\//);if(o||f){const h=[`Unable to register library "${r}" with version "${n}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),zn.warn(h.join(" "));return}qr(new ns(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}const mE="firebase-heartbeat-database",gE=1,is="firebase-heartbeat-store";let Yc=null;function wp(){return Yc||(Yc=Rb(mE,gE,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(is)}catch(l){console.warn(l)}}}}).catch(a=>{throw ui.create("idb-open",{originalErrorMessage:a.message})})),Yc}async function _E(a){try{const l=(await wp()).transaction(is),r=await l.objectStore(is).get(Mp(a));return await l.done,r}catch(n){if(n instanceof cs)zn.warn(n.message);else{const l=ui.create("idb-get",{originalErrorMessage:n?.message});zn.warn(l.message)}}}async function w_(a,n){try{const r=(await wp()).transaction(is,"readwrite");await r.objectStore(is).put(n,Mp(a)),await r.done}catch(l){if(l instanceof cs)zn.warn(l.message);else{const r=ui.create("idb-set",{originalErrorMessage:l?.message});zn.warn(r.message)}}}function Mp(a){return`${a.name}!${a.options.appId}`}const pE=1024,yE=30;class vE{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new EE(l),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=M_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:l}),this._heartbeatsCache.heartbeats.length>yE){const o=SE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){zn.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=M_(),{heartbeatsToSend:l,unsentEntries:r}=bE(this._heartbeatsCache.heartbeats),o=Br(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return zn.warn(n),""}}}function M_(){return new Date().toISOString().substring(0,10)}function bE(a,n=pE){const l=[];let r=a.slice();for(const o of a){const f=l.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),D_(l)>n){f.dates.pop();break}}else if(l.push({agent:o.agent,dates:[o.date]}),D_(l)>n){l.pop();break}r=r.slice(1)}return{heartbeatsToSend:l,unsentEntries:r}}class EE{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nb()?ib().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await _E(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return w_(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return w_(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function D_(a){return Br(JSON.stringify({version:2,heartbeats:a})).length}function SE(a){if(a.length===0)return-1;let n=0,l=a[0].date;for(let r=1;r<a.length;r++)a[r].date<l&&(l=a[r].date,n=r);return n}function CE(a){qr(new ns("platform-logger",n=>new Db(n),"PRIVATE")),qr(new ns("heartbeat",n=>new vE(n),"PRIVATE")),Ol(nf,x_,a),Ol(nf,x_,"esm2020"),Ol("fire-js","")}CE("");var O_={};const z_="@firebase/database",L_="1.1.0";let Dp="";function TE(a){Dp=a}class NE{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),st(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:ts(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class AE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return hn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const Op=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new NE(n)}}catch{}return new AE},Ui=Op("localStorage"),xE=Op("sessionStorage");const zl=new Np("@firebase/database"),RE=(function(){let a=1;return function(){return a++}})(),zp=function(a){const n=fb(a),l=new cb;l.update(n);const r=l.digest();return xf.encodeByteArray(r)},fs=function(...a){let n="";for(let l=0;l<a.length;l++){const r=a[l];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=fs.apply(null,r):typeof r=="object"?n+=st(r):n+=r,n+=" "}return n};let Ja=null,U_=!0;const wE=function(a,n){H(!0,"Can't turn on custom loggers persistently."),zl.logLevel=Me.VERBOSE,Ja=zl.log.bind(zl)},at=function(...a){if(U_===!0&&(U_=!1,Ja===null&&xE.get("logging_enabled")===!0&&wE()),Ja){const n=fs.apply(null,a);Ja(n)}},hs=function(a){return function(...n){at(a,...n)}},sf=function(...a){const n="FIREBASE INTERNAL ERROR: "+fs(...a);zl.error(n)},Ln=function(...a){const n=`FIREBASE FATAL ERROR: ${fs(...a)}`;throw zl.error(n),new Error(n)},yt=function(...a){const n="FIREBASE WARNING: "+fs(...a);zl.warn(n)},ME=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},iu=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},DE=function(a){if(document.readyState==="complete")a();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Hl="[MIN_NAME]",Hi="[MAX_NAME]",Yi=function(a,n){if(a===n)return 0;if(a===Hl||n===Hi)return-1;if(n===Hl||a===Hi)return 1;{const l=I_(a),r=I_(n);return l!==null?r!==null?l-r===0?a.length-n.length:l-r:-1:r!==null?1:a<n?-1:1}},OE=function(a,n){return a===n?0:a<n?-1:1},Va=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+st(n))},Mf=function(a){if(typeof a!="object"||a===null)return st(a);const n=[];for(const r in a)n.push(r);n.sort();let l="{";for(let r=0;r<n.length;r++)r!==0&&(l+=","),l+=st(n[r]),l+=":",l+=Mf(a[n[r]]);return l+="}",l},Lp=function(a,n){const l=a.length;if(l<=n)return[a];const r=[];for(let o=0;o<l;o+=n)o+n>l?r.push(a.substring(o,l)):r.push(a.substring(o,o+n));return r};function rt(a,n){for(const l in a)a.hasOwnProperty(l)&&n(l,a[l])}const Up=function(a){H(!iu(a),"Invalid JSON number");const n=11,l=52,r=(1<<n-1)-1;let o,f,h,_,d;a===0?(f=0,h=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-r)?(_=Math.min(Math.floor(Math.log(a)/Math.LN2),r),f=_+r,h=Math.round(a*Math.pow(2,l-_)-Math.pow(2,l))):(f=0,h=Math.round(a/Math.pow(2,1-r-l))));const g=[];for(d=l;d;d-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(d=n;d;d-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(o?1:0),g.reverse();const y=g.join("");let v="";for(d=0;d<64;d+=8){let b=parseInt(y.substr(d,8),2).toString(16);b.length===1&&(b="0"+b),v=v+b}return v.toLowerCase()},zE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},LE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function UE(a,n){let l="Unknown Error";a==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?l="Client doesn't have permission to access the desired data.":a==="unavailable"&&(l="The service is unavailable");const r=new Error(a+" at "+n._path.toString()+": "+l);return r.code=a.toUpperCase(),r}const IE=new RegExp("^-?(0*)\\d{1,10}$"),BE=-2147483648,HE=2147483647,I_=function(a){if(IE.test(a)){const n=Number(a);if(n>=BE&&n<=HE)return n}return null},Ql=function(a){try{a()}catch(n){setTimeout(()=>{const l=n.stack||"";throw yt("Exception was thrown by user callback.",l),n},Math.floor(0))}},jE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Wa=function(a,n){const l=setTimeout(a,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};class kE{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,oE(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qE{constructor(n,l,r){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(n)}}class Ur{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Ur.OWNER="owner";const Df="5",Ip="v",Bp="s",Hp="r",jp="f",kp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qp="ls",Gp="p",rf="ac",Yp="websocket",Vp="long_polling";class Qp{constructor(n,l,r,o,f=!1,h="",_=!1,d=!1,g=null){this.secure=l,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=_,this.isUsingEmulator=d,this.emulatorOptions=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ui.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ui.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function GE(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function Xp(a,n,l){H(typeof n=="string","typeof type must == string"),H(typeof l=="object","typeof params must == object");let r;if(n===Yp)r=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===Vp)r=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);GE(a)&&(l.ns=a.namespace);const o=[];return rt(l,(f,h)=>{o.push(f+"="+h)}),r+o.join("&")}class YE{constructor(){this.counters_={}}incrementCounter(n,l=1){hn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return k1(this.counters_)}}const Vc={},Qc={};function Of(a){const n=a.toString();return Vc[n]||(Vc[n]=new YE),Vc[n]}function VE(a,n){const l=a.toString();return Qc[l]||(Qc[l]=n()),Qc[l]}class QE{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Ql(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const B_="start",XE="close",FE="pLPCommand",KE="pRTLPCB",Fp="id",Kp="pw",Zp="ser",ZE="cb",JE="seg",WE="ts",PE="d",$E="dframe",Jp=1870,Wp=30,eS=Jp-Wp,tS=25e3,nS=3e4;class Ml{constructor(n,l,r,o,f,h,_){this.connId=n,this.repoInfo=l,this.applicationId=r,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hs(n),this.stats_=Of(l),this.urlFn=d=>(this.appCheckToken&&(d[rf]=this.appCheckToken),Xp(l,Vp,d))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new QE(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(nS)),DE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zf((...f)=>{const[h,_,d,g,y]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===B_)this.id=_,this.password=d;else if(h===XE)_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,_]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,_)},()=>{this.onClosed_()},this.urlFn);const r={};r[B_]="t",r[Zp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ZE]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ip]=Df,this.transportSessionId&&(r[Bp]=this.transportSessionId),this.lastSessionId&&(r[qp]=this.lastSessionId),this.applicationId&&(r[Gp]=this.applicationId),this.appCheckToken&&(r[rf]=this.appCheckToken),typeof location<"u"&&location.hostname&&kp.test(location.hostname)&&(r[Hp]=jp);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ml.forceAllow_=!0}static forceDisallow(){Ml.forceDisallow_=!0}static isAvailable(){return Ml.forceAllow_?!0:!Ml.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!zE()&&!LE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=st(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=yp(l),o=Lp(r,eS);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const r={};r[$E]="t",r[Fp]=n,r[Kp]=l,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=st(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class zf{constructor(n,l,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=RE(),window[FE+this.uniqueCallbackIdentifier]=n,window[KE+this.uniqueCallbackIdentifier]=l,this.myIFrame=zf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(_){at("frame writing exception"),_.stack&&at(_.stack),at(_)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||at("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Fp]=this.myID,n[Kp]=this.myPW,n[Zp]=this.currentSerial;let l=this.urlFn(n),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Wp+r.length<=Jp;){const h=this.pendingSegs.shift();r=r+"&"+JE+o+"="+h.seg+"&"+WE+o+"="+h.ts+"&"+PE+o+"="+h.d,o++}return l=l+r,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,r){this.pendingSegs.push({seg:n,ts:l,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const r=()=>{this.outstandingRequests.delete(l),this.newRequest_()},o=setTimeout(r,Math.floor(tS)),f=()=>{clearTimeout(o),r()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),l())},r.onerror=()=>{at("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const iS=16384,lS=45e3;let Gr=null;typeof MozWebSocket<"u"?Gr=MozWebSocket:typeof WebSocket<"u"&&(Gr=WebSocket);class en{constructor(n,l,r,o,f,h,_){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hs(this.connId),this.stats_=Of(l),this.connURL=en.connectionURL_(l,h,_,o,r),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,r,o,f){const h={};return h[Ip]=Df,typeof location<"u"&&location.hostname&&kp.test(location.hostname)&&(h[Hp]=jp),l&&(h[Bp]=l),r&&(h[qp]=r),o&&(h[rf]=o),f&&(h[Gp]=f),Xp(n,Yp,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ui.set("previous_websocket_failure",!0);try{let r;tb(),this.mySock=new Gr(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){en.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(l);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Gr!==null&&!en.forceDisallow_}static previouslyFailed(){return Ui.isInMemoryStorage||Ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ui.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const r=ts(l);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(H(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const r=this.extractFrameCount_(l);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const l=st(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=Lp(l,iS);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lS))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}en.responsesRequiredToBeHealthy=2;en.healthyTimeout=3e4;class ls{static get ALL_TRANSPORTS(){return[Ml,en]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=en&&en.isAvailable();let r=l&&!en.previouslyFailed();if(n.webSocketOnly&&(l||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[en];else{const o=this.transports_=[];for(const f of ls.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);ls.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ls.globalTransportInitialized_=!1;const aS=6e4,sS=5e3,rS=10*1024,uS=100*1024,Xc="t",H_="d",oS="s",j_="r",cS="e",k_="o",q_="a",G_="n",Y_="p",fS="h";class hS{constructor(n,l,r,o,f,h,_,d,g,y){this.id=n,this.repoInfo_=l,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=_,this.onDisconnect_=d,this.onKill_=g,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hs("c:"+this.id+":"),this.transportManager_=new ls(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,r)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Wa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>rS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Xc in n){const l=n[Xc];l===q_?this.upgradeIfSecondaryHealthy_():l===j_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===k_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Va("t",n),r=Va("d",n);if(l==="c")this.onSecondaryControl_(r);else if(l==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Y_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:q_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:G_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Va("t",n),r=Va("d",n);l==="c"?this.onControl_(r):l==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Va(Xc,n);if(H_ in n){const r=n[H_];if(l===fS){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(l===G_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===oS?this.onConnectionShutdown_(r):l===j_?this.onReset_(r):l===cS?sf("Server Error: "+r):l===k_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sf("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,r=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),Df!==r&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,r),Wa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(aS))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(sS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Y_,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Pp{put(n,l,r,o){}merge(n,l,r,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,r){}onDisconnectMerge(n,l,r){}onDisconnectCancel(n,l){}reportStats(n){}}class $p{constructor(n){this.allowedEvents_=n,this.listeners_={},H(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,l)}}on(n,l,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:r});const o=this.getInitialEvent(n);o&&l.apply(r,o)}off(n,l,r){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let f=0;f<o.length;f++)if(o[f].callback===l&&(!r||r===o[f].context)){o.splice(f,1);return}}validateEventType_(n){H(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}class Yr extends $p{static getInstance(){return new Yr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Sp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return H(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const V_=32,Q_=768;class Ce{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function ye(){return new Ce("")}function ne(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function ci(a){return a.pieces_.length-a.pieceNum_}function Re(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new Ce(a.pieces_,n)}function Lf(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function dS(a){let n="";for(let l=a.pieceNum_;l<a.pieces_.length;l++)a.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[l])));return n||"/"}function as(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function ey(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let l=a.pieceNum_;l<a.pieces_.length-1;l++)n.push(a.pieces_[l]);return new Ce(n,0)}function Ue(a,n){const l=[];for(let r=a.pieceNum_;r<a.pieces_.length;r++)l.push(a.pieces_[r]);if(n instanceof Ce)for(let r=n.pieceNum_;r<n.pieces_.length;r++)l.push(n.pieces_[r]);else{const r=n.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&l.push(r[o])}return new Ce(l,0)}function le(a){return a.pieceNum_>=a.pieces_.length}function xt(a,n){const l=ne(a),r=ne(n);if(l===null)return n;if(l===r)return xt(Re(a),Re(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function mS(a,n){const l=as(a,0),r=as(n,0);for(let o=0;o<l.length&&o<r.length;o++){const f=Yi(l[o],r[o]);if(f!==0)return f}return l.length===r.length?0:l.length<r.length?-1:1}function Uf(a,n){if(ci(a)!==ci(n))return!1;for(let l=a.pieceNum_,r=n.pieceNum_;l<=a.pieces_.length;l++,r++)if(a.pieces_[l]!==n.pieces_[r])return!1;return!0}function Jt(a,n){let l=a.pieceNum_,r=n.pieceNum_;if(ci(a)>ci(n))return!1;for(;l<a.pieces_.length;){if(a.pieces_[l]!==n.pieces_[r])return!1;++l,++r}return!0}class gS{constructor(n,l){this.errorPrefix_=l,this.parts_=as(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=nu(this.parts_[r]);ty(this)}}function _S(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=nu(n),ty(a)}function pS(a){const n=a.parts_.pop();a.byteLength_-=nu(n),a.parts_.length>0&&(a.byteLength_-=1)}function ty(a){if(a.byteLength_>Q_)throw new Error(a.errorPrefix_+"has a key path longer than "+Q_+" bytes ("+a.byteLength_+").");if(a.parts_.length>V_)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+V_+") or object contains a cycle "+Li(a))}function Li(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class If extends $p{static getInstance(){return new If}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return H(n==="visible","Unknown event type: "+n),[this.visible_]}}const Qa=1e3,yS=300*1e3,X_=30*1e3,vS=1.3,bS=3e4,ES="server_kill",F_=3;class On extends Pp{constructor(n,l,r,o,f,h,_,d){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=_,this.authOverride_=d,this.id=On.nextPersistentConnectionId_++,this.log_=hs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qa,this.maxReconnectDelay_=yS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");If.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Yr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,r){const o=++this.requestNumber_,f={r:o,a:n,b:l};this.log_(st(f)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();const l=new fn,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const _=h.d;h.s==="ok"?l.resolve(_):l.reject(_)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,r,o){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),H(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const _={onComplete:o,hashFn:l,query:n,tag:r};this.listens.get(h).set(f,_),this.connected_&&this.sendListen_(_)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(r)})}sendListen_(n){const l=n.query,r=l._path.toString(),o=l._queryIdentifier;this.log_("Listen on "+r+" for "+o);const f={p:r},h="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,_=>{const d=_.d,g=_.s;On.warnOnListenWarnings_(d,l),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",_),g!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(g,d))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&hn(n,"w")){const r=Il(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||ub(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=X_)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=rb(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(l,r,o=>{const f=o.s,h=o.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,r=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,r)})}unlisten(n,l){const r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),H(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,l)}sendUnlisten_(n,l,r,o){this.log_("Unlisten on "+n+" for "+l);const f={p:n},h="n";o&&(f.q=r,f.t=o),this.sendRequest(h,f)}onDisconnectPut(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:r})}onDisconnectMerge(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:r})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,r,o){const f={p:l,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(n,l,r,o){this.putInternal("p",n,l,r,o)}merge(n,l,r,o){this.putInternal("m",n,l,r,o)}putInternal(n,l,r,o,f){this.initConnection_();const h={p:l,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:o}),this.outstandingPutCount_++;const _=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(_):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,r,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+st(n));const l=n.r,r=this.requestCBHash_[l];r&&(delete this.requestCBHash_[l],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):sf("Unrecognized action received from server: "+st(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>bS&&(this.reconnectDelay_=Qa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+On.nextConnectionId_++,f=this.lastSessionId;let h=!1,_=null;const d=function(){_?_.close():(h=!0,r())},g=function(v){H(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(v)};this.realtime_={close:d,sendRequest:g};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,b]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);h?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=b&&b.token,_=new hS(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,r,x=>{yt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(ES)},f))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&yt(v),d())}}}interrupt(n){at("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){at("Resuming connection for reason: "+n),delete this.interruptReasons_[n],$c(this.interruptReasons_)&&(this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let r;l?r=l.map(f=>Mf(f)).join("$"):r="default";const o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,l){const r=new Ce(n).toString();let o;if(this.listens.has(r)){const f=this.listens.get(r);o=f.get(l),f.delete(l),f.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,l){at("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=F_&&(this.reconnectDelay_=X_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){at("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=F_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+Dp.replace(/\./g,"-")]=1,Sp()?n["framework.cordova"]=1:eb()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Yr.getInstance().currentlyOnline();return $c(this.interruptReasons_)&&n}}On.nextPersistentConnectionId_=0;On.nextConnectionId_=0;class ae{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new ae(n,l)}}class lu{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const r=new ae(Hl,n),o=new ae(Hl,l);return this.compare(r,o)!==0}minPost(){return ae.MIN}}let zr;class ny extends lu{static get __EMPTY_NODE(){return zr}static set __EMPTY_NODE(n){zr=n}compare(n,l){return Yi(n.name,l.name)}isDefinedOn(n){throw Yl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return ae.MIN}maxPost(){return new ae(Hi,zr)}makePost(n,l){return H(typeof n=="string","KeyIndex indexValue must always be a string."),new ae(n,zr)}toString(){return".key"}}const Ll=new ny;class Lr{constructor(n,l,r,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?r(n.key,l):1,o&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class lt{constructor(n,l,r,o,f){this.key=n,this.value=l,this.color=r??lt.RED,this.left=o??Rt.EMPTY_NODE,this.right=f??Rt.EMPTY_NODE}copy(n,l,r,o,f){return new lt(n??this.key,l??this.value,r??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,r){let o=this;const f=r(n,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(n,l,r),null):f===0?o=o.copy(null,l,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,l,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let r,o;if(r=this,l(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,l),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),l(n,r.key)===0){if(r.right.isEmpty())return Rt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,l))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}lt.RED=!0;lt.BLACK=!1;class SS{copy(n,l,r,o,f){return this}insert(n,l,r){return new lt(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rt{constructor(n,l=Rt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new Rt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,lt.BLACK,null,null))}remove(n){return new Rt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,lt.BLACK,null,null))}get(n){let l,r=this.root_;for(;!r.isEmpty();){if(l=this.comparator_(n,r.key),l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}getPredecessorKey(n){let l,r=this.root_,o=null;for(;!r.isEmpty();)if(l=this.comparator_(n,r.key),l===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else l<0?r=r.left:l>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Lr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Lr(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Lr(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Lr(this.root_,null,this.comparator_,!0,n)}}Rt.EMPTY_NODE=new SS;function CS(a,n){return Yi(a.name,n.name)}function Bf(a,n){return Yi(a,n)}let uf;function TS(a){uf=a}const iy=function(a){return typeof a=="number"?"number:"+Up(a):"string:"+a},ly=function(a){if(a.isLeafNode()){const n=a.val();H(typeof n=="string"||typeof n=="number"||typeof n=="object"&&hn(n,".sv"),"Priority must be a string or number.")}else H(a===uf||a.isEmpty(),"priority of unexpected type.");H(a===uf||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let K_;class it{static set __childrenNodeConstructor(n){K_=n}static get __childrenNodeConstructor(){return K_}constructor(n,l=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ly(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new it(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return le(n)?this:ne(n)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const r=ne(n);return r===null?l:l.isEmpty()&&r!==".priority"?this:(H(r!==".priority"||ci(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+iy(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=Up(this.value_):n+=this.value_,this.lazyHash_=zp(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===it.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof it.__childrenNodeConstructor?-1:(H(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,r=typeof this.value_,o=it.VALUE_TYPE_ORDER.indexOf(l),f=it.VALUE_TYPE_ORDER.indexOf(r);return H(o>=0,"Unknown leaf type: "+l),H(f>=0,"Unknown leaf type: "+r),o===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];let ay,sy;function NS(a){ay=a}function AS(a){sy=a}class xS extends lu{compare(n,l){const r=n.node.getPriority(),o=l.node.getPriority(),f=r.compareTo(o);return f===0?Yi(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(Hi,new it("[PRIORITY-POST]",sy))}makePost(n,l){const r=ay(n);return new ae(l,new it("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ie=new xS;const RS=Math.log(2);class wS{constructor(n){const l=f=>parseInt(Math.log(f)/RS,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const o=r(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Vr=function(a,n,l,r){a.sort(n);const o=function(d,g){const y=g-d;let v,b;if(y===0)return null;if(y===1)return v=a[d],b=l?l(v):v,new lt(b,v.node,lt.BLACK,null,null);{const x=parseInt(y/2,10)+d,w=o(d,x),B=o(x+1,g);return v=a[x],b=l?l(v):v,new lt(b,v.node,lt.BLACK,w,B)}},f=function(d){let g=null,y=null,v=a.length;const b=function(w,B){const k=v-w,$=v;v-=w;const ee=o(k+1,$),V=a[k],ce=l?l(V):V;x(new lt(ce,V.node,B,null,ee))},x=function(w){g?(g.left=w,g=w):(y=w,g=w)};for(let w=0;w<d.count;++w){const B=d.nextBitIsOne(),k=Math.pow(2,d.count-(w+1));B?b(k,lt.BLACK):(b(k,lt.BLACK),b(k,lt.RED))}return y},h=new wS(a.length),_=f(h);return new Rt(r||n,_)};let Fc;const wl={};class Dn{static get Default(){return H(wl&&Ie,"ChildrenNode.ts has not been loaded"),Fc=Fc||new Dn({".priority":wl},{".priority":Ie}),Fc}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=Il(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof Rt?l:null}hasIndex(n){return hn(this.indexSet_,n.toString())}addIndex(n,l){H(n!==Ll,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const f=l.getIterator(ae.Wrap);let h=f.getNext();for(;h;)o=o||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let _;o?_=Vr(r,n.getCompare()):_=wl;const d=n.toString(),g={...this.indexSet_};g[d]=n;const y={...this.indexes_};return y[d]=_,new Dn(y,g)}addToIndexes(n,l){const r=Hr(this.indexes_,(o,f)=>{const h=Il(this.indexSet_,f);if(H(h,"Missing index implementation for "+f),o===wl)if(h.isDefinedOn(n.node)){const _=[],d=l.getIterator(ae.Wrap);let g=d.getNext();for(;g;)g.name!==n.name&&_.push(g),g=d.getNext();return _.push(n),Vr(_,h.getCompare())}else return wl;else{const _=l.get(n.name);let d=o;return _&&(d=d.remove(new ae(n.name,_))),d.insert(n,n.node)}});return new Dn(r,this.indexSet_)}removeFromIndexes(n,l){const r=Hr(this.indexes_,o=>{if(o===wl)return o;{const f=l.get(n.name);return f?o.remove(new ae(n.name,f)):o}});return new Dn(r,this.indexSet_)}}let Xa;class Z{static get EMPTY_NODE(){return Xa||(Xa=new Z(new Rt(Bf),null,Dn.Default))}constructor(n,l,r){this.children_=n,this.priorityNode_=l,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ly(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xa}updatePriority(n){return this.children_.isEmpty()?this:new Z(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?Xa:l}}getChild(n){const l=ne(n);return l===null?this:this.getImmediateChild(l).getChild(Re(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(H(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const r=new ae(n,l);let o,f;l.isEmpty()?(o=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?Xa:this.priorityNode_;return new Z(o,h,f)}}updateChild(n,l){const r=ne(n);if(r===null)return l;{H(ne(n)!==".priority"||ci(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Re(n),l);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let r=0,o=0,f=!0;if(this.forEachChild(Ie,(h,_)=>{l[h]=_.val(n),r++,f&&Z.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!n&&f&&o<2*r){const h=[];for(const _ in l)h[_]=l[_];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+iy(this.getPriority().val())+":"),this.forEachChild(Ie,(l,r)=>{const o=r.hash();o!==""&&(n+=":"+l+":"+o)}),this.lazyHash_=n===""?"":zp(n)}return this.lazyHash_}getPredecessorChildName(n,l,r){const o=this.resolveIndex_(r);if(o){const f=o.getPredecessorKey(new ae(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new ae(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new ae(l,this.children_.get(l)):null}forEachChild(n,l){const r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>l(o.name,o.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ae.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ae.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)>0;)o.getNext(),f=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ds?-1:0}withIndex(n){if(n===Ll||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new Z(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Ll||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const r=this.getIterator(Ie),o=l.getIterator(Ie);let f=r.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Ll?null:this.indexMap_.get(n.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MS extends Z{constructor(){super(new Rt(Bf),Z.EMPTY_NODE,Dn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Z.EMPTY_NODE}isEmpty(){return!1}}const ds=new MS;Object.defineProperties(ae,{MIN:{value:new ae(Hl,Z.EMPTY_NODE)},MAX:{value:new ae(Hi,ds)}});ny.__EMPTY_NODE=Z.EMPTY_NODE;it.__childrenNodeConstructor=Z;TS(ds);AS(ds);const DS=!0;function Xe(a,n=null){if(a===null)return Z.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),H(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const l=a;return new it(l,Xe(n))}if(!(a instanceof Array)&&DS){const l=[];let r=!1;if(rt(a,(h,_)=>{if(h.substring(0,1)!=="."){const d=Xe(_);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),l.push(new ae(h,d)))}}),l.length===0)return Z.EMPTY_NODE;const f=Vr(l,CS,h=>h.name,Bf);if(r){const h=Vr(l,Ie.getCompare());return new Z(f,Xe(n),new Dn({".priority":h},{".priority":Ie}))}else return new Z(f,Xe(n),Dn.Default)}else{let l=Z.EMPTY_NODE;return rt(a,(r,o)=>{if(hn(a,r)&&r.substring(0,1)!=="."){const f=Xe(o);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(r,f))}}),l.updatePriority(Xe(n))}}NS(Xe);class OS extends lu{constructor(n){super(),this.indexPath_=n,H(!le(n)&&ne(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const r=this.extractChild(n.node),o=this.extractChild(l.node),f=r.compareTo(o);return f===0?Yi(n.name,l.name):f}makePost(n,l){const r=Xe(n),o=Z.EMPTY_NODE.updateChild(this.indexPath_,r);return new ae(l,o)}maxPost(){const n=Z.EMPTY_NODE.updateChild(this.indexPath_,ds);return new ae(Hi,n)}toString(){return as(this.indexPath_,0).join("/")}}class zS extends lu{compare(n,l){const r=n.node.compareTo(l.node);return r===0?Yi(n.name,l.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(n,l){const r=Xe(n);return new ae(l,r)}toString(){return".value"}}const LS=new zS;function ry(a){return{type:"value",snapshotNode:a}}function jl(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function ss(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function rs(a,n,l){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:l}}function US(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}class Hf{constructor(n){this.index_=n}updateChild(n,l,r,o,f,h){H(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=n.getImmediateChild(l);return _.getChild(o).equals(r.getChild(o))&&_.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(l)?h.trackChildChange(ss(l,_)):H(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?h.trackChildChange(jl(l,r)):h.trackChildChange(rs(l,r,_))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(l,r).withIndex(this.index_)}updateFullNode(n,l,r){return r!=null&&(n.isLeafNode()||n.forEachChild(Ie,(o,f)=>{l.hasChild(o)||r.trackChildChange(ss(o,f))}),l.isLeafNode()||l.forEachChild(Ie,(o,f)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(f)||r.trackChildChange(rs(o,f,h))}else r.trackChildChange(jl(o,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?Z.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class us{constructor(n){this.indexedFilter_=new Hf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=us.getStartPost_(n),this.endPost_=us.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&r}updateChild(n,l,r,o,f,h){return this.matches(new ae(l,r))||(r=Z.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,r,o,f,h)}updateFullNode(n,l,r){l.isLeafNode()&&(l=Z.EMPTY_NODE);let o=l.withIndex(this.index_);o=o.updatePriority(Z.EMPTY_NODE);const f=this;return l.forEachChild(Ie,(h,_)=>{f.matches(new ae(h,_))||(o=o.updateImmediateChild(h,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}class IS{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=l=>{const r=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new us(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,r,o,f,h){return this.rangedFilter_.matches(new ae(l,r))||(r=Z.EMPTY_NODE),n.getImmediateChild(l).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,r,o,f,h):this.fullLimitUpdateChild_(n,l,r,f,h)}updateFullNode(n,l,r){let o;if(l.isLeafNode()||l.isEmpty())o=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){o=Z.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const _=f.getNext();if(this.withinDirectionalStart(_))if(this.withinDirectionalEnd(_))o=o.updateImmediateChild(_.name,_.node),h++;else break;else continue}}else{o=l.withIndex(this.index_),o=o.updatePriority(Z.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const _=f.getNext();h<this.limit_&&this.withinDirectionalStart(_)&&this.withinDirectionalEnd(_)?h++:o=o.updateImmediateChild(_.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,r,o,f){let h;if(this.reverse_){const v=this.index_.getCompare();h=(b,x)=>v(x,b)}else h=this.index_.getCompare();const _=n;H(_.numChildren()===this.limit_,"");const d=new ae(l,r),g=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),y=this.rangedFilter_.matches(d);if(_.hasChild(l)){const v=_.getImmediateChild(l);let b=o.getChildAfterChild(this.index_,g,this.reverse_);for(;b!=null&&(b.name===l||_.hasChild(b.name));)b=o.getChildAfterChild(this.index_,b,this.reverse_);const x=b==null?1:h(b,d);if(y&&!r.isEmpty()&&x>=0)return f?.trackChildChange(rs(l,r,v)),_.updateImmediateChild(l,r);{f?.trackChildChange(ss(l,v));const B=_.updateImmediateChild(l,Z.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(f?.trackChildChange(jl(b.name,b.node)),B.updateImmediateChild(b.name,b.node)):B}}else return r.isEmpty()?n:y&&h(g,d)>=0?(f!=null&&(f.trackChildChange(ss(g.name,g.node)),f.trackChildChange(jl(l,r))),_.updateImmediateChild(l,r).updateImmediateChild(g.name,Z.EMPTY_NODE)):n}}class jf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hl}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){const n=new jf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function BS(a){return a.loadsAllData()?new Hf(a.getIndex()):a.hasLimit()?new IS(a):new us(a)}function Z_(a){const n={};if(a.isDefault())return n;let l;if(a.index_===Ie?l="$priority":a.index_===LS?l="$value":a.index_===Ll?l="$key":(H(a.index_ instanceof OS,"Unrecognized index type!"),l=a.index_.toString()),n.orderBy=st(l),a.startSet_){const r=a.startAfterSet_?"startAfter":"startAt";n[r]=st(a.indexStartValue_),a.startNameSet_&&(n[r]+=","+st(a.indexStartName_))}if(a.endSet_){const r=a.endBeforeSet_?"endBefore":"endAt";n[r]=st(a.indexEndValue_),a.endNameSet_&&(n[r]+=","+st(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function J_(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let l=a.viewFrom_;l===""&&(a.isViewFromLeft()?l="l":l="r"),n.vf=l}return a.index_!==Ie&&(n.i=a.index_.toString()),n}class Qr extends Pp{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(H(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,r,o){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=hs("p:rest:"),this.listens_={}}listen(n,l,r,o){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Qr.getListenId_(n,r),_={};this.listens_[h]=_;const d=Z_(n._queryParams);this.restRequest_(f+".json",d,(g,y)=>{let v=y;if(g===404&&(v=null,g=null),g===null&&this.onDataUpdate_(f,v,!1,r),Il(this.listens_,h)===_){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",o(b,null)}})}unlisten(n,l){const r=Qr.getListenId_(n,l);delete this.listens_[r]}get(n){const l=Z_(n._queryParams),r=n._path.toString(),o=new fn;return this.restRequest_(r+".json",l,(f,h)=>{let _=h;f===404&&(_=null,f=null),f===null?(this.onDataUpdate_(r,_,!1,null),o.resolve(_)):o.reject(new Error(_))}),o.promise}refreshAuthToken(n){}restRequest_(n,l={},r){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(l.auth=o.accessToken),f&&f.token&&(l.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+ob(l);this.log_("Sending REST request for "+h);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(r&&_.readyState===4){this.log_("REST Response for "+h+" received. status:",_.status,"response:",_.responseText);let d=null;if(_.status>=200&&_.status<300){try{d=ts(_.responseText)}catch{yt("Failed to parse JSON response for "+h+": "+_.responseText)}r(null,d)}else _.status!==401&&_.status!==404&&yt("Got unsuccessful REST response for "+h+" Status: "+_.status),r(_.status);r=null}},_.open("GET",h,!0),_.send()})}}class HS{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}function Xr(){return{value:null,children:new Map}}function Xl(a,n,l){if(le(n))a.value=l,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,l);else{const r=ne(n);a.children.has(r)||a.children.set(r,Xr());const o=a.children.get(r);n=Re(n),Xl(o,n,l)}}function of(a,n){if(le(n))return a.value=null,a.children.clear(),!0;if(a.value!==null){if(a.value.isLeafNode())return!1;{const l=a.value;return a.value=null,l.forEachChild(Ie,(r,o)=>{Xl(a,new Ce(r),o)}),of(a,n)}}else if(a.children.size>0){const l=ne(n);return n=Re(n),a.children.has(l)&&of(a.children.get(l),n)&&a.children.delete(l),a.children.size===0}else return!0}function cf(a,n,l){a.value!==null?l(n,a.value):jS(a,(r,o)=>{const f=new Ce(n.toString()+"/"+r);cf(o,f,l)})}function jS(a,n){a.children.forEach((l,r)=>{n(r,l)})}class kS{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&rt(this.last_,(r,o)=>{l[r]=l[r]-o}),this.last_=n,l}}const W_=10*1e3,qS=30*1e3,GS=300*1e3;class YS{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new kS(n);const r=W_+(qS-W_)*Math.random();Wa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),l={};let r=!1;rt(n,(o,f)=>{f>0&&hn(this.statsToReport_,o)&&(l[o]=f,r=!0)}),r&&this.server_.reportStats(l),Wa(this.reportStats_.bind(this),Math.floor(Math.random()*2*GS))}}var tn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(tn||(tn={}));function kf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Gf(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class Fr{constructor(n,l,r){this.path=n,this.affectedTree=l,this.revert=r,this.type=tn.ACK_USER_WRITE,this.source=kf()}operationForChild(n){if(le(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Ce(n));return new Fr(ye(),l,this.revert)}}else return H(ne(this.path)===n,"operationForChild called for unrelated child."),new Fr(Re(this.path),this.affectedTree,this.revert)}}class os{constructor(n,l){this.source=n,this.path=l,this.type=tn.LISTEN_COMPLETE}operationForChild(n){return le(this.path)?new os(this.source,ye()):new os(this.source,Re(this.path))}}class ji{constructor(n,l,r){this.source=n,this.path=l,this.snap=r,this.type=tn.OVERWRITE}operationForChild(n){return le(this.path)?new ji(this.source,ye(),this.snap.getImmediateChild(n)):new ji(this.source,Re(this.path),this.snap)}}class kl{constructor(n,l,r){this.source=n,this.path=l,this.children=r,this.type=tn.MERGE}operationForChild(n){if(le(this.path)){const l=this.children.subtree(new Ce(n));return l.isEmpty()?null:l.value?new ji(this.source,ye(),l.value):new kl(this.source,ye(),l)}else return H(ne(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new kl(this.source,Re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ki{constructor(n,l,r){this.node_=n,this.fullyInitialized_=l,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(le(n))return this.isFullyInitialized()&&!this.filtered_;const l=ne(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class VS{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function QS(a,n,l,r){const o=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(US(h.childName,h.snapshotNode))}),Fa(a,o,"child_removed",n,r,l),Fa(a,o,"child_added",n,r,l),Fa(a,o,"child_moved",f,r,l),Fa(a,o,"child_changed",n,r,l),Fa(a,o,"value",n,r,l),o}function Fa(a,n,l,r,o,f){const h=r.filter(_=>_.type===l);h.sort((_,d)=>FS(a,_,d)),h.forEach(_=>{const d=XS(a,_,f);o.forEach(g=>{g.respondsTo(_.type)&&n.push(g.createEvent(d,a.query_))})})}function XS(a,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function FS(a,n,l){if(n.childName==null||l.childName==null)throw Yl("Should only compare child_ events.");const r=new ae(n.childName,n.snapshotNode),o=new ae(l.childName,l.snapshotNode);return a.index_.compare(r,o)}function au(a,n){return{eventCache:a,serverCache:n}}function Pa(a,n,l,r){return au(new ki(n,l,r),a.serverCache)}function uy(a,n,l,r){return au(a.eventCache,new ki(n,l,r))}function ff(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function qi(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let Kc;const KS=()=>(Kc||(Kc=new Rt(OE)),Kc);class we{static fromObject(n){let l=new we(null);return rt(n,(r,o)=>{l=l.set(new Ce(r),o)}),l}constructor(n,l=KS()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:ye(),value:this.value};if(le(n))return null;{const r=ne(n),o=this.children.get(r);if(o!==null){const f=o.findRootMostMatchingPathAndValue(Re(n),l);return f!=null?{path:Ue(new Ce(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(le(n))return this;{const l=ne(n),r=this.children.get(l);return r!==null?r.subtree(Re(n)):new we(null)}}set(n,l){if(le(n))return new we(l,this.children);{const r=ne(n),f=(this.children.get(r)||new we(null)).set(Re(n),l),h=this.children.insert(r,f);return new we(this.value,h)}}remove(n){if(le(n))return this.children.isEmpty()?new we(null):new we(null,this.children);{const l=ne(n),r=this.children.get(l);if(r){const o=r.remove(Re(n));let f;return o.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,o),this.value===null&&f.isEmpty()?new we(null):new we(this.value,f)}else return this}}get(n){if(le(n))return this.value;{const l=ne(n),r=this.children.get(l);return r?r.get(Re(n)):null}}setTree(n,l){if(le(n))return l;{const r=ne(n),f=(this.children.get(r)||new we(null)).setTree(Re(n),l);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new we(this.value,h)}}fold(n){return this.fold_(ye(),n)}fold_(n,l){const r={};return this.children.inorderTraversal((o,f)=>{r[o]=f.fold_(Ue(n,o),l)}),l(n,this.value,r)}findOnPath(n,l){return this.findOnPath_(n,ye(),l)}findOnPath_(n,l,r){const o=this.value?r(l,this.value):!1;if(o)return o;if(le(n))return null;{const f=ne(n),h=this.children.get(f);return h?h.findOnPath_(Re(n),Ue(l,f),r):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,ye(),l)}foreachOnPath_(n,l,r){if(le(n))return this;{this.value&&r(l,this.value);const o=ne(n),f=this.children.get(o);return f?f.foreachOnPath_(Re(n),Ue(l,o),r):new we(null)}}foreach(n){this.foreach_(ye(),n)}foreach_(n,l){this.children.inorderTraversal((r,o)=>{o.foreach_(Ue(n,r),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,r)=>{r.value&&n(l,r.value)})}}class nn{constructor(n){this.writeTree_=n}static empty(){return new nn(new we(null))}}function $a(a,n,l){if(le(n))return new nn(new we(l));{const r=a.writeTree_.findRootMostValueAndPath(n);if(r!=null){const o=r.path;let f=r.value;const h=xt(o,n);return f=f.updateChild(h,l),new nn(a.writeTree_.set(o,f))}else{const o=new we(l),f=a.writeTree_.setTree(n,o);return new nn(f)}}}function hf(a,n,l){let r=a;return rt(l,(o,f)=>{r=$a(r,Ue(n,o),f)}),r}function P_(a,n){if(le(n))return nn.empty();{const l=a.writeTree_.setTree(n,new we(null));return new nn(l)}}function df(a,n){return Vi(a,n)!=null}function Vi(a,n){const l=a.writeTree_.findRootMostValueAndPath(n);return l!=null?a.writeTree_.get(l.path).getChild(xt(l.path,n)):null}function $_(a){const n=[],l=a.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Ie,(r,o)=>{n.push(new ae(r,o))}):a.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&n.push(new ae(r,o.value))}),n}function oi(a,n){if(le(n))return a;{const l=Vi(a,n);return l!=null?new nn(new we(l)):new nn(a.writeTree_.subtree(n))}}function mf(a){return a.writeTree_.isEmpty()}function ql(a,n){return oy(ye(),a.writeTree_,n)}function oy(a,n,l){if(n.value!=null)return l.updateChild(a,n.value);{let r=null;return n.children.inorderTraversal((o,f)=>{o===".priority"?(H(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):l=oy(Ue(a,o),f,l)}),!l.getChild(a).isEmpty()&&r!==null&&(l=l.updateChild(Ue(a,".priority"),r)),l}}function Yf(a,n){return dy(n,a)}function ZS(a,n,l,r,o){H(r>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:n,snap:l,writeId:r,visible:o}),o&&(a.visibleWrites=$a(a.visibleWrites,n,l)),a.lastWriteId=r}function JS(a,n,l,r){H(r>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:n,children:l,writeId:r,visible:!0}),a.visibleWrites=hf(a.visibleWrites,n,l),a.lastWriteId=r}function WS(a,n){for(let l=0;l<a.allWrites.length;l++){const r=a.allWrites[l];if(r.writeId===n)return r}return null}function PS(a,n){const l=a.allWrites.findIndex(_=>_.writeId===n);H(l>=0,"removeWrite called with nonexistent writeId.");const r=a.allWrites[l];a.allWrites.splice(l,1);let o=r.visible,f=!1,h=a.allWrites.length-1;for(;o&&h>=0;){const _=a.allWrites[h];_.visible&&(h>=l&&$S(_,r.path)?o=!1:Jt(r.path,_.path)&&(f=!0)),h--}if(o){if(f)return e2(a),!0;if(r.snap)a.visibleWrites=P_(a.visibleWrites,r.path);else{const _=r.children;rt(_,d=>{a.visibleWrites=P_(a.visibleWrites,Ue(r.path,d))})}return!0}else return!1}function $S(a,n){if(a.snap)return Jt(a.path,n);for(const l in a.children)if(a.children.hasOwnProperty(l)&&Jt(Ue(a.path,l),n))return!0;return!1}function e2(a){a.visibleWrites=cy(a.allWrites,t2,ye()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function t2(a){return a.visible}function cy(a,n,l){let r=nn.empty();for(let o=0;o<a.length;++o){const f=a[o];if(n(f)){const h=f.path;let _;if(f.snap)Jt(l,h)?(_=xt(l,h),r=$a(r,_,f.snap)):Jt(h,l)&&(_=xt(h,l),r=$a(r,ye(),f.snap.getChild(_)));else if(f.children){if(Jt(l,h))_=xt(l,h),r=hf(r,_,f.children);else if(Jt(h,l))if(_=xt(h,l),le(_))r=hf(r,ye(),f.children);else{const d=Il(f.children,ne(_));if(d){const g=d.getChild(Re(_));r=$a(r,ye(),g)}}}else throw Yl("WriteRecord should have .snap or .children")}}return r}function fy(a,n,l,r,o){if(!r&&!o){const f=Vi(a.visibleWrites,n);if(f!=null)return f;{const h=oi(a.visibleWrites,n);if(mf(h))return l;if(l==null&&!df(h,ye()))return null;{const _=l||Z.EMPTY_NODE;return ql(h,_)}}}else{const f=oi(a.visibleWrites,n);if(!o&&mf(f))return l;if(!o&&l==null&&!df(f,ye()))return null;{const h=function(g){return(g.visible||o)&&(!r||!~r.indexOf(g.writeId))&&(Jt(g.path,n)||Jt(n,g.path))},_=cy(a.allWrites,h,n),d=l||Z.EMPTY_NODE;return ql(_,d)}}}function n2(a,n,l){let r=Z.EMPTY_NODE;const o=Vi(a.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Ie,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(l){const f=oi(a.visibleWrites,n);return l.forEachChild(Ie,(h,_)=>{const d=ql(oi(f,new Ce(h)),_);r=r.updateImmediateChild(h,d)}),$_(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=oi(a.visibleWrites,n);return $_(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function i2(a,n,l,r,o){H(r||o,"Either existingEventSnap or existingServerSnap must exist");const f=Ue(n,l);if(df(a.visibleWrites,f))return null;{const h=oi(a.visibleWrites,f);return mf(h)?o.getChild(l):ql(h,o.getChild(l))}}function l2(a,n,l,r){const o=Ue(n,l),f=Vi(a.visibleWrites,o);if(f!=null)return f;if(r.isCompleteForChild(l)){const h=oi(a.visibleWrites,o);return ql(h,r.getNode().getImmediateChild(l))}else return null}function a2(a,n){return Vi(a.visibleWrites,n)}function s2(a,n,l,r,o,f,h){let _;const d=oi(a.visibleWrites,n),g=Vi(d,ye());if(g!=null)_=g;else if(l!=null)_=ql(d,l);else return[];if(_=_.withIndex(h),!_.isEmpty()&&!_.isLeafNode()){const y=[],v=h.getCompare(),b=f?_.getReverseIteratorFrom(r,h):_.getIteratorFrom(r,h);let x=b.getNext();for(;x&&y.length<o;)v(x,r)!==0&&y.push(x),x=b.getNext();return y}else return[]}function r2(){return{visibleWrites:nn.empty(),allWrites:[],lastWriteId:-1}}function Kr(a,n,l,r){return fy(a.writeTree,a.treePath,n,l,r)}function Vf(a,n){return n2(a.writeTree,a.treePath,n)}function ep(a,n,l,r){return i2(a.writeTree,a.treePath,n,l,r)}function Zr(a,n){return a2(a.writeTree,Ue(a.treePath,n))}function u2(a,n,l,r,o,f){return s2(a.writeTree,a.treePath,n,l,r,o,f)}function Qf(a,n,l){return l2(a.writeTree,a.treePath,n,l)}function hy(a,n){return dy(Ue(a.treePath,n),a.writeTree)}function dy(a,n){return{treePath:a,writeTree:n}}class o2{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,r=n.childName;H(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),H(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const f=o.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(r,rs(r,n.snapshotNode,o.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(r,ss(r,o.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(r,jl(r,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(r,rs(r,n.snapshotNode,o.oldSnap));else throw Yl("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}class c2{getCompleteChild(n){return null}getChildAfterChild(n,l,r){return null}}const my=new c2;class Xf{constructor(n,l,r=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=r}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new ki(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qf(this.writes_,n,r)}}getChildAfterChild(n,l,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qi(this.viewCache_),f=u2(this.writes_,o,l,1,r,n);return f.length===0?null:f[0]}}function f2(a){return{filter:a}}function h2(a,n){H(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),H(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function d2(a,n,l,r,o){const f=new o2;let h,_;if(l.type===tn.OVERWRITE){const g=l;g.source.fromUser?h=gf(a,n,g.path,g.snap,r,o,f):(H(g.source.fromServer,"Unknown source."),_=g.source.tagged||n.serverCache.isFiltered()&&!le(g.path),h=Jr(a,n,g.path,g.snap,r,o,_,f))}else if(l.type===tn.MERGE){const g=l;g.source.fromUser?h=g2(a,n,g.path,g.children,r,o,f):(H(g.source.fromServer,"Unknown source."),_=g.source.tagged||n.serverCache.isFiltered(),h=_f(a,n,g.path,g.children,r,o,_,f))}else if(l.type===tn.ACK_USER_WRITE){const g=l;g.revert?h=y2(a,n,g.path,r,o,f):h=_2(a,n,g.path,g.affectedTree,r,o,f)}else if(l.type===tn.LISTEN_COMPLETE)h=p2(a,n,l.path,r,f);else throw Yl("Unknown operation type: "+l.type);const d=f.getChanges();return m2(n,h,d),{viewCache:h,changes:d}}function m2(a,n,l){const r=n.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=ff(a);(l.length>0||!a.eventCache.isFullyInitialized()||o&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&l.push(ry(ff(n)))}}function gy(a,n,l,r,o,f){const h=n.eventCache;if(Zr(r,l)!=null)return n;{let _,d;if(le(l))if(H(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=qi(n),y=g instanceof Z?g:Z.EMPTY_NODE,v=Vf(r,y);_=a.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const g=Kr(r,qi(n));_=a.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=ne(l);if(g===".priority"){H(ci(l)===1,"Can't have a priority with additional path components");const y=h.getNode();d=n.serverCache.getNode();const v=ep(r,l,y,d);v!=null?_=a.filter.updatePriority(y,v):_=h.getNode()}else{const y=Re(l);let v;if(h.isCompleteForChild(g)){d=n.serverCache.getNode();const b=ep(r,l,h.getNode(),d);b!=null?v=h.getNode().getImmediateChild(g).updateChild(y,b):v=h.getNode().getImmediateChild(g)}else v=Qf(r,g,n.serverCache);v!=null?_=a.filter.updateChild(h.getNode(),g,v,y,o,f):_=h.getNode()}}return Pa(n,_,h.isFullyInitialized()||le(l),a.filter.filtersNodes())}}function Jr(a,n,l,r,o,f,h,_){const d=n.serverCache;let g;const y=h?a.filter:a.filter.getIndexedFilter();if(le(l))g=y.updateFullNode(d.getNode(),r,null);else if(y.filtersNodes()&&!d.isFiltered()){const x=d.getNode().updateChild(l,r);g=y.updateFullNode(d.getNode(),x,null)}else{const x=ne(l);if(!d.isCompleteForPath(l)&&ci(l)>1)return n;const w=Re(l),k=d.getNode().getImmediateChild(x).updateChild(w,r);x===".priority"?g=y.updatePriority(d.getNode(),k):g=y.updateChild(d.getNode(),x,k,w,my,null)}const v=uy(n,g,d.isFullyInitialized()||le(l),y.filtersNodes()),b=new Xf(o,v,f);return gy(a,v,l,o,b,_)}function gf(a,n,l,r,o,f,h){const _=n.eventCache;let d,g;const y=new Xf(o,n,f);if(le(l))g=a.filter.updateFullNode(n.eventCache.getNode(),r,h),d=Pa(n,g,!0,a.filter.filtersNodes());else{const v=ne(l);if(v===".priority")g=a.filter.updatePriority(n.eventCache.getNode(),r),d=Pa(n,g,_.isFullyInitialized(),_.isFiltered());else{const b=Re(l),x=_.getNode().getImmediateChild(v);let w;if(le(b))w=r;else{const B=y.getCompleteChild(v);B!=null?Lf(b)===".priority"&&B.getChild(ey(b)).isEmpty()?w=B:w=B.updateChild(b,r):w=Z.EMPTY_NODE}if(x.equals(w))d=n;else{const B=a.filter.updateChild(_.getNode(),v,w,b,y,h);d=Pa(n,B,_.isFullyInitialized(),a.filter.filtersNodes())}}}return d}function tp(a,n){return a.eventCache.isCompleteForChild(n)}function g2(a,n,l,r,o,f,h){let _=n;return r.foreach((d,g)=>{const y=Ue(l,d);tp(n,ne(y))&&(_=gf(a,_,y,g,o,f,h))}),r.foreach((d,g)=>{const y=Ue(l,d);tp(n,ne(y))||(_=gf(a,_,y,g,o,f,h))}),_}function np(a,n,l){return l.foreach((r,o)=>{n=n.updateChild(r,o)}),n}function _f(a,n,l,r,o,f,h,_){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let d=n,g;le(l)?g=r:g=new we(null).setTree(l,r);const y=n.serverCache.getNode();return g.children.inorderTraversal((v,b)=>{if(y.hasChild(v)){const x=n.serverCache.getNode().getImmediateChild(v),w=np(a,x,b);d=Jr(a,d,new Ce(v),w,o,f,h,_)}}),g.children.inorderTraversal((v,b)=>{const x=!n.serverCache.isCompleteForChild(v)&&b.value===null;if(!y.hasChild(v)&&!x){const w=n.serverCache.getNode().getImmediateChild(v),B=np(a,w,b);d=Jr(a,d,new Ce(v),B,o,f,h,_)}}),d}function _2(a,n,l,r,o,f,h){if(Zr(o,l)!=null)return n;const _=n.serverCache.isFiltered(),d=n.serverCache;if(r.value!=null){if(le(l)&&d.isFullyInitialized()||d.isCompleteForPath(l))return Jr(a,n,l,d.getNode().getChild(l),o,f,_,h);if(le(l)){let g=new we(null);return d.getNode().forEachChild(Ll,(y,v)=>{g=g.set(new Ce(y),v)}),_f(a,n,l,g,o,f,_,h)}else return n}else{let g=new we(null);return r.foreach((y,v)=>{const b=Ue(l,y);d.isCompleteForPath(b)&&(g=g.set(y,d.getNode().getChild(b)))}),_f(a,n,l,g,o,f,_,h)}}function p2(a,n,l,r,o){const f=n.serverCache,h=uy(n,f.getNode(),f.isFullyInitialized()||le(l),f.isFiltered());return gy(a,h,l,r,my,o)}function y2(a,n,l,r,o,f){let h;if(Zr(r,l)!=null)return n;{const _=new Xf(r,n,o),d=n.eventCache.getNode();let g;if(le(l)||ne(l)===".priority"){let y;if(n.serverCache.isFullyInitialized())y=Kr(r,qi(n));else{const v=n.serverCache.getNode();H(v instanceof Z,"serverChildren would be complete if leaf node"),y=Vf(r,v)}y=y,g=a.filter.updateFullNode(d,y,f)}else{const y=ne(l);let v=Qf(r,y,n.serverCache);v==null&&n.serverCache.isCompleteForChild(y)&&(v=d.getImmediateChild(y)),v!=null?g=a.filter.updateChild(d,y,v,Re(l),_,f):n.eventCache.getNode().hasChild(y)?g=a.filter.updateChild(d,y,Z.EMPTY_NODE,Re(l),_,f):g=d,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Kr(r,qi(n)),h.isLeafNode()&&(g=a.filter.updateFullNode(g,h,f)))}return h=n.serverCache.isFullyInitialized()||Zr(r,ye())!=null,Pa(n,g,h,a.filter.filtersNodes())}}class v2{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Hf(r.getIndex()),f=BS(r);this.processor_=f2(f);const h=l.serverCache,_=l.eventCache,d=o.updateFullNode(Z.EMPTY_NODE,h.getNode(),null),g=f.updateFullNode(Z.EMPTY_NODE,_.getNode(),null),y=new ki(d,h.isFullyInitialized(),o.filtersNodes()),v=new ki(g,_.isFullyInitialized(),f.filtersNodes());this.viewCache_=au(v,y),this.eventGenerator_=new VS(this.query_)}get query(){return this.query_}}function b2(a){return a.viewCache_.serverCache.getNode()}function E2(a,n){const l=qi(a.viewCache_);return l&&(a.query._queryParams.loadsAllData()||!le(n)&&!l.getImmediateChild(ne(n)).isEmpty())?l.getChild(n):null}function ip(a){return a.eventRegistrations_.length===0}function S2(a,n){a.eventRegistrations_.push(n)}function lp(a,n,l){const r=[];if(l){H(n==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(l,o);h&&r.push(h)})}if(n){let o=[];for(let f=0;f<a.eventRegistrations_.length;++f){const h=a.eventRegistrations_[f];if(!h.matches(n))o.push(h);else if(n.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return r}function ap(a,n,l,r){n.type===tn.MERGE&&n.source.queryId!==null&&(H(qi(a.viewCache_),"We should always have a full cache before handling merges"),H(ff(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,f=d2(a.processor_,o,n,l,r);return h2(a.processor_,f.viewCache),H(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,_y(a,f.changes,f.viewCache.eventCache.getNode(),null)}function C2(a,n){const l=a.viewCache_.eventCache,r=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Ie,(f,h)=>{r.push(jl(f,h))}),l.isFullyInitialized()&&r.push(ry(l.getNode())),_y(a,r,l.getNode(),n)}function _y(a,n,l,r){const o=r?[r]:a.eventRegistrations_;return QS(a.eventGenerator_,n,l,o)}let Wr;class T2{constructor(){this.views=new Map}}function N2(a){H(!Wr,"__referenceConstructor has already been defined"),Wr=a}function A2(){return H(Wr,"Reference.ts has not been loaded"),Wr}function x2(a){return a.views.size===0}function Ff(a,n,l,r){const o=n.source.queryId;if(o!==null){const f=a.views.get(o);return H(f!=null,"SyncTree gave us an op for an invalid query."),ap(f,n,l,r)}else{let f=[];for(const h of a.views.values())f=f.concat(ap(h,n,l,r));return f}}function R2(a,n,l,r,o){const f=n._queryIdentifier,h=a.views.get(f);if(!h){let _=Kr(l,o?r:null),d=!1;_?d=!0:r instanceof Z?(_=Vf(l,r),d=!1):(_=Z.EMPTY_NODE,d=!1);const g=au(new ki(_,d,!1),new ki(r,o,!1));return new v2(n,g)}return h}function w2(a,n,l,r,o,f){const h=R2(a,n,r,o,f);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,h),S2(h,l),C2(h,l)}function M2(a,n,l,r){const o=n._queryIdentifier,f=[];let h=[];const _=fi(a);if(o==="default")for(const[d,g]of a.views.entries())h=h.concat(lp(g,l,r)),ip(g)&&(a.views.delete(d),g.query._queryParams.loadsAllData()||f.push(g.query));else{const d=a.views.get(o);d&&(h=h.concat(lp(d,l,r)),ip(d)&&(a.views.delete(o),d.query._queryParams.loadsAllData()||f.push(d.query)))}return _&&!fi(a)&&f.push(new(A2())(n._repo,n._path)),{removed:f,events:h}}function py(a){const n=[];for(const l of a.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function Ul(a,n){let l=null;for(const r of a.views.values())l=l||E2(r,n);return l}function yy(a,n){if(n._queryParams.loadsAllData())return su(a);{const r=n._queryIdentifier;return a.views.get(r)}}function vy(a,n){return yy(a,n)!=null}function fi(a){return su(a)!=null}function su(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let Pr;function D2(a){H(!Pr,"__referenceConstructor has already been defined"),Pr=a}function O2(){return H(Pr,"Reference.ts has not been loaded"),Pr}let z2=1;class sp{constructor(n){this.listenProvider_=n,this.syncPointTree_=new we(null),this.pendingWriteTree_=r2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function by(a,n,l,r,o){return ZS(a.pendingWriteTree_,n,l,r,o),o?Fl(a,new ji(kf(),n,l)):[]}function L2(a,n,l,r){JS(a.pendingWriteTree_,n,l,r);const o=we.fromObject(l);return Fl(a,new kl(kf(),n,o))}function si(a,n,l=!1){const r=WS(a.pendingWriteTree_,n);if(PS(a.pendingWriteTree_,n)){let f=new we(null);return r.snap!=null?f=f.set(ye(),!0):rt(r.children,h=>{f=f.set(new Ce(h),!0)}),Fl(a,new Fr(r.path,f,l))}else return[]}function ru(a,n,l){return Fl(a,new ji(qf(),n,l))}function U2(a,n,l){const r=we.fromObject(l);return Fl(a,new kl(qf(),n,r))}function I2(a,n){return Fl(a,new os(qf(),n))}function B2(a,n,l){const r=Zf(a,l);if(r){const o=Jf(r),f=o.path,h=o.queryId,_=xt(f,n),d=new os(Gf(h),_);return Wf(a,f,d)}else return[]}function pf(a,n,l,r,o=!1){const f=n._path,h=a.syncPointTree_.get(f);let _=[];if(h&&(n._queryIdentifier==="default"||vy(h,n))){const d=M2(h,n,l,r);x2(h)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const g=d.removed;if(_=d.events,!o){const y=g.findIndex(b=>b._queryParams.loadsAllData())!==-1,v=a.syncPointTree_.findOnPath(f,(b,x)=>fi(x));if(y&&!v){const b=a.syncPointTree_.subtree(f);if(!b.isEmpty()){const x=k2(b);for(let w=0;w<x.length;++w){const B=x[w],k=B.query,$=Cy(a,B);a.listenProvider_.startListening(es(k),$r(a,k),$.hashFn,$.onComplete)}}}!v&&g.length>0&&!r&&(y?a.listenProvider_.stopListening(es(n),null):g.forEach(b=>{const x=a.queryToTagMap.get(uu(b));a.listenProvider_.stopListening(es(b),x)}))}q2(a,g)}return _}function H2(a,n,l,r){const o=Zf(a,r);if(o!=null){const f=Jf(o),h=f.path,_=f.queryId,d=xt(h,n),g=new ji(Gf(_),d,l);return Wf(a,h,g)}else return[]}function j2(a,n,l,r){const o=Zf(a,r);if(o){const f=Jf(o),h=f.path,_=f.queryId,d=xt(h,n),g=we.fromObject(l),y=new kl(Gf(_),d,g);return Wf(a,h,y)}else return[]}function rp(a,n,l,r=!1){const o=n._path;let f=null,h=!1;a.syncPointTree_.foreachOnPath(o,(b,x)=>{const w=xt(b,o);f=f||Ul(x,w),h=h||fi(x)});let _=a.syncPointTree_.get(o);_?(h=h||fi(_),f=f||Ul(_,ye())):(_=new T2,a.syncPointTree_=a.syncPointTree_.set(o,_));let d;f!=null?d=!0:(d=!1,f=Z.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((x,w)=>{const B=Ul(w,ye());B&&(f=f.updateImmediateChild(x,B))}));const g=vy(_,n);if(!g&&!n._queryParams.loadsAllData()){const b=uu(n);H(!a.queryToTagMap.has(b),"View does not exist, but we have a tag");const x=G2();a.queryToTagMap.set(b,x),a.tagToQueryMap.set(x,b)}const y=Yf(a.pendingWriteTree_,o);let v=w2(_,n,l,y,f,d);if(!g&&!h&&!r){const b=yy(_,n);v=v.concat(Y2(a,n,b))}return v}function Kf(a,n,l){const o=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(n,(h,_)=>{const d=xt(h,n),g=Ul(_,d);if(g)return g});return fy(o,n,f,l,!0)}function Fl(a,n){return Ey(n,a.syncPointTree_,null,Yf(a.pendingWriteTree_,ye()))}function Ey(a,n,l,r){if(le(a.path))return Sy(a,n,l,r);{const o=n.get(ye());l==null&&o!=null&&(l=Ul(o,ye()));let f=[];const h=ne(a.path),_=a.operationForChild(h),d=n.children.get(h);if(d&&_){const g=l?l.getImmediateChild(h):null,y=hy(r,h);f=f.concat(Ey(_,d,g,y))}return o&&(f=f.concat(Ff(o,a,r,l))),f}}function Sy(a,n,l,r){const o=n.get(ye());l==null&&o!=null&&(l=Ul(o,ye()));let f=[];return n.children.inorderTraversal((h,_)=>{const d=l?l.getImmediateChild(h):null,g=hy(r,h),y=a.operationForChild(h);y&&(f=f.concat(Sy(y,_,d,g)))}),o&&(f=f.concat(Ff(o,a,r,l))),f}function Cy(a,n){const l=n.query,r=$r(a,l);return{hashFn:()=>(b2(n)||Z.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?B2(a,l._path,r):I2(a,l._path);{const f=UE(o,l);return pf(a,l,null,f)}}}}function $r(a,n){const l=uu(n);return a.queryToTagMap.get(l)}function uu(a){return a._path.toString()+"$"+a._queryIdentifier}function Zf(a,n){return a.tagToQueryMap.get(n)}function Jf(a){const n=a.indexOf("$");return H(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new Ce(a.substr(0,n))}}function Wf(a,n,l){const r=a.syncPointTree_.get(n);H(r,"Missing sync point for query tag that we're tracking");const o=Yf(a.pendingWriteTree_,n);return Ff(r,l,o,null)}function k2(a){return a.fold((n,l,r)=>{if(l&&fi(l))return[su(l)];{let o=[];return l&&(o=py(l)),rt(r,(f,h)=>{o=o.concat(h)}),o}})}function es(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(O2())(a._repo,a._path):a}function q2(a,n){for(let l=0;l<n.length;++l){const r=n[l];if(!r._queryParams.loadsAllData()){const o=uu(r),f=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(f)}}}function G2(){return z2++}function Y2(a,n,l){const r=n._path,o=$r(a,n),f=Cy(a,l),h=a.listenProvider_.startListening(es(n),o,f.hashFn,f.onComplete),_=a.syncPointTree_.subtree(r);if(o)H(!fi(_.value),"If we're adding a query, it shouldn't be shadowed");else{const d=_.fold((g,y,v)=>{if(!le(g)&&y&&fi(y))return[su(y).query];{let b=[];return y&&(b=b.concat(py(y).map(x=>x.query))),rt(v,(x,w)=>{b=b.concat(w)}),b}});for(let g=0;g<d.length;++g){const y=d[g];a.listenProvider_.stopListening(es(y),$r(a,y))}}return h}class Pf{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new Pf(l)}node(){return this.node_}}class $f{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Ue(this.path_,n);return new $f(this.syncTree_,l)}node(){return Kf(this.syncTree_,this.path_)}}const V2=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},up=function(a,n,l){if(!a||typeof a!="object")return a;if(H(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return Q2(a[".sv"],n,l);if(typeof a[".sv"]=="object")return X2(a[".sv"],n);H(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},Q2=function(a,n,l){if(a==="timestamp")return l.timestamp;H(!1,"Unexpected server value: "+a)},X2=function(a,n,l){a.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const r=a.increment;typeof r!="number"&&H(!1,"Unexpected increment value: "+r);const o=n.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return typeof h!="number"?r:h+r},Ty=function(a,n,l,r){return eh(n,new $f(l,a),r)},Ny=function(a,n,l){return eh(a,new Pf(n),l)};function eh(a,n,l){const r=a.getPriority().val(),o=up(r,n.getImmediateChild(".priority"),l);let f;if(a.isLeafNode()){const h=a,_=up(h.getValue(),n,l);return _!==h.getValue()||o!==h.getPriority().val()?new it(_,Xe(o)):a}else{const h=a;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new it(o))),h.forEachChild(Ie,(_,d)=>{const g=eh(d,n.getImmediateChild(_),l);g!==d&&(f=f.updateImmediateChild(_,g))}),f}}class th{constructor(n="",l=null,r={children:{},childCount:0}){this.name=n,this.parent=l,this.node=r}}function nh(a,n){let l=n instanceof Ce?n:new Ce(n),r=a,o=ne(l);for(;o!==null;){const f=Il(r.node.children,o)||{children:{},childCount:0};r=new th(o,r,f),l=Re(l),o=ne(l)}return r}function Kl(a){return a.node.value}function Ay(a,n){a.node.value=n,yf(a)}function xy(a){return a.node.childCount>0}function F2(a){return Kl(a)===void 0&&!xy(a)}function ou(a,n){rt(a.node.children,(l,r)=>{n(new th(l,a,r))})}function Ry(a,n,l,r){l&&n(a),ou(a,o=>{Ry(o,n,!0)})}function K2(a,n,l){let r=a.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function ms(a){return new Ce(a.parent===null?a.name:ms(a.parent)+"/"+a.name)}function yf(a){a.parent!==null&&Z2(a.parent,a.name,a)}function Z2(a,n,l){const r=F2(l),o=hn(a.node.children,n);r&&o?(delete a.node.children[n],a.node.childCount--,yf(a)):!r&&!o&&(a.node.children[n]=l.node,a.node.childCount++,yf(a))}const J2=/[\[\].#$\/\u0000-\u001F\u007F]/,W2=/[\[\].#$\u0000-\u001F\u007F]/,Zc=10*1024*1024,ih=function(a){return typeof a=="string"&&a.length!==0&&!J2.test(a)},wy=function(a){return typeof a=="string"&&a.length!==0&&!W2.test(a)},P2=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),wy(a)},My=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!iu(a)||a&&typeof a=="object"&&hn(a,".sv")},vf=function(a,n,l,r){cu(Bl(a,"value"),n,l)},cu=function(a,n,l){const r=l instanceof Ce?new gS(l,a):l;if(n===void 0)throw new Error(a+"contains undefined "+Li(r));if(typeof n=="function")throw new Error(a+"contains a function "+Li(r)+" with contents = "+n.toString());if(iu(n))throw new Error(a+"contains "+n.toString()+" "+Li(r));if(typeof n=="string"&&n.length>Zc/3&&nu(n)>Zc)throw new Error(a+"contains a string greater than "+Zc+" utf8 bytes "+Li(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,f=!1;if(rt(n,(h,_)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!ih(h)))throw new Error(a+" contains an invalid key ("+h+") "+Li(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_S(r,h),cu(a,_,r),pS(r)}),o&&f)throw new Error(a+' contains ".value" child '+Li(r)+" in addition to actual children.")}},$2=function(a,n){let l,r;for(l=0;l<n.length;l++){r=n[l];const f=as(r);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!ih(f[h]))throw new Error(a+"contains an invalid key ("+f[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(mS);let o=null;for(l=0;l<n.length;l++){if(r=n[l],o!==null&&Jt(o,r))throw new Error(a+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},Dy=function(a,n,l,r){const o=Bl(a,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const f=[];rt(n,(h,_)=>{const d=new Ce(h);if(cu(o,_,Ue(l,d)),Lf(d)===".priority"&&!My(_))throw new Error(o+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(d)}),$2(o,f)},eC=function(a,n,l){if(iu(n))throw new Error(Bl(a,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!My(n))throw new Error(Bl(a,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Oy=function(a,n,l,r){if(!wy(l))throw new Error(Bl(a,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tC=function(a,n,l,r){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Oy(a,n,l)},Ka=function(a,n){if(ne(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},nC=function(a,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!ih(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!P2(l))throw new Error(Bl(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class iC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fu(a,n){let l=null;for(let r=0;r<n.length;r++){const o=n[r],f=o.getPath();l!==null&&!Uf(f,l.path)&&(a.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(o)}l&&a.eventLists_.push(l)}function zy(a,n,l){fu(a,l),Ly(a,r=>Uf(r,n))}function ln(a,n,l){fu(a,l),Ly(a,r=>Jt(r,n)||Jt(n,r))}function Ly(a,n){a.recursionDepth_++;let l=!0;for(let r=0;r<a.eventLists_.length;r++){const o=a.eventLists_[r];if(o){const f=o.path;n(f)?(lC(a.eventLists_[r]),a.eventLists_[r]=null):l=!1}}l&&(a.eventLists_=[]),a.recursionDepth_--}function lC(a){for(let n=0;n<a.events.length;n++){const l=a.events[n];if(l!==null){a.events[n]=null;const r=l.getEventRunner();Ja&&at("event: "+l.toString()),Ql(r)}}}const aC="repo_interrupt",sC=25;class rC{constructor(n,l,r,o){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xr(),this.transactionQueueTree_=new th,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uC(a,n,l){if(a.stats_=Of(a.repoInfo_),a.forceRestClient_||jE())a.server_=new Qr(a.repoInfo_,(r,o,f,h)=>{op(a,r,o,f,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>cp(a,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{st(l)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}a.persistentConnection_=new On(a.repoInfo_,n,(r,o,f,h)=>{op(a,r,o,f,h)},r=>{cp(a,r)},r=>{cC(a,r)},a.authTokenProvider_,a.appCheckProvider_,l),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(r=>{a.server_.refreshAuthToken(r)}),a.appCheckProvider_.addTokenChangeListener(r=>{a.server_.refreshAppCheckToken(r.token)}),a.statsReporter_=VE(a.repoInfo_,()=>new YS(a.stats_,a.server_)),a.infoData_=new HS,a.infoSyncTree_=new sp({startListening:(r,o,f,h)=>{let _=[];const d=a.infoData_.getNode(r._path);return d.isEmpty()||(_=ru(a.infoSyncTree_,r._path,d),setTimeout(()=>{h("ok")},0)),_},stopListening:()=>{}}),lh(a,"connected",!1),a.serverSyncTree_=new sp({startListening:(r,o,f,h)=>(a.server_.listen(r,f,o,(_,d)=>{const g=h(_,d);ln(a.eventQueue_,r._path,g)}),[]),stopListening:(r,o)=>{a.server_.unlisten(r,o)}})}function oC(a){const l=a.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function hu(a){return V2({timestamp:oC(a)})}function op(a,n,l,r,o){a.dataUpdateCount++;const f=new Ce(n);l=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,l):l;let h=[];if(o)if(r){const d=Hr(l,g=>Xe(g));h=j2(a.serverSyncTree_,f,d,o)}else{const d=Xe(l);h=H2(a.serverSyncTree_,f,d,o)}else if(r){const d=Hr(l,g=>Xe(g));h=U2(a.serverSyncTree_,f,d)}else{const d=Xe(l);h=ru(a.serverSyncTree_,f,d)}let _=f;h.length>0&&(_=Gl(a,f)),ln(a.eventQueue_,_,h)}function cp(a,n){lh(a,"connected",n),n===!1&&dC(a)}function cC(a,n){rt(n,(l,r)=>{lh(a,l,r)})}function lh(a,n,l){const r=new Ce("/.info/"+n),o=Xe(l);a.infoData_.updateSnapshot(r,o);const f=ru(a.infoSyncTree_,r,o);ln(a.eventQueue_,r,f)}function ah(a){return a.nextWriteId_++}function fC(a,n,l,r,o){du(a,"set",{path:n.toString(),value:l,priority:r});const f=hu(a),h=Xe(l,r),_=Kf(a.serverSyncTree_,n),d=Ny(h,_,f),g=ah(a),y=by(a.serverSyncTree_,n,d,g,!0);fu(a.eventQueue_,y),a.server_.put(n.toString(),h.val(!0),(b,x)=>{const w=b==="ok";w||yt("set at "+n+" failed: "+b);const B=si(a.serverSyncTree_,g,!w);ln(a.eventQueue_,n,B),hi(a,o,b,x)});const v=rh(a,n);Gl(a,v),ln(a.eventQueue_,v,[])}function hC(a,n,l,r){du(a,"update",{path:n.toString(),value:l});let o=!0;const f=hu(a),h={};if(rt(l,(_,d)=>{o=!1,h[_]=Ty(Ue(n,_),Xe(d),a.serverSyncTree_,f)}),o)at("update() called with empty data.  Don't do anything."),hi(a,r,"ok",void 0);else{const _=ah(a),d=L2(a.serverSyncTree_,n,h,_);fu(a.eventQueue_,d),a.server_.merge(n.toString(),l,(g,y)=>{const v=g==="ok";v||yt("update at "+n+" failed: "+g);const b=si(a.serverSyncTree_,_,!v),x=b.length>0?Gl(a,n):n;ln(a.eventQueue_,x,b),hi(a,r,g,y)}),rt(l,g=>{const y=rh(a,Ue(n,g));Gl(a,y)}),ln(a.eventQueue_,n,[])}}function dC(a){du(a,"onDisconnectEvents");const n=hu(a),l=Xr();cf(a.onDisconnect_,ye(),(o,f)=>{const h=Ty(o,f,a.serverSyncTree_,n);Xl(l,o,h)});let r=[];cf(l,ye(),(o,f)=>{r=r.concat(ru(a.serverSyncTree_,o,f));const h=rh(a,o);Gl(a,h)}),a.onDisconnect_=Xr(),ln(a.eventQueue_,ye(),r)}function mC(a,n,l){a.server_.onDisconnectCancel(n.toString(),(r,o)=>{r==="ok"&&of(a.onDisconnect_,n),hi(a,l,r,o)})}function fp(a,n,l,r){const o=Xe(l);a.server_.onDisconnectPut(n.toString(),o.val(!0),(f,h)=>{f==="ok"&&Xl(a.onDisconnect_,n,o),hi(a,r,f,h)})}function gC(a,n,l,r,o){const f=Xe(l,r);a.server_.onDisconnectPut(n.toString(),f.val(!0),(h,_)=>{h==="ok"&&Xl(a.onDisconnect_,n,f),hi(a,o,h,_)})}function _C(a,n,l,r){if($c(l)){at("onDisconnect().update() called with empty data.  Don't do anything."),hi(a,r,"ok",void 0);return}a.server_.onDisconnectMerge(n.toString(),l,(o,f)=>{o==="ok"&&rt(l,(h,_)=>{const d=Xe(_);Xl(a.onDisconnect_,Ue(n,h),d)}),hi(a,r,o,f)})}function pC(a,n,l){let r;ne(n._path)===".info"?r=rp(a.infoSyncTree_,n,l):r=rp(a.serverSyncTree_,n,l),zy(a.eventQueue_,n._path,r)}function yC(a,n,l){let r;ne(n._path)===".info"?r=pf(a.infoSyncTree_,n,l):r=pf(a.serverSyncTree_,n,l),zy(a.eventQueue_,n._path,r)}function vC(a){a.persistentConnection_&&a.persistentConnection_.interrupt(aC)}function du(a,...n){let l="";a.persistentConnection_&&(l=a.persistentConnection_.id+":"),at(l,...n)}function hi(a,n,l,r){n&&Ql(()=>{if(l==="ok")n(null);else{const o=(l||"error").toUpperCase();let f=o;r&&(f+=": "+r);const h=new Error(f);h.code=o,n(h)}})}function Uy(a,n,l){return Kf(a.serverSyncTree_,n,l)||Z.EMPTY_NODE}function sh(a,n=a.transactionQueueTree_){if(n||mu(a,n),Kl(n)){const l=By(a,n);H(l.length>0,"Sending zero length transaction queue"),l.every(o=>o.status===0)&&bC(a,ms(n),l)}else xy(n)&&ou(n,l=>{sh(a,l)})}function bC(a,n,l){const r=l.map(g=>g.currentWriteId),o=Uy(a,n,r);let f=o;const h=o.hash();for(let g=0;g<l.length;g++){const y=l[g];H(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=xt(n,y.path);f=f.updateChild(v,y.currentOutputSnapshotRaw)}const _=f.val(!0),d=n;a.server_.put(d.toString(),_,g=>{du(a,"transaction put response",{path:d.toString(),status:g});let y=[];if(g==="ok"){const v=[];for(let b=0;b<l.length;b++)l[b].status=2,y=y.concat(si(a.serverSyncTree_,l[b].currentWriteId)),l[b].onComplete&&v.push(()=>l[b].onComplete(null,!0,l[b].currentOutputSnapshotResolved)),l[b].unwatcher();mu(a,nh(a.transactionQueueTree_,n)),sh(a,a.transactionQueueTree_),ln(a.eventQueue_,n,y);for(let b=0;b<v.length;b++)Ql(v[b])}else{if(g==="datastale")for(let v=0;v<l.length;v++)l[v].status===3?l[v].status=4:l[v].status=0;else{yt("transaction at "+d.toString()+" failed: "+g);for(let v=0;v<l.length;v++)l[v].status=4,l[v].abortReason=g}Gl(a,n)}},h)}function Gl(a,n){const l=Iy(a,n),r=ms(l),o=By(a,l);return EC(a,o,r),r}function EC(a,n,l){if(n.length===0)return;const r=[];let o=[];const h=n.filter(_=>_.status===0).map(_=>_.currentWriteId);for(let _=0;_<n.length;_++){const d=n[_],g=xt(l,d.path);let y=!1,v;if(H(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)y=!0,v=d.abortReason,o=o.concat(si(a.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=sC)y=!0,v="maxretry",o=o.concat(si(a.serverSyncTree_,d.currentWriteId,!0));else{const b=Uy(a,d.path,h);d.currentInputSnapshot=b;const x=n[_].update(b.val());if(x!==void 0){cu("transaction failed: Data returned ",x,d.path);let w=Xe(x);typeof x=="object"&&x!=null&&hn(x,".priority")||(w=w.updatePriority(b.getPriority()));const k=d.currentWriteId,$=hu(a),ee=Ny(w,b,$);d.currentOutputSnapshotRaw=w,d.currentOutputSnapshotResolved=ee,d.currentWriteId=ah(a),h.splice(h.indexOf(k),1),o=o.concat(by(a.serverSyncTree_,d.path,ee,d.currentWriteId,d.applyLocally)),o=o.concat(si(a.serverSyncTree_,k,!0))}else y=!0,v="nodata",o=o.concat(si(a.serverSyncTree_,d.currentWriteId,!0))}ln(a.eventQueue_,l,o),o=[],y&&(n[_].status=2,(function(b){setTimeout(b,Math.floor(0))})(n[_].unwatcher),n[_].onComplete&&(v==="nodata"?r.push(()=>n[_].onComplete(null,!1,n[_].currentInputSnapshot)):r.push(()=>n[_].onComplete(new Error(v),!1,null))))}mu(a,a.transactionQueueTree_);for(let _=0;_<r.length;_++)Ql(r[_]);sh(a,a.transactionQueueTree_)}function Iy(a,n){let l,r=a.transactionQueueTree_;for(l=ne(n);l!==null&&Kl(r)===void 0;)r=nh(r,l),n=Re(n),l=ne(n);return r}function By(a,n){const l=[];return Hy(a,n,l),l.sort((r,o)=>r.order-o.order),l}function Hy(a,n,l){const r=Kl(n);if(r)for(let o=0;o<r.length;o++)l.push(r[o]);ou(n,o=>{Hy(a,o,l)})}function mu(a,n){const l=Kl(n);if(l){let r=0;for(let o=0;o<l.length;o++)l[o].status!==2&&(l[r]=l[o],r++);l.length=r,Ay(n,l.length>0?l:void 0)}ou(n,r=>{mu(a,r)})}function rh(a,n){const l=ms(Iy(a,n)),r=nh(a.transactionQueueTree_,n);return K2(r,o=>{Jc(a,o)}),Jc(a,r),Ry(r,o=>{Jc(a,o)}),l}function Jc(a,n){const l=Kl(n);if(l){const r=[];let o=[],f=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(H(f===h-1,"All SENT items should be at beginning of queue."),f=h,l[h].status=3,l[h].abortReason="set"):(H(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),o=o.concat(si(a.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&r.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?Ay(n,void 0):l.length=f+1,ln(a.eventQueue_,ms(n),o);for(let h=0;h<r.length;h++)Ql(r[h])}}function SC(a){let n="";const l=a.split("/");for(let r=0;r<l.length;r++)if(l[r].length>0){let o=l[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function CC(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const l of a.split("&")){if(l.length===0)continue;const r=l.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):yt(`Invalid query segment '${l}' in query '${a}'`)}return n}const hp=function(a,n){const l=TC(a),r=l.namespace;l.domain==="firebase.com"&&Ln(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&l.domain!=="localhost"&&Ln("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||ME();const o=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new Qp(l.host,l.secure,r,o,n,"",r!==l.subdomain),path:new Ce(l.pathString)}},TC=function(a){let n="",l="",r="",o="",f="",h=!0,_="https",d=443;if(typeof a=="string"){let g=a.indexOf("//");g>=0&&(_=a.substring(0,g-1),a=a.substring(g+2));let y=a.indexOf("/");y===-1&&(y=a.length);let v=a.indexOf("?");v===-1&&(v=a.length),n=a.substring(0,Math.min(y,v)),y<v&&(o=SC(a.substring(y,v)));const b=CC(a.substring(Math.min(a.length,v)));g=n.indexOf(":"),g>=0?(h=_==="https"||_==="wss",d=parseInt(n.substring(g+1),10)):g=n.length;const x=n.slice(0,g);if(x.toLowerCase()==="localhost")l="localhost";else if(x.split(".").length<=2)l=x;else{const w=n.indexOf(".");r=n.substring(0,w).toLowerCase(),l=n.substring(w+1),f=r}"ns"in b&&(f=b.ns)}return{host:n,port:d,domain:l,subdomain:r,secure:h,scheme:_,pathString:o,namespace:f}};class NC{constructor(n,l,r,o){this.eventType=n,this.eventRegistration=l,this.snapshot=r,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+st(this.snapshot.exportVal())}}class AC{constructor(n,l,r){this.eventRegistration=n,this.error=l,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class xC{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class RC{constructor(n,l){this._repo=n,this._path=l}cancel(){const n=new fn;return mC(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Ka("OnDisconnect.remove",this._path);const n=new fn;return fp(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Ka("OnDisconnect.set",this._path),vf("OnDisconnect.set",n,this._path);const l=new fn;return fp(this._repo,this._path,n,l.wrapCallback(()=>{})),l.promise}setWithPriority(n,l){Ka("OnDisconnect.setWithPriority",this._path),vf("OnDisconnect.setWithPriority",n,this._path),eC("OnDisconnect.setWithPriority",l);const r=new fn;return gC(this._repo,this._path,n,l,r.wrapCallback(()=>{})),r.promise}update(n){Ka("OnDisconnect.update",this._path),Dy("OnDisconnect.update",n,this._path);const l=new fn;return _C(this._repo,this._path,n,l.wrapCallback(()=>{})),l.promise}}class uh{constructor(n,l,r,o){this._repo=n,this._path=l,this._queryParams=r,this._orderByCalled=o}get key(){return le(this._path)?null:Lf(this._path)}get ref(){return new di(this._repo,this._path)}get _queryIdentifier(){const n=J_(this._queryParams),l=Mf(n);return l==="{}"?"default":l}get _queryObject(){return J_(this._queryParams)}isEqual(n){if(n=Vl(n),!(n instanceof uh))return!1;const l=this._repo===n._repo,r=Uf(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return l&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+dS(this._path)}}class di extends uh{constructor(n,l){super(n,l,new jf,!1)}get parent(){const n=ey(this._path);return n===null?null:new di(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class eu{constructor(n,l,r){this._node=n,this.ref=l,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new Ce(n),r=bf(this.ref,n);return new eu(this._node.getChild(l),r,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>n(new eu(o,bf(this.ref,r),Ie)))}hasChild(n){const l=new Ce(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ii(a,n){return a=Vl(a),a._checkNotDeleted("ref"),n!==void 0?bf(a._root,n):a._root}function bf(a,n){return a=Vl(a),ne(a._path)===null?tC("child","path",n):Oy("child","path",n),new di(a._repo,Ue(a._path,n))}function wC(a){return a=Vl(a),new RC(a._repo,a._path)}function Ir(a,n){a=Vl(a),Ka("set",a._path),vf("set",n,a._path);const l=new fn;return fC(a._repo,a._path,n,null,l.wrapCallback(()=>{})),l.promise}function MC(a,n){Dy("update",n,a._path);const l=new fn;return hC(a._repo,a._path,n,l.wrapCallback(()=>{})),l.promise}class oh{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const r=l._queryParams.getIndex();return new NC("value",this,new eu(n.snapshotNode,new di(l._repo,l._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new AC(this,n,l):null}matches(n){return n instanceof oh?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function DC(a,n,l,r,o){const f=new xC(l,void 0),h=new oh(f);return pC(a._repo,a,h),()=>yC(a._repo,a,h)}function Ef(a,n,l,r){return DC(a,"value",n)}N2(di);D2(di);const OC="FIREBASE_DATABASE_EMULATOR_HOST",Sf={};let zC=!1;function LC(a,n,l,r){const o=n.lastIndexOf(":"),f=n.substring(0,o),h=Rf(f);a.repoInfo_=new Qp(n,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,l),r&&(a.authTokenProvider_=r)}function UC(a,n,l,r,o){let f=r||a.options.databaseURL;f===void 0&&(a.options.projectId||Ln("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=hp(f,o),_=h.repoInfo,d;typeof process<"u"&&O_&&(d=O_[OC]),d?(f=`http://${d}?ns=${_.namespace}`,h=hp(f,o),_=h.repoInfo):h.repoInfo.secure;const g=new qE(a.name,a.options,n);nC("Invalid Firebase Database URL",h),le(h.path)||Ln("Database URL must point to the root of a Firebase Database (not including a child path).");const y=BC(_,a,g,new kE(a,l));return new HC(y,a)}function IC(a,n){const l=Sf[n];(!l||l[a.key]!==a)&&Ln(`Database ${n}(${a.repoInfo_}) has already been deleted.`),vC(a),delete l[a.key]}function BC(a,n,l,r){let o=Sf[n.name];o||(o={},Sf[n.name]=o);let f=o[a.toURLString()];return f&&Ln("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new rC(a,zC,l,r),o[a.toURLString()]=f,f}class HC{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new di(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(IC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Ln("Cannot call "+n+" on a deleted database.")}}function jC(a=dE(),n){const l=uE(a,"database").getImmediate({identifier:n});if(!l._instanceStarted){const r=F1("database");r&&kC(l,...r)}return l}function kC(a,n,l,r={}){a=Vl(a),a._checkNotDeleted("useEmulator");const o=`${n}:${l}`,f=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&jr(r,f.repoInfo_.emulatorOptions))return;Ln("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&Ln('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Ur(Ur.OWNER);else if(r.mockUserToken){const _=typeof r.mockUserToken=="string"?r.mockUserToken:Z1(r.mockUserToken,a.app.options.projectId);h=new Ur(_)}Rf(n)&&(K1(n),P1("Database",!0)),LC(f,o,r,h)}function qC(a){TE(hE),qr(new ns("database",(n,{instanceIdentifier:l})=>{const r=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return UC(r,o,f,l)},"PUBLIC").setMultipleInstances(!0)),Ol(z_,L_,a),Ol(z_,L_,"esm2020")}On.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};On.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};qC();var GC="firebase",YC="12.7.0";Ol(GC,YC,"app");const VC={apiKey:"AIzaSyDgkfy9Y8SvL0rjCtGzLgsSqTp6mZnankY",authDomain:"mafiaonline-43409.firebaseapp.com",databaseURL:"https://mafiaonline-43409-default-rtdb.firebaseio.com",projectId:"mafiaonline-43409",storageBucket:"mafiaonline-43409.firebasestorage.app",messagingSenderId:"791522740316",appId:"1:791522740316:web:519cc375a49db9e54fbe99",measurementId:"G-BWV6S3PPX5"},QC=Rp(VC),Bi=jC(QC);const XC=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FC=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,l,r)=>r?r.toUpperCase():l.toLowerCase()),dp=a=>{const n=FC(a);return n.charAt(0).toUpperCase()+n.slice(1)},jy=(...a)=>a.filter((n,l,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===l).join(" ").trim(),KC=a=>{for(const n in a)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var ZC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JC=Le.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:o="",children:f,iconNode:h,..._},d)=>Le.createElement("svg",{ref:d,...ZC,width:n,height:n,stroke:a,strokeWidth:r?Number(l)*24/Number(n):l,className:jy("lucide",o),...!f&&!KC(_)&&{"aria-hidden":"true"},..._},[...h.map(([g,y])=>Le.createElement(g,y)),...Array.isArray(f)?f:[f]]));const jt=(a,n)=>{const l=Le.forwardRef(({className:r,...o},f)=>Le.createElement(JC,{ref:f,iconNode:n,className:jy(`lucide-${XC(dp(a))}`,`lucide-${a}`,r),...o}));return l.displayName=dp(a),l};const WC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],PC=jt("arrow-right",WC);const $C=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eT=jt("circle-check-big",$C);const tT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],mp=jt("moon",tT);const nT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ky=jt("play",nT);const iT=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],lT=jt("scan-line",iT);const aT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Cf=jt("search",aT);const sT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rT=jt("settings",sT);const uT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],qy=jt("shield",uT);const oT=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],cT=jt("skull",oT);const fT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],hT=jt("sun",fT);const dT=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],Gy=jt("sword",dT);const mT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gT=jt("users",mT);const _T=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pT=jt("zap",_T);function yT({onHost:a,onJoin:n,joinToken:l}){const[r,o]=Le.useState(""),[f,h]=Le.useState(null);Le.useEffect(()=>{if(l)try{const d=JSON.parse(atob(l));d.r&&h(d.r)}catch{console.error("Invalid QR")}},[l]);const _=async()=>{const d=U1();await Ir(Ii(Bi,`rooms/${d}`),{gameState:"LOBBY",createdAt:Date.now(),players:{},config:{mafia:1,doctor:1,detective:1,peacefulFirstNight:!1}}),a(d)};return f?D.jsx("div",{className:"center-container",children:D.jsxs("div",{className:"game-card pop-in",children:[D.jsxs("div",{className:"text-center",children:[D.jsx("div",{className:"inline-block bg-blue-500/20 text-blue-400 text-xs font-black uppercase tracking-widest px-3 py-1 rounded-full mb-4",children:"Joining Room"}),D.jsx("div",{className:"text-5xl font-mono font-black text-white mb-8 tracking-widest",children:f})]}),D.jsxs("div",{className:"w-full space-y-4",children:[D.jsxs("div",{className:"text-left w-full",children:[D.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 mb-2 block uppercase tracking-wider",children:"Nickname"}),D.jsx("input",{className:"input-field",placeholder:"ENTER NAME",value:r,onChange:d=>o(d.target.value),autoFocus:!0,maxLength:12})]}),D.jsxs("button",{onClick:()=>n(f,r),disabled:!r,className:"btn-primary flex items-center justify-center gap-2",children:["Enter Game ",D.jsx(PC,{size:20})]})]})]})}):D.jsxs("div",{className:"center-container relative overflow-hidden",children:[D.jsx("div",{className:"absolute top-[-20%] left-[-20%] w-[500px] h-[500px] bg-blue-600/20 rounded-full blur-[100px] pointer-events-none"}),D.jsx("div",{className:"absolute bottom-[-20%] right-[-20%] w-[500px] h-[500px] bg-indigo-600/20 rounded-full blur-[100px] pointer-events-none"}),D.jsxs("div",{className:"text-center mb-16 pop-in relative z-10",children:[D.jsx("h1",{className:"text-8xl md:text-9xl font-black tracking-tighter text-white drop-shadow-2xl mb-2 text-glow",children:"MAFIA"}),D.jsx("div",{className:"inline-block bg-white/10 backdrop-blur-md border border-white/10 px-6 py-1.5 rounded-full",children:D.jsx("span",{className:"text-xs font-bold tracking-[0.4em] text-blue-200 uppercase",children:"Pocket Edition"})})]}),D.jsxs("div",{className:"game-card pop-in z-10",children:[D.jsxs("button",{onClick:_,className:"btn-primary btn-red py-6 text-xl flex items-center justify-center gap-3 shadow-red-900/50",children:[D.jsx(ky,{fill:"currentColor",size:24})," Host New Game"]}),D.jsxs("div",{className:"relative w-full text-center py-4",children:[D.jsx("div",{className:"absolute inset-0 flex items-center",children:D.jsx("div",{className:"w-full border-t border-slate-700"})}),D.jsx("span",{className:"relative bg-[#131b2e] px-4 text-xs font-bold text-slate-500 uppercase tracking-widest",children:"OR"})]}),D.jsxs("div",{className:"text-center",children:[D.jsx("div",{className:"flex justify-center mb-4 text-slate-500",children:D.jsx(lT,{size:48,strokeWidth:1})}),D.jsx("p",{className:"text-slate-400 text-sm font-medium px-4",children:"To join a game, simply scan the Host's QR code with your camera app."})]})]})]})}var vT=Object.defineProperty,tu=Object.getOwnPropertySymbols,Yy=Object.prototype.hasOwnProperty,Vy=Object.prototype.propertyIsEnumerable,gp=(a,n,l)=>n in a?vT(a,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[n]=l,Tf=(a,n)=>{for(var l in n||(n={}))Yy.call(n,l)&&gp(a,l,n[l]);if(tu)for(var l of tu(n))Vy.call(n,l)&&gp(a,l,n[l]);return a},Nf=(a,n)=>{var l={};for(var r in a)Yy.call(a,r)&&n.indexOf(r)<0&&(l[r]=a[r]);if(a!=null&&tu)for(var r of tu(a))n.indexOf(r)<0&&Vy.call(a,r)&&(l[r]=a[r]);return l};var Gi;(a=>{const n=class oe{constructor(d,g,y,v){if(this.version=d,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],d<oe.MIN_VERSION||d>oe.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let b=[];for(let w=0;w<this.size;w++)b.push(!1);for(let w=0;w<this.size;w++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();const x=this.addEccAndInterleave(y);if(this.drawCodewords(x),v==-1){let w=1e9;for(let B=0;B<8;B++){this.applyMask(B),this.drawFormatBits(B);const k=this.getPenaltyScore();k<w&&(v=B,w=k),this.applyMask(B)}}o(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(d,g){const y=a.QrSegment.makeSegments(d);return oe.encodeSegments(y,g)}static encodeBinary(d,g){const y=a.QrSegment.makeBytes(d);return oe.encodeSegments([y],g)}static encodeSegments(d,g,y=1,v=40,b=-1,x=!0){if(!(oe.MIN_VERSION<=y&&y<=v&&v<=oe.MAX_VERSION)||b<-1||b>7)throw new RangeError("Invalid value");let w,B;for(w=y;;w++){const V=oe.getNumDataCodewords(w,g)*8,ce=h.getTotalBits(d,w);if(ce<=V){B=ce;break}if(w>=v)throw new RangeError("Data too long")}for(const V of[oe.Ecc.MEDIUM,oe.Ecc.QUARTILE,oe.Ecc.HIGH])x&&B<=oe.getNumDataCodewords(w,V)*8&&(g=V);let k=[];for(const V of d){l(V.mode.modeBits,4,k),l(V.numChars,V.mode.numCharCountBits(w),k);for(const ce of V.getData())k.push(ce)}o(k.length==B);const $=oe.getNumDataCodewords(w,g)*8;o(k.length<=$),l(0,Math.min(4,$-k.length),k),l(0,(8-k.length%8)%8,k),o(k.length%8==0);for(let V=236;k.length<$;V^=253)l(V,8,k);let ee=[];for(;ee.length*8<k.length;)ee.push(0);return k.forEach((V,ce)=>ee[ce>>>3]|=V<<7-(ce&7)),new oe(w,g,ee,b)}getModule(d,g){return 0<=d&&d<this.size&&0<=g&&g<this.size&&this.modules[g][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let y=0;y<this.size;y++)this.setFunctionModule(6,y,y%2==0),this.setFunctionModule(y,6,y%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),g=d.length;for(let y=0;y<g;y++)for(let v=0;v<g;v++)y==0&&v==0||y==0&&v==g-1||y==g-1&&v==0||this.drawAlignmentPattern(d[y],d[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const g=this.errorCorrectionLevel.formatBits<<3|d;let y=g;for(let b=0;b<10;b++)y=y<<1^(y>>>9)*1335;const v=(g<<10|y)^21522;o(v>>>15==0);for(let b=0;b<=5;b++)this.setFunctionModule(8,b,r(v,b));this.setFunctionModule(8,7,r(v,6)),this.setFunctionModule(8,8,r(v,7)),this.setFunctionModule(7,8,r(v,8));for(let b=9;b<15;b++)this.setFunctionModule(14-b,8,r(v,b));for(let b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,r(v,b));for(let b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,r(v,b));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let y=0;y<12;y++)d=d<<1^(d>>>11)*7973;const g=this.version<<12|d;o(g>>>18==0);for(let y=0;y<18;y++){const v=r(g,y),b=this.size-11+y%3,x=Math.floor(y/3);this.setFunctionModule(b,x,v),this.setFunctionModule(x,b,v)}}drawFinderPattern(d,g){for(let y=-4;y<=4;y++)for(let v=-4;v<=4;v++){const b=Math.max(Math.abs(v),Math.abs(y)),x=d+v,w=g+y;0<=x&&x<this.size&&0<=w&&w<this.size&&this.setFunctionModule(x,w,b!=2&&b!=4)}}drawAlignmentPattern(d,g){for(let y=-2;y<=2;y++)for(let v=-2;v<=2;v++)this.setFunctionModule(d+v,g+y,Math.max(Math.abs(v),Math.abs(y))!=1)}setFunctionModule(d,g,y){this.modules[g][d]=y,this.isFunction[g][d]=!0}addEccAndInterleave(d){const g=this.version,y=this.errorCorrectionLevel;if(d.length!=oe.getNumDataCodewords(g,y))throw new RangeError("Invalid argument");const v=oe.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][g],b=oe.ECC_CODEWORDS_PER_BLOCK[y.ordinal][g],x=Math.floor(oe.getNumRawDataModules(g)/8),w=v-x%v,B=Math.floor(x/v);let k=[];const $=oe.reedSolomonComputeDivisor(b);for(let V=0,ce=0;V<v;V++){let Be=d.slice(ce,ce+B-b+(V<w?0:1));ce+=Be.length;const Pe=oe.reedSolomonComputeRemainder(Be,$);V<w&&Be.push(0),k.push(Be.concat(Pe))}let ee=[];for(let V=0;V<k[0].length;V++)k.forEach((ce,Be)=>{(V!=B-b||Be>=w)&&ee.push(ce[V])});return o(ee.length==x),ee}drawCodewords(d){if(d.length!=Math.floor(oe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let y=this.size-1;y>=1;y-=2){y==6&&(y=5);for(let v=0;v<this.size;v++)for(let b=0;b<2;b++){const x=y-b,B=(y+1&2)==0?this.size-1-v:v;!this.isFunction[B][x]&&g<d.length*8&&(this.modules[B][x]=r(d[g>>>3],7-(g&7)),g++)}}o(g==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let y=0;y<this.size;y++){let v;switch(d){case 0:v=(y+g)%2==0;break;case 1:v=g%2==0;break;case 2:v=y%3==0;break;case 3:v=(y+g)%3==0;break;case 4:v=(Math.floor(y/3)+Math.floor(g/2))%2==0;break;case 5:v=y*g%2+y*g%3==0;break;case 6:v=(y*g%2+y*g%3)%2==0;break;case 7:v=((y+g)%2+y*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][y]&&v&&(this.modules[g][y]=!this.modules[g][y])}}getPenaltyScore(){let d=0;for(let b=0;b<this.size;b++){let x=!1,w=0,B=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[b][k]==x?(w++,w==5?d+=oe.PENALTY_N1:w>5&&d++):(this.finderPenaltyAddHistory(w,B),x||(d+=this.finderPenaltyCountPatterns(B)*oe.PENALTY_N3),x=this.modules[b][k],w=1);d+=this.finderPenaltyTerminateAndCount(x,w,B)*oe.PENALTY_N3}for(let b=0;b<this.size;b++){let x=!1,w=0,B=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][b]==x?(w++,w==5?d+=oe.PENALTY_N1:w>5&&d++):(this.finderPenaltyAddHistory(w,B),x||(d+=this.finderPenaltyCountPatterns(B)*oe.PENALTY_N3),x=this.modules[k][b],w=1);d+=this.finderPenaltyTerminateAndCount(x,w,B)*oe.PENALTY_N3}for(let b=0;b<this.size-1;b++)for(let x=0;x<this.size-1;x++){const w=this.modules[b][x];w==this.modules[b][x+1]&&w==this.modules[b+1][x]&&w==this.modules[b+1][x+1]&&(d+=oe.PENALTY_N2)}let g=0;for(const b of this.modules)g=b.reduce((x,w)=>x+(w?1:0),g);const y=this.size*this.size,v=Math.ceil(Math.abs(g*20-y*10)/y)-1;return o(0<=v&&v<=9),d+=v*oe.PENALTY_N4,o(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let y=[6];for(let v=this.size-7;y.length<d;v-=g)y.splice(1,0,v);return y}}static getNumRawDataModules(d){if(d<oe.MIN_VERSION||d>oe.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*d+128)*d+64;if(d>=2){const y=Math.floor(d/7)+2;g-=(25*y-10)*y-55,d>=7&&(g-=36)}return o(208<=g&&g<=29648),g}static getNumDataCodewords(d,g){return Math.floor(oe.getNumRawDataModules(d)/8)-oe.ECC_CODEWORDS_PER_BLOCK[g.ordinal][d]*oe.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let g=[];for(let v=0;v<d-1;v++)g.push(0);g.push(1);let y=1;for(let v=0;v<d;v++){for(let b=0;b<g.length;b++)g[b]=oe.reedSolomonMultiply(g[b],y),b+1<g.length&&(g[b]^=g[b+1]);y=oe.reedSolomonMultiply(y,2)}return g}static reedSolomonComputeRemainder(d,g){let y=g.map(v=>0);for(const v of d){const b=v^y.shift();y.push(0),g.forEach((x,w)=>y[w]^=oe.reedSolomonMultiply(x,b))}return y}static reedSolomonMultiply(d,g){if(d>>>8||g>>>8)throw new RangeError("Byte out of range");let y=0;for(let v=7;v>=0;v--)y=y<<1^(y>>>7)*285,y^=(g>>>v&1)*d;return o(y>>>8==0),y}finderPenaltyCountPatterns(d){const g=d[1];o(g<=this.size*3);const y=g>0&&d[2]==g&&d[3]==g*3&&d[4]==g&&d[5]==g;return(y&&d[0]>=g*4&&d[6]>=g?1:0)+(y&&d[6]>=g*4&&d[0]>=g?1:0)}finderPenaltyTerminateAndCount(d,g,y){return d&&(this.finderPenaltyAddHistory(g,y),g=0),g+=this.size,this.finderPenaltyAddHistory(g,y),this.finderPenaltyCountPatterns(y)}finderPenaltyAddHistory(d,g){g[0]==0&&(d+=this.size),g.pop(),g.unshift(d)}};n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],a.QrCode=n;function l(_,d,g){if(d<0||d>31||_>>>d)throw new RangeError("Value out of range");for(let y=d-1;y>=0;y--)g.push(_>>>y&1)}function r(_,d){return(_>>>d&1)!=0}function o(_){if(!_)throw new Error("Assertion error")}const f=class qe{constructor(d,g,y){if(this.mode=d,this.numChars=g,this.bitData=y,g<0)throw new RangeError("Invalid argument");this.bitData=y.slice()}static makeBytes(d){let g=[];for(const y of d)l(y,8,g);return new qe(qe.Mode.BYTE,d.length,g)}static makeNumeric(d){if(!qe.isNumeric(d))throw new RangeError("String contains non-numeric characters");let g=[];for(let y=0;y<d.length;){const v=Math.min(d.length-y,3);l(parseInt(d.substring(y,y+v),10),v*3+1,g),y+=v}return new qe(qe.Mode.NUMERIC,d.length,g)}static makeAlphanumeric(d){if(!qe.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],y;for(y=0;y+2<=d.length;y+=2){let v=qe.ALPHANUMERIC_CHARSET.indexOf(d.charAt(y))*45;v+=qe.ALPHANUMERIC_CHARSET.indexOf(d.charAt(y+1)),l(v,11,g)}return y<d.length&&l(qe.ALPHANUMERIC_CHARSET.indexOf(d.charAt(y)),6,g),new qe(qe.Mode.ALPHANUMERIC,d.length,g)}static makeSegments(d){return d==""?[]:qe.isNumeric(d)?[qe.makeNumeric(d)]:qe.isAlphanumeric(d)?[qe.makeAlphanumeric(d)]:[qe.makeBytes(qe.toUtf8ByteArray(d))]}static makeEci(d){let g=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)l(d,8,g);else if(d<16384)l(2,2,g),l(d,14,g);else if(d<1e6)l(6,3,g),l(d,21,g);else throw new RangeError("ECI assignment value out of range");return new qe(qe.Mode.ECI,0,g)}static isNumeric(d){return qe.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return qe.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,g){let y=0;for(const v of d){const b=v.mode.numCharCountBits(g);if(v.numChars>=1<<b)return 1/0;y+=4+b+v.bitData.length}return y}static toUtf8ByteArray(d){d=encodeURI(d);let g=[];for(let y=0;y<d.length;y++)d.charAt(y)!="%"?g.push(d.charCodeAt(y)):(g.push(parseInt(d.substring(y+1,y+3),16)),y+=2);return g}};f.NUMERIC_REGEX=/^[0-9]*$/,f.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,f.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let h=f;a.QrSegment=f})(Gi||(Gi={}));(a=>{(n=>{const l=class{constructor(o,f){this.ordinal=o,this.formatBits=f}};l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2),n.Ecc=l})(a.QrCode||(a.QrCode={}))})(Gi||(Gi={}));(a=>{(n=>{const l=class{constructor(o,f){this.modeBits=o,this.numBitsCharCount=f}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};l.NUMERIC=new l(1,[10,12,14]),l.ALPHANUMERIC=new l(2,[9,11,13]),l.BYTE=new l(4,[8,16,16]),l.KANJI=new l(8,[8,10,12]),l.ECI=new l(7,[0,0,0]),n.Mode=l})(a.QrSegment||(a.QrSegment={}))})(Gi||(Gi={}));var Dl=Gi;var bT={L:Dl.QrCode.Ecc.LOW,M:Dl.QrCode.Ecc.MEDIUM,Q:Dl.QrCode.Ecc.QUARTILE,H:Dl.QrCode.Ecc.HIGH},Qy=128,Xy="L",Fy="#FFFFFF",Ky="#000000",Zy=!1,Jy=1,ET=4,ST=0,CT=.1;function Wy(a,n=0){const l=[];return a.forEach(function(r,o){let f=null;r.forEach(function(h,_){if(!h&&f!==null){l.push(`M${f+n} ${o+n}h${_-f}v1H${f+n}z`),f=null;return}if(_===r.length-1){if(!h)return;f===null?l.push(`M${_+n},${o+n} h1v1H${_+n}z`):l.push(`M${f+n},${o+n} h${_+1-f}v1H${f+n}z`);return}h&&f===null&&(f=_)})}),l.join("")}function Py(a,n){return a.slice().map((l,r)=>r<n.y||r>=n.y+n.h?l:l.map((o,f)=>f<n.x||f>=n.x+n.w?o:!1))}function TT(a,n,l,r){if(r==null)return null;const o=a.length+l*2,f=Math.floor(n*CT),h=o/n,_=(r.width||f)*h,d=(r.height||f)*h,g=r.x==null?a.length/2-_/2:r.x*h,y=r.y==null?a.length/2-d/2:r.y*h,v=r.opacity==null?1:r.opacity;let b=null;if(r.excavate){let w=Math.floor(g),B=Math.floor(y),k=Math.ceil(_+g-w),$=Math.ceil(d+y-B);b={x:w,y:B,w:k,h:$}}const x=r.crossOrigin;return{x:g,y,h:d,w:_,excavation:b,opacity:v,crossOrigin:x}}function NT(a,n){return n!=null?Math.max(Math.floor(n),0):a?ET:ST}function $y({value:a,level:n,minVersion:l,includeMargin:r,marginSize:o,imageSettings:f,size:h,boostLevel:_}){let d=et.useMemo(()=>{const w=(Array.isArray(a)?a:[a]).reduce((B,k)=>(B.push(...Dl.QrSegment.makeSegments(k)),B),[]);return Dl.QrCode.encodeSegments(w,bT[n],l,void 0,void 0,_)},[a,n,l,_]);const{cells:g,margin:y,numCells:v,calculatedImageSettings:b}=et.useMemo(()=>{let x=d.getModules();const w=NT(r,o),B=x.length+w*2,k=TT(x,h,w,f);return{cells:x,margin:w,numCells:B,calculatedImageSettings:k}},[d,h,f,r,o]);return{qrcode:d,margin:y,cells:g,numCells:v,calculatedImageSettings:b}}var AT=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),xT=et.forwardRef(function(n,l){const r=n,{value:o,size:f=Qy,level:h=Xy,bgColor:_=Fy,fgColor:d=Ky,includeMargin:g=Zy,minVersion:y=Jy,boostLevel:v,marginSize:b,imageSettings:x}=r,B=Nf(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=B,$=Nf(B,["style"]),ee=x?.src,V=et.useRef(null),ce=et.useRef(null),Be=et.useCallback(ut=>{V.current=ut,typeof l=="function"?l(ut):l&&(l.current=ut)},[l]),[Pe,ie]=et.useState(!1),{margin:Fe,cells:vt,numCells:an,calculatedImageSettings:He}=$y({value:o,level:h,minVersion:y,boostLevel:v,includeMargin:g,marginSize:b,imageSettings:x,size:f});et.useEffect(()=>{if(V.current!=null){const ut=V.current,Ge=ut.getContext("2d");if(!Ge)return;let z=vt;const j=ce.current,F=He!=null&&j!==null&&j.complete&&j.naturalHeight!==0&&j.naturalWidth!==0;F&&He.excavation!=null&&(z=Py(vt,He.excavation));const _e=window.devicePixelRatio||1;ut.height=ut.width=f*_e;const ve=f/an*_e;Ge.scale(ve,ve),Ge.fillStyle=_,Ge.fillRect(0,0,an,an),Ge.fillStyle=d,AT?Ge.fill(new Path2D(Wy(z,Fe))):vt.forEach(function(C,I){C.forEach(function(q,Y){q&&Ge.fillRect(Y+Fe,I+Fe,1,1)})}),He&&(Ge.globalAlpha=He.opacity),F&&Ge.drawImage(j,He.x+Fe,He.y+Fe,He.w,He.h)}}),et.useEffect(()=>{ie(!1)},[ee]);const mt=Tf({height:f,width:f},k);let sn=null;return ee!=null&&(sn=et.createElement("img",{src:ee,key:ee,style:{display:"none"},onLoad:()=>{ie(!0)},ref:ce,crossOrigin:He?.crossOrigin})),et.createElement(et.Fragment,null,et.createElement("canvas",Tf({style:mt,height:f,width:f,ref:Be,role:"img"},$)),sn)});xT.displayName="QRCodeCanvas";var e0=et.forwardRef(function(n,l){const r=n,{value:o,size:f=Qy,level:h=Xy,bgColor:_=Fy,fgColor:d=Ky,includeMargin:g=Zy,minVersion:y=Jy,boostLevel:v,title:b,marginSize:x,imageSettings:w}=r,B=Nf(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:$,numCells:ee,calculatedImageSettings:V}=$y({value:o,level:h,minVersion:y,boostLevel:v,includeMargin:g,marginSize:x,imageSettings:w,size:f});let ce=$,Be=null;w!=null&&V!=null&&(V.excavation!=null&&(ce=Py($,V.excavation)),Be=et.createElement("image",{href:w.src,height:V.h,width:V.w,x:V.x+k,y:V.y+k,preserveAspectRatio:"none",opacity:V.opacity,crossOrigin:V.crossOrigin}));const Pe=Wy(ce,k);return et.createElement("svg",Tf({height:f,width:f,viewBox:`0 0 ${ee} ${ee}`,ref:l,role:"img"},B),!!b&&et.createElement("title",null,b),et.createElement("path",{fill:_,d:`M0,0 h${ee}v${ee}H0z`,shapeRendering:"crispEdges"}),et.createElement("path",{fill:d,d:Pe,shapeRendering:"crispEdges"}),Be)});e0.displayName="QRCodeSVG";function RT({roomCode:a}){const[n,l]=Le.useState(null),[r,o]=Le.useState({mafia:1,doctor:1,detective:1,peacefulFirstNight:!1});if(Le.useEffect(()=>{const d=Ii(Bi,`rooms/${a}`);return Ef(d,g=>{g.exists()&&l(g.val())})},[a]),Le.useEffect(()=>{if(n?.gameState==="LOBBY"){const d=n.players?Object.keys(n.players).length:0;o(g=>({...g,mafia:Math.max(1,Math.floor(d/4)),doctor:d>2?1:0,detective:d>4?1:0,peacefulFirstNight:d<=4}))}},[n?.players]),!n)return D.jsx("div",{className:"center-container",children:D.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const f=n.players?Object.values(n.players):[],h=window.location.href.split("?")[0]+`?q=${btoa(JSON.stringify({r:a}))}`,_=()=>{const d=[];for(let v=0;v<r.mafia;v++)d.push("MAFIA");for(let v=0;v<r.doctor;v++)d.push("DOCTOR");for(let v=0;v<r.detective;v++)d.push("DETECTIVE");for(;d.length<f.length;)d.push("VILLAGER");const g=I1(d).slice(0,f.length),y={};f.forEach((v,b)=>{y[`rooms/${a}/players/${v.id}/role`]=g[b]||"VILLAGER",y[`rooms/${a}/players/${v.id}/isAlive`]=!0,y[`rooms/${a}/players/${v.id}/voteTarget`]=null}),y[`rooms/${a}/config`]=r,y[`rooms/${a}/gameState`]="NIGHT",y[`rooms/${a}/turnCount`]=1,y[`rooms/${a}/publicMessage`]="NIGHT HAS FALLEN",y[`rooms/${a}/nightActions`]=null,MC(Ii(Bi),y)};return D.jsxs("div",{className:"center-container justify-start pt-12 pb-12",children:[D.jsxs("div",{className:"flex flex-col items-center mb-12 pop-in",children:[D.jsx("div",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.5em] mb-4",children:"Room Code"}),D.jsx("div",{className:"text-6xl md:text-8xl font-mono font-black text-white tracking-widest drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:a})]}),n.gameState==="LOBBY"?D.jsxs("div",{className:"w-full max-w-7xl grid grid-cols-1 lg:grid-cols-2 gap-8 pop-in",style:{animationDelay:"0.1s"},children:[D.jsxs("div",{className:"game-card h-full justify-between !max-w-none",children:[D.jsxs("div",{className:"flex flex-col items-center w-full py-8",children:[D.jsx("div",{className:"bg-white p-4 rounded-3xl mb-8 shadow-2xl",children:D.jsx(e0,{value:h,size:250})}),D.jsx("h2",{className:"text-3xl font-black mb-2 uppercase tracking-wide",children:"Scan to Join"}),D.jsx("p",{className:"text-slate-400 font-medium",children:"Open your camera app"})]}),D.jsxs("div",{className:"w-full bg-slate-900/80 rounded-2xl p-6 border border-slate-700/50 min-h-[140px]",children:[D.jsxs("div",{className:"flex items-center justify-between text-blue-400 font-black text-xs uppercase tracking-widest mb-4 border-b border-slate-800 pb-2",children:[D.jsxs("span",{className:"flex items-center gap-2",children:[D.jsx(gT,{size:16})," Lobby"]}),D.jsxs("span",{children:[f.length," Players"]})]}),f.length===0?D.jsx("div",{className:"flex h-20 items-center justify-center text-slate-600 text-sm italic",children:"Waiting for players to connect..."}):D.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(d=>D.jsx("span",{className:"bg-slate-800 text-white text-sm font-bold px-3 py-1.5 rounded-lg border border-slate-700 shadow-sm animate-pulse",children:d.name},d.id))})]})]}),D.jsxs("div",{className:"game-card h-full justify-between !max-w-none",children:[D.jsxs("div",{className:"w-full",children:[D.jsxs("h2",{className:"text-xl font-black mb-8 flex items-center gap-3 text-slate-300 uppercase tracking-widest border-b border-white/10 pb-4",children:[D.jsx(rT,{size:20})," Game Config"]}),D.jsxs("div",{className:"space-y-4 w-full mb-8",children:[D.jsx(Wc,{label:"Mafia",icon:D.jsx(Gy,{size:20,className:"text-red-500"}),value:r.mafia,onChange:d=>o({...r,mafia:d})}),D.jsx(Wc,{label:"Doctor",icon:D.jsx(qy,{size:20,className:"text-green-500"}),value:r.doctor,onChange:d=>o({...r,doctor:d})}),D.jsx(Wc,{label:"Detective",icon:D.jsx(Cf,{size:20,className:"text-blue-500"}),value:r.detective,onChange:d=>o({...r,detective:d})}),D.jsxs("div",{onClick:()=>o({...r,peacefulFirstNight:!r.peacefulFirstNight}),className:`flex justify-between items-center p-4 rounded-xl cursor-pointer border-2 transition-all active:scale-[0.98] ${r.peacefulFirstNight?"bg-emerald-900/30 border-emerald-500/50":"bg-slate-900/50 border-slate-800"}`,children:[D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx("div",{className:`p-2 rounded-lg ${r.peacefulFirstNight?"bg-emerald-500 text-white":"bg-slate-800 text-slate-500"}`,children:D.jsx(pT,{size:20,fill:r.peacefulFirstNight?"currentColor":"none"})}),D.jsx("div",{className:"text-left",children:D.jsx("div",{className:`font-bold text-sm uppercase tracking-wide ${r.peacefulFirstNight?"text-emerald-400":"text-slate-400"}`,children:"Peaceful Night 1"})})]}),D.jsx("div",{className:`w-12 h-6 rounded-full p-1 transition-colors ${r.peacefulFirstNight?"bg-emerald-500":"bg-slate-700"}`,children:D.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform ${r.peacefulFirstNight?"translate-x-6":"translate-x-0"}`})})]})]})]}),D.jsxs("button",{onClick:_,disabled:f.length<2,className:"btn-primary btn-green w-full py-5 text-xl flex items-center justify-center gap-3",children:[D.jsx(ky,{fill:"currentColor",size:24})," Start Game"]})]})]}):D.jsxs("div",{className:"w-full max-w-5xl flex flex-col items-center animate-in fade-in duration-700",children:[D.jsxs("div",{className:"text-center mb-12",children:[D.jsx("h2",{className:"text-2xl font-bold text-slate-400 uppercase tracking-[0.5em] mb-4",children:"Current Phase"}),D.jsx("h1",{className:"text-6xl md:text-7xl font-black text-white text-glow mb-4",children:n.publicMessage})]}),D.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 w-full",children:f.map(d=>D.jsxs("div",{className:`p-4 rounded-xl border-2 text-center transition-all ${d.isAlive?"border-slate-700 bg-slate-800/50":"border-red-900 bg-red-900/10 opacity-50 grayscale"}`,children:[D.jsx("div",{className:"text-2xl mb-2",children:d.isAlive?"O":"Rx"}),D.jsx("div",{className:"font-bold",children:d.name})]},d.id))})]})]})}function Wc({label:a,icon:n,value:l,onChange:r}){return D.jsxs("div",{className:"flex justify-between items-center bg-slate-900/50 p-3 rounded-xl border border-slate-700/50",children:[D.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[n,D.jsx("span",{className:"font-bold text-sm uppercase tracking-wider text-slate-200",children:a})]}),D.jsxs("div",{className:"flex items-center gap-1 bg-slate-950 rounded-lg p-1 border border-slate-800",children:[D.jsx("button",{onClick:()=>r(Math.max(0,l-1)),className:"w-8 h-8 flex items-center justify-center rounded bg-slate-800 hover:bg-slate-700 text-slate-300 transition-colors font-bold",children:"-"}),D.jsx("span",{className:"w-8 text-center font-mono font-bold",children:l}),D.jsx("button",{onClick:()=>r(l+1),className:"w-8 h-8 flex items-center justify-center rounded bg-slate-800 hover:bg-slate-700 text-slate-300 transition-colors font-bold",children:"+"})]})]})}function wT({roomCode:a,playerName:n}){const[l,r]=Le.useState(null),[o,f]=Le.useState(null),[h,_]=Le.useState(null);if(Le.useEffect(()=>{const b=`mafia_id_${a}`;let x=sessionStorage.getItem(b);x||(x=n.replace(/[^a-zA-Z0-9]/g,"")+"_"+Date.now(),sessionStorage.setItem(b,x));const w=Ii(Bi,`rooms/${a}/players/${x}`);Ef(w,$=>{$.exists()?r($.val()):Ir(w,{id:x,name:n,isAlive:!0,role:"UNKNOWN",isOnline:!0})}),wC(w).update({isOnline:!1});const B=Ii(Bi,`rooms/${a}`),k=Ef(B,$=>{const ee=$.val();ee&&(f(ee),ee.gameState!=="NIGHT"&&_(null))});return()=>k()},[]),!l||!o)return D.jsx("div",{className:"center-container",children:D.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-white"})});const d=(b,x)=>{if(!(x==="KILL"&&o.turnCount===1&&o.config?.peacefulFirstNight))if(x==="INVESTIGATE"){const w=Object.values(o.players).find(B=>B.id===b);_({name:w.name,role:w.role==="MAFIA"?"MAFIA":"INNOCENT"})}else Ir(Ii(Bi,`rooms/${a}/nightActions/${l.id}`),{type:x,targetId:b})},g=b=>Ir(Ii(Bi,`rooms/${a}/players/${l.id}/voteTarget`),b),y=o.gameState!=="LOBBY"&&l.isAlive===!1,v=b=>{switch(b){case"MAFIA":return"text-red-500 bg-red-950/30 border-red-500/20";case"DOCTOR":return"text-green-500 bg-green-950/30 border-green-500/20";case"DETECTIVE":return"text-blue-500 bg-blue-950/30 border-blue-500/20";default:return"text-slate-400 bg-slate-800/50 border-slate-700"}};return y?D.jsxs("div",{className:"center-container bg-[#2a0a0a]",children:[D.jsx("div",{className:"bg-red-500/10 p-12 rounded-full border-4 border-red-500/20 mb-8 animate-pulse",children:D.jsx(cT,{size:80,className:"text-red-500"})}),D.jsx("h1",{className:"text-5xl font-black mb-4 uppercase tracking-tighter text-red-500",children:"Eliminated"}),D.jsx("p",{className:"text-red-200/60 font-medium",children:"You have been removed from the game."})]}):D.jsxs("div",{className:"flex flex-col h-[100dvh] w-full bg-slate-950 overflow-hidden",children:[D.jsxs("div",{className:"w-full bg-slate-900 border-b border-white/10 p-4 pt-safe flex items-center justify-between z-20 shadow-xl",children:[D.jsx("div",{className:"font-bold text-xl tracking-tight text-white",children:n}),l.role!=="UNKNOWN"&&D.jsx("div",{className:`text-xs font-black uppercase tracking-widest px-3 py-1.5 rounded-lg border ${v(l.role)}`,children:l.role})]}),o.gameState==="LOBBY"&&D.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center p-6 text-center space-y-6 animate-in zoom-in duration-500",children:[D.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-2xl rotate-3 flex items-center justify-center shadow-2xl shadow-blue-900/50",children:D.jsx("span",{className:"text-4xl text-white font-black",children:"?"})}),D.jsxs("div",{children:[D.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:"You are in!"}),D.jsx("p",{className:"text-slate-400 font-medium text-sm",children:"Watch the TV for instructions."})]})]}),(o.gameState==="NIGHT"||o.gameState==="VOTING")&&D.jsxs("div",{className:"flex flex-col h-full",children:[D.jsxs("div",{className:"p-6 text-center bg-gradient-to-b from-slate-900 to-transparent",children:[D.jsx("div",{className:"flex justify-center mb-2",children:o.gameState==="NIGHT"?D.jsx(mp,{size:32,className:"text-indigo-400"}):D.jsx(hT,{size:32,className:"text-amber-400"})}),D.jsx("h2",{className:"text-3xl font-black uppercase text-white tracking-tight leading-none mb-1",children:o.gameState==="NIGHT"?"Night Phase":"Voting Phase"}),D.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-[0.2em]",children:o.gameState==="NIGHT"?l.role==="VILLAGER"?"Stay Quiet":"Select Target":"Cast Your Vote"})]}),h&&D.jsxs("div",{className:"mx-6 mb-4 p-4 rounded-xl bg-indigo-600 text-white shadow-lg shadow-indigo-900/50 flex items-center gap-4 animate-bounce",children:[D.jsx(Cf,{size:24,className:"text-indigo-200"}),D.jsxs("div",{children:[D.jsx("div",{className:"text-xs font-bold opacity-75 uppercase",children:"Investigation Result"}),D.jsxs("div",{className:"text-lg font-black",children:[h.name," is ",D.jsx("span",{className:h.role==="MAFIA"?"text-red-300 decoration-red-300 underline":"text-white",children:h.role})]})]})]}),D.jsx("div",{className:"flex-grow overflow-y-auto px-4 pb-32 space-y-3",children:o.gameState==="NIGHT"&&l.role==="VILLAGER"?D.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-700 space-y-4",children:[D.jsx(mp,{size:64,className:"opacity-20 animate-pulse"}),D.jsx("p",{className:"font-bold uppercase tracking-widest text-sm",children:"You are sleeping..."})]}):Object.values(o.players).filter(b=>b.isAlive&&b.id!==l.id).map(b=>{const x=l.role==="MAFIA"&&o.turnCount===1&&o.config?.peacefulFirstNight,w=l.voteTarget===b.id;return D.jsxs("button",{disabled:x,onClick:()=>o.gameState==="NIGHT"?d(b.id,l.role==="MAFIA"?"KILL":l.role==="DOCTOR"?"SAVE":"INVESTIGATE"):g(b.id),className:`w-full relative group p-5 rounded-2xl font-bold text-lg text-left transition-all border-2 ${w?"bg-blue-600 border-blue-500 text-white shadow-lg shadow-blue-900/40 scale-[1.02]":"bg-slate-900 border-slate-800 text-slate-300 hover:bg-slate-800"} ${x?"opacity-40 grayscale":""}`,children:[D.jsx("span",{className:"relative z-10",children:b.name}),w&&D.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white",children:D.jsx(eT,{fill:"white",className:"text-blue-600",size:24})}),o.gameState==="NIGHT"&&!w&&D.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-20 group-hover:opacity-100 transition-opacity",children:l.role==="MAFIA"?D.jsx(Gy,{size:20,className:"text-red-500"}):l.role==="DOCTOR"?D.jsx(qy,{size:20,className:"text-green-500"}):D.jsx(Cf,{size:20,className:"text-blue-500"})})]},b.id)})})]}),o.gameState==="DAY"&&D.jsx("div",{className:"flex-grow flex items-center justify-center flex-col text-center p-8 m-4",children:D.jsxs("div",{className:"w-full max-w-xs bg-slate-900/50 p-8 rounded-3xl border border-slate-800 backdrop-blur-sm",children:[D.jsx("div",{className:"text-6xl mb-6 animate-bounce",children:""}),D.jsx("h2",{className:"text-2xl font-black text-white mb-2",children:"Morning Briefing"}),D.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Look at the main screen"})]})})]})}function MT(){const[a,n]=Le.useState("LANDING"),[l,r]=Le.useState(""),[o,f]=Le.useState(""),[h,_]=Le.useState(null);return Le.useEffect(()=>{const g=new URLSearchParams(window.location.search).get("q");g&&_(g)},[]),a==="HOST"?D.jsx(RT,{roomCode:l}):a==="PLAYER"?D.jsx(wT,{roomCode:l,playerName:o}):D.jsx(yT,{onHost:d=>{r(d),n("HOST")},onJoin:(d,g)=>{r(d),f(g),n("PLAYER")},joinToken:h})}L1.createRoot(document.getElementById("root")).render(D.jsx(Le.StrictMode,{children:D.jsx(MT,{})}));
