(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=l(o);fetch(o.href,f)}})();function T1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Lc={exports:{}},Ga={};var fg;function A1(){if(fg)return Ga;fg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var g in o)g!=="key"&&(f[g]=o[g])}else f=o;return o=f.ref,{$$typeof:a,type:r,key:h,ref:o!==void 0?o:null,props:f}}return Ga.Fragment=n,Ga.jsx=l,Ga.jsxs=l,Ga}var hg;function N1(){return hg||(hg=1,Lc.exports=A1()),Lc.exports}var w=N1(),Uc={exports:{}},J={};var dg;function R1(){if(dg)return J;dg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function R(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,k={};function $(C,I,q){this.props=C,this.context=I,this.refs=k,this.updater=q||D}$.prototype.isReactComponent={},$.prototype.setState=function(C,I){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,I,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ee(){}ee.prototype=$.prototype;function V(C,I,q){this.props=C,this.context=I,this.refs=k,this.updater=q||D}var ce=V.prototype=new ee;ce.constructor=V,B(ce,$.prototype),ce.isPureReactComponent=!0;var Be=Array.isArray;function Pe(){}var ie={H:null,A:null,T:null,S:null},Fe=Object.prototype.hasOwnProperty;function vt(C,I,q){var Y=q.ref;return{$$typeof:a,type:C,key:I,ref:Y!==void 0?Y:null,props:q}}function an(C,I){return vt(C.type,I,C.props)}function He(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function mt(C){var I={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(q){return I[q]})}var sn=/\/+/g;function ut(C,I){return typeof C=="object"&&C!==null&&C.key!=null?mt(""+C.key):I.toString(36)}function Ge(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Pe,Pe):(C.status="pending",C.then(function(I){C.status==="pending"&&(C.status="fulfilled",C.value=I)},function(I){C.status==="pending"&&(C.status="rejected",C.reason=I)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function z(C,I,q,Y,W){var se=typeof C;(se==="undefined"||se==="boolean")&&(C=null);var Ee=!1;if(C===null)Ee=!0;else switch(se){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(C.$$typeof){case a:case n:Ee=!0;break;case y:return Ee=C._init,z(Ee(C._payload),I,q,Y,W)}}if(Ee)return W=W(C),Ee=Y===""?"."+ut(C,0):Y,Be(W)?(q="",Ee!=null&&(q=Ee.replace(sn,"$&/")+"/"),z(W,I,q,"",function(Zl){return Zl})):W!=null&&(He(W)&&(W=an(W,q+(W.key==null||C&&C.key===W.key?"":(""+W.key).replace(sn,"$&/")+"/")+Ee)),I.push(W)),1;Ee=0;var gt=Y===""?".":Y+":";if(Be(C))for(var Ye=0;Ye<C.length;Ye++)Y=C[Ye],se=gt+ut(Y,Ye),Ee+=z(Y,I,q,se,W);else if(Ye=R(C),typeof Ye=="function")for(C=Ye.call(C),Ye=0;!(Y=C.next()).done;)Y=Y.value,se=gt+ut(Y,Ye++),Ee+=z(Y,I,q,se,W);else if(se==="object"){if(typeof C.then=="function")return z(Ge(C),I,q,Y,W);throw I=String(C),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function j(C,I,q){if(C==null)return C;var Y=[],W=0;return z(C,Y,"","",function(se){return I.call(q,se,W++)}),Y}function F(C){if(C._status===-1){var I=C._result;I=I(),I.then(function(q){(C._status===0||C._status===-1)&&(C._status=1,C._result=q)},function(q){(C._status===0||C._status===-1)&&(C._status=2,C._result=q)}),C._status===-1&&(C._status=0,C._result=I)}if(C._status===1)return C._result.default;throw C._result}var ge=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ve={map:j,forEach:function(C,I,q){j(C,function(){I.apply(this,arguments)},q)},count:function(C){var I=0;return j(C,function(){I++}),I},toArray:function(C){return j(C,function(I){return I})||[]},only:function(C){if(!He(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return J.Activity=v,J.Children=ve,J.Component=$,J.Fragment=l,J.Profiler=o,J.PureComponent=V,J.StrictMode=r,J.Suspense=d,J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,J.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ie.H.useMemoCache(C)}},J.cache=function(C){return function(){return C.apply(null,arguments)}},J.cacheSignal=function(){return null},J.cloneElement=function(C,I,q){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Y=B({},C.props),W=C.key;if(I!=null)for(se in I.key!==void 0&&(W=""+I.key),I)!Fe.call(I,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&I.ref===void 0||(Y[se]=I[se]);var se=arguments.length-2;if(se===1)Y.children=q;else if(1<se){for(var Ee=Array(se),gt=0;gt<se;gt++)Ee[gt]=arguments[gt+2];Y.children=Ee}return vt(C.type,W,Y)},J.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},J.createElement=function(C,I,q){var Y,W={},se=null;if(I!=null)for(Y in I.key!==void 0&&(se=""+I.key),I)Fe.call(I,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(W[Y]=I[Y]);var Ee=arguments.length-2;if(Ee===1)W.children=q;else if(1<Ee){for(var gt=Array(Ee),Ye=0;Ye<Ee;Ye++)gt[Ye]=arguments[Ye+2];W.children=gt}if(C&&C.defaultProps)for(Y in Ee=C.defaultProps,Ee)W[Y]===void 0&&(W[Y]=Ee[Y]);return vt(C,se,W)},J.createRef=function(){return{current:null}},J.forwardRef=function(C){return{$$typeof:g,render:C}},J.isValidElement=He,J.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:F}},J.memo=function(C,I){return{$$typeof:_,type:C,compare:I===void 0?null:I}},J.startTransition=function(C){var I=ie.T,q={};ie.T=q;try{var Y=C(),W=ie.S;W!==null&&W(q,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Pe,ge)}catch(se){ge(se)}finally{I!==null&&q.types!==null&&(I.types=q.types),ie.T=I}},J.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},J.use=function(C){return ie.H.use(C)},J.useActionState=function(C,I,q){return ie.H.useActionState(C,I,q)},J.useCallback=function(C,I){return ie.H.useCallback(C,I)},J.useContext=function(C){return ie.H.useContext(C)},J.useDebugValue=function(){},J.useDeferredValue=function(C,I){return ie.H.useDeferredValue(C,I)},J.useEffect=function(C,I){return ie.H.useEffect(C,I)},J.useEffectEvent=function(C){return ie.H.useEffectEvent(C)},J.useId=function(){return ie.H.useId()},J.useImperativeHandle=function(C,I,q){return ie.H.useImperativeHandle(C,I,q)},J.useInsertionEffect=function(C,I){return ie.H.useInsertionEffect(C,I)},J.useLayoutEffect=function(C,I){return ie.H.useLayoutEffect(C,I)},J.useMemo=function(C,I){return ie.H.useMemo(C,I)},J.useOptimistic=function(C,I){return ie.H.useOptimistic(C,I)},J.useReducer=function(C,I,q){return ie.H.useReducer(C,I,q)},J.useRef=function(C){return ie.H.useRef(C)},J.useState=function(C){return ie.H.useState(C)},J.useSyncExternalStore=function(C,I,q){return ie.H.useSyncExternalStore(C,I,q)},J.useTransition=function(){return ie.H.useTransition()},J.version="19.2.3",J}var mg;function Nf(){return mg||(mg=1,Uc.exports=R1()),Uc.exports}var Le=Nf();const et=T1(Le);var Ic={exports:{}},Ya={},Bc={exports:{}},Hc={};var _g;function M1(){return _g||(_g=1,(function(a){function n(z,j){var F=z.length;z.push(j);e:for(;0<F;){var ge=F-1>>>1,ve=z[ge];if(0<o(ve,j))z[ge]=j,z[F]=ve,F=ge;else break e}}function l(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var j=z[0],F=z.pop();if(F!==j){z[0]=F;e:for(var ge=0,ve=z.length,C=ve>>>1;ge<C;){var I=2*(ge+1)-1,q=z[I],Y=I+1,W=z[Y];if(0>o(q,F))Y<ve&&0>o(W,q)?(z[ge]=W,z[Y]=F,ge=Y):(z[ge]=q,z[I]=F,ge=I);else if(Y<ve&&0>o(W,F))z[ge]=W,z[Y]=F,ge=Y;else break e}}return j}function o(z,j){var F=z.sortIndex-j.sortIndex;return F!==0?F:z.id-j.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();a.unstable_now=function(){return h.now()-g}}var d=[],_=[],y=1,v=null,E=3,R=!1,D=!1,B=!1,k=!1,$=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function ce(z){for(var j=l(_);j!==null;){if(j.callback===null)r(_);else if(j.startTime<=z)r(_),j.sortIndex=j.expirationTime,n(d,j);else break;j=l(_)}}function Be(z){if(B=!1,ce(z),!D)if(l(d)!==null)D=!0,Pe||(Pe=!0,mt());else{var j=l(_);j!==null&&Ge(Be,j.startTime-z)}}var Pe=!1,ie=-1,Fe=5,vt=-1;function an(){return k?!0:!(a.unstable_now()-vt<Fe)}function He(){if(k=!1,Pe){var z=a.unstable_now();vt=z;var j=!0;try{e:{D=!1,B&&(B=!1,ee(ie),ie=-1),R=!0;var F=E;try{t:{for(ce(z),v=l(d);v!==null&&!(v.expirationTime>z&&an());){var ge=v.callback;if(typeof ge=="function"){v.callback=null,E=v.priorityLevel;var ve=ge(v.expirationTime<=z);if(z=a.unstable_now(),typeof ve=="function"){v.callback=ve,ce(z),j=!0;break t}v===l(d)&&r(d),ce(z)}else r(d);v=l(d)}if(v!==null)j=!0;else{var C=l(_);C!==null&&Ge(Be,C.startTime-z),j=!1}}break e}finally{v=null,E=F,R=!1}j=void 0}}finally{j?mt():Pe=!1}}}var mt;if(typeof V=="function")mt=function(){V(He)};else if(typeof MessageChannel<"u"){var sn=new MessageChannel,ut=sn.port2;sn.port1.onmessage=He,mt=function(){ut.postMessage(null)}}else mt=function(){$(He,0)};function Ge(z,j){ie=$(function(){z(a.unstable_now())},j)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(z){z.callback=null},a.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fe=0<z?Math.floor(1e3/z):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(z){switch(E){case 1:case 2:case 3:var j=3;break;default:j=E}var F=E;E=j;try{return z()}finally{E=F}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(z,j){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var F=E;E=z;try{return j()}finally{E=F}},a.unstable_scheduleCallback=function(z,j,F){var ge=a.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ge+F:ge):F=ge,z){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=F+ve,z={id:y++,callback:j,priorityLevel:z,startTime:F,expirationTime:ve,sortIndex:-1},F>ge?(z.sortIndex=F,n(_,z),l(d)===null&&z===l(_)&&(B?(ee(ie),ie=-1):B=!0,Ge(Be,F-ge))):(z.sortIndex=ve,n(d,z),D||R||(D=!0,Pe||(Pe=!0,mt()))),z},a.unstable_shouldYield=an,a.unstable_wrapCallback=function(z){var j=E;return function(){var F=E;E=j;try{return z.apply(this,arguments)}finally{E=F}}}})(Hc)),Hc}var gg;function D1(){return gg||(gg=1,Bc.exports=M1()),Bc.exports}var jc={exports:{}},_t={};var pg;function O1(){if(pg)return _t;pg=1;var a=Nf();function n(d){var _="https://react.dev/errors/"+d;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)_+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(d,_,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:d,containerInfo:_,implementation:y}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(d,_){if(d==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_t.createPortal=function(d,_){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return f(d,_,null,y)},_t.flushSync=function(d){var _=h.T,y=r.p;try{if(h.T=null,r.p=2,d)return d()}finally{h.T=_,r.p=y,r.d.f()}},_t.preconnect=function(d,_){typeof d=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(d,_))},_t.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},_t.preinit=function(d,_){if(typeof d=="string"&&_&&typeof _.as=="string"){var y=_.as,v=g(y,_.crossOrigin),E=typeof _.integrity=="string"?_.integrity:void 0,R=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;y==="style"?r.d.S(d,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:R}):y==="script"&&r.d.X(d,{crossOrigin:v,integrity:E,fetchPriority:R,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},_t.preinitModule=function(d,_){if(typeof d=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var y=g(_.as,_.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(d)},_t.preload=function(d,_){if(typeof d=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var y=_.as,v=g(y,_.crossOrigin);r.d.L(d,y,{crossOrigin:v,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},_t.preloadModule=function(d,_){if(typeof d=="string")if(_){var y=g(_.as,_.crossOrigin);r.d.m(d,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:y,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(d)},_t.requestFormReset=function(d){r.d.r(d)},_t.unstable_batchedUpdates=function(d,_){return d(_)},_t.useFormState=function(d,_,y){return h.H.useFormState(d,_,y)},_t.useFormStatus=function(){return h.H.useHostTransitionStatus()},_t.version="19.2.3",_t}var yg;function w1(){if(yg)return jc.exports;yg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),jc.exports=O1(),jc.exports}var vg;function x1(){if(vg)return Ya;vg=1;var a=D1(),n=Nf(),l=w1();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(f(e)!==e)throw Error(r(188))}function _(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,s=t;;){var u=i.return;if(u===null)break;var c=u.alternate;if(c===null){if(s=u.return,s!==null){i=s;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===i)return d(u),e;if(c===s)return d(u),t;c=c.sibling}throw Error(r(188))}if(i.return!==s.return)i=u,s=c;else{for(var m=!1,p=u.child;p;){if(p===i){m=!0,i=u,s=c;break}if(p===s){m=!0,s=u,i=c;break}p=p.sibling}if(!m){for(p=c.child;p;){if(p===i){m=!0,i=c,s=u;break}if(p===s){m=!0,s=c,i=u;break}p=p.sibling}if(!m)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),V=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),vt=Symbol.for("react.activity"),an=Symbol.for("react.memo_cache_sentinel"),He=Symbol.iterator;function mt(e){return e===null||typeof e!="object"?null:(e=He&&e[He]||e["@@iterator"],typeof e=="function"?e:null)}var sn=Symbol.for("react.client.reference");function ut(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===sn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case $:return"Profiler";case k:return"StrictMode";case Be:return"Suspense";case Pe:return"SuspenseList";case vt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case V:return e.displayName||"Context";case ee:return(e._context.displayName||"Context")+".Consumer";case ce:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return t=e.displayName||null,t!==null?t:ut(e.type)||"Memo";case Fe:t=e._payload,e=e._init;try{return ut(e(t))}catch{}}return null}var Ge=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},ge=[],ve=-1;function C(e){return{current:e}}function I(e){0>ve||(e.current=ge[ve],ge[ve]=null,ve--)}function q(e,t){ve++,ge[ve]=e.current,e.current=t}var Y=C(null),W=C(null),se=C(null),Ee=C(null);function gt(e,t){switch(q(se,t),q(W,e),q(Y,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?L_(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=L_(t),e=U_(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(Y),q(Y,e)}function Ye(){I(Y),I(W),I(se)}function Zl(e){e.memoizedState!==null&&q(Ee,e);var t=Y.current,i=U_(t,e.type);t!==i&&(q(W,e),q(Y,i))}function _s(e){W.current===e&&(I(Y),I(W)),Ee.current===e&&(I(Ee),Ha._currentValue=F)}var _u,ch;function mi(e){if(_u===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);_u=t&&t[1]||"",ch=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_u+e+ch}var gu=!1;function pu(e,t){if(!e||gu)return"";gu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(O){var M=O}Reflect.construct(e,[],U)}else{try{U.call()}catch(O){M=O}e.call(U.prototype)}}else{try{throw Error()}catch(O){M=O}(U=e())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(O){if(O&&M&&typeof O.stack=="string")return[O.stack,M.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),m=c[0],p=c[1];if(m&&p){var S=m.split(`
`),N=p.split(`
`);for(u=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;if(s===S.length||u===N.length)for(s=S.length-1,u=N.length-1;1<=s&&0<=u&&S[s]!==N[u];)u--;for(;1<=s&&0<=u;s--,u--)if(S[s]!==N[u]){if(s!==1||u!==1)do if(s--,u--,0>u||S[s]!==N[u]){var x=`
`+S[s].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=s&&0<=u);break}}}finally{gu=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?mi(i):""}function tv(e,t){switch(e.tag){case 26:case 27:case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return e.child!==t&&t!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return pu(e.type,!1);case 11:return pu(e.type.render,!1);case 1:return pu(e.type,!0);case 31:return mi("Activity");default:return""}}function fh(e){try{var t="",i=null;do t+=tv(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var yu=Object.prototype.hasOwnProperty,vu=a.unstable_scheduleCallback,Eu=a.unstable_cancelCallback,nv=a.unstable_shouldYield,iv=a.unstable_requestPaint,Ot=a.unstable_now,lv=a.unstable_getCurrentPriorityLevel,hh=a.unstable_ImmediatePriority,dh=a.unstable_UserBlockingPriority,gs=a.unstable_NormalPriority,av=a.unstable_LowPriority,mh=a.unstable_IdlePriority,sv=a.log,rv=a.unstable_setDisableYieldValue,Jl=null,wt=null;function Un(e){if(typeof sv=="function"&&rv(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Jl,e)}catch{}}var xt=Math.clz32?Math.clz32:cv,uv=Math.log,ov=Math.LN2;function cv(e){return e>>>=0,e===0?32:31-(uv(e)/ov|0)|0}var ps=256,ys=262144,vs=4194304;function _i(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Es(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var u=0,c=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var p=s&134217727;return p!==0?(s=p&~c,s!==0?u=_i(s):(m&=p,m!==0?u=_i(m):i||(i=p&~e,i!==0&&(u=_i(i))))):(p=s&~c,p!==0?u=_i(p):m!==0?u=_i(m):i||(i=s&~e,i!==0&&(u=_i(i)))),u===0?0:t!==0&&t!==u&&(t&c)===0&&(c=u&-u,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:u}function Wl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function fv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _h(){var e=vs;return vs<<=1,(vs&62914560)===0&&(vs=4194304),e}function Su(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Pl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hv(e,t,i,s,u,c){var m=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,S=e.expirationTimes,N=e.hiddenUpdates;for(i=m&~i;0<i;){var x=31-xt(i),U=1<<x;p[x]=0,S[x]=-1;var M=N[x];if(M!==null)for(N[x]=null,x=0;x<M.length;x++){var O=M[x];O!==null&&(O.lane&=-536870913)}i&=~U}s!==0&&gh(e,s,0),c!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=c&~(m&~t))}function gh(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-xt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function ph(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-xt(i),u=1<<s;u&t|e[s]&t&&(e[s]|=t),i&=~u}}function yh(e,t){var i=t&-t;return i=(i&42)!==0?1:bu(i),(i&(e.suspendedLanes|t))!==0?0:i}function bu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Cu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vh(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:lg(e.type))}function Eh(e,t){var i=j.p;try{return j.p=e,t()}finally{j.p=i}}var In=Math.random().toString(36).slice(2),ot="__reactFiber$"+In,Et="__reactProps$"+In,Qi="__reactContainer$"+In,Tu="__reactEvents$"+In,dv="__reactListeners$"+In,mv="__reactHandles$"+In,Sh="__reactResources$"+In,$l="__reactMarker$"+In;function Au(e){delete e[ot],delete e[Et],delete e[Tu],delete e[dv],delete e[mv]}function Xi(e){var t=e[ot];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Qi]||i[ot]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=G_(e);e!==null;){if(i=e[ot])return i;e=G_(e)}return t}e=i,i=e.parentNode}return null}function Fi(e){if(e=e[ot]||e[Qi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ea(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ki(e){var t=e[Sh];return t||(t=e[Sh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[$l]=!0}var bh=new Set,Ch={};function gi(e,t){Zi(e,t),Zi(e+"Capture",t)}function Zi(e,t){for(Ch[e]=t,e=0;e<t.length;e++)bh.add(t[e])}var _v=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Th={},Ah={};function gv(e){return yu.call(Ah,e)?!0:yu.call(Th,e)?!1:_v.test(e)?Ah[e]=!0:(Th[e]=!0,!1)}function Ss(e,t,i){if(gv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function bs(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function dn(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pv(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(m){i=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nu(e){if(!e._valueTracker){var t=Nh(e)?"checked":"value";e._valueTracker=pv(e,t,""+e[t])}}function Rh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=Nh(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yv=/[\n"\\]/g;function qt(e){return e.replace(yv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ru(e,t,i,s,u,c,m,p){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Mu(e,m,kt(t)):i!=null?Mu(e,m,kt(i)):s!=null&&e.removeAttribute("value"),u==null&&c!=null&&(e.defaultChecked=!!c),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+kt(p):e.removeAttribute("name")}function Mh(e,t,i,s,u,c,m,p){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Nu(e);return}i=i!=null?""+kt(i):"",t=t!=null?""+kt(t):i,p||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=p?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Nu(e)}function Mu(e,t,i){t==="number"&&Cs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ji(e,t,i,s){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&s&&(e[i].defaultSelected=!0)}else{for(i=""+kt(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Dh(e,t,i){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+kt(i):""}function Oh(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(r(92));if(Ge(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=kt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Nu(e)}function Wi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var vv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wh(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||vv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function xh(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&i[u]!==s&&wh(e,u,s)}else for(var c in t)t.hasOwnProperty(c)&&wh(e,c,t[c])}function Du(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ev=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(e){return Sv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mn(){}var Ou=null;function wu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pi=null,$i=null;function zh(e){var t=Fi(e);if(t&&(e=t.stateNode)){var i=e[Et]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ru(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var u=s[Et]||null;if(!u)throw Error(r(90));Ru(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&Rh(s)}break e;case"textarea":Dh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Ji(e,!!i.multiple,t,!1)}}}var xu=!1;function Lh(e,t,i){if(xu)return e(t,i);xu=!0;try{var s=e(t);return s}finally{if(xu=!1,(Pi!==null||$i!==null)&&(fr(),Pi&&(t=Pi,e=$i,$i=Pi=null,zh(t),e)))for(t=0;t<e.length;t++)zh(e[t])}}function ta(e,t){var i=e.stateNode;if(i===null)return null;var s=i[Et]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zu=!1;if(_n)try{var na={};Object.defineProperty(na,"passive",{get:function(){zu=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{zu=!1}var Bn=null,Lu=null,As=null;function Uh(){if(As)return As;var e,t=Lu,i=t.length,s,u="value"in Bn?Bn.value:Bn.textContent,c=u.length;for(e=0;e<i&&t[e]===u[e];e++);var m=i-e;for(s=1;s<=m&&t[i-s]===u[c-s];s++);return As=u.slice(e,1<s?1-s:void 0)}function Ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rs(){return!0}function Ih(){return!1}function St(e){function t(i,s,u,c,m){this._reactName=i,this._targetInst=u,this.type=s,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Rs:Ih,this.isPropagationStopped=Ih,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),t}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=St(pi),ia=v({},pi,{view:0,detail:0}),bv=St(ia),Uu,Iu,la,Ds=v({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==la&&(la&&e.type==="mousemove"?(Uu=e.screenX-la.screenX,Iu=e.screenY-la.screenY):Iu=Uu=0,la=e),Uu)},movementY:function(e){return"movementY"in e?e.movementY:Iu}}),Bh=St(Ds),Cv=v({},Ds,{dataTransfer:0}),Tv=St(Cv),Av=v({},ia,{relatedTarget:0}),Bu=St(Av),Nv=v({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Rv=St(Nv),Mv=v({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dv=St(Mv),Ov=v({},pi,{data:0}),Hh=St(Ov),wv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zv[e])?!!t[e]:!1}function Hu(){return Lv}var Uv=v({},ia,{key:function(e){if(e.key){var t=wv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(e){return e.type==="keypress"?Ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iv=St(Uv),Bv=v({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jh=St(Bv),Hv=v({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),jv=St(Hv),kv=v({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),qv=St(kv),Gv=v({},Ds,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yv=St(Gv),Vv=v({},pi,{newState:0,oldState:0}),Qv=St(Vv),Xv=[9,13,27,32],ju=_n&&"CompositionEvent"in window,aa=null;_n&&"documentMode"in document&&(aa=document.documentMode);var Fv=_n&&"TextEvent"in window&&!aa,kh=_n&&(!ju||aa&&8<aa&&11>=aa),qh=" ",Gh=!1;function Yh(e,t){switch(e){case"keyup":return Xv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var el=!1;function Kv(e,t){switch(e){case"compositionend":return Vh(t);case"keypress":return t.which!==32?null:(Gh=!0,qh);case"textInput":return e=t.data,e===qh&&Gh?null:e;default:return null}}function Zv(e,t){if(el)return e==="compositionend"||!ju&&Yh(e,t)?(e=Uh(),As=Lu=Bn=null,el=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kh&&t.locale!=="ko"?null:t.data;default:return null}}var Jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jv[e.type]:t==="textarea"}function Xh(e,t,i,s){Pi?$i?$i.push(s):$i=[s]:Pi=s,t=yr(t,"onChange"),0<t.length&&(i=new Ms("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var sa=null,ra=null;function Wv(e){M_(e,0)}function Os(e){var t=ea(e);if(Rh(t))return e}function Fh(e,t){if(e==="change")return t}var Kh=!1;if(_n){var ku;if(_n){var qu="oninput"in document;if(!qu){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),qu=typeof Zh.oninput=="function"}ku=qu}else ku=!1;Kh=ku&&(!document.documentMode||9<document.documentMode)}function Jh(){sa&&(sa.detachEvent("onpropertychange",Wh),ra=sa=null)}function Wh(e){if(e.propertyName==="value"&&Os(ra)){var t=[];Xh(t,ra,e,wu(e)),Lh(Wv,t)}}function Pv(e,t,i){e==="focusin"?(Jh(),sa=t,ra=i,sa.attachEvent("onpropertychange",Wh)):e==="focusout"&&Jh()}function $v(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Os(ra)}function e0(e,t){if(e==="click")return Os(t)}function t0(e,t){if(e==="input"||e==="change")return Os(t)}function n0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:n0;function ua(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var u=i[s];if(!yu.call(t,u)||!zt(e[u],t[u]))return!1}return!0}function Ph(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $h(e,t){var i=Ph(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ph(i)}}function ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function td(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Cs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Cs(e.document)}return t}function Gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var i0=_n&&"documentMode"in document&&11>=document.documentMode,tl=null,Yu=null,oa=null,Vu=!1;function nd(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Vu||tl==null||tl!==Cs(s)||(s=tl,"selectionStart"in s&&Gu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),oa&&ua(oa,s)||(oa=s,s=yr(Yu,"onSelect"),0<s.length&&(t=new Ms("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=tl)))}function yi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var nl={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionrun:yi("Transition","TransitionRun"),transitionstart:yi("Transition","TransitionStart"),transitioncancel:yi("Transition","TransitionCancel"),transitionend:yi("Transition","TransitionEnd")},Qu={},id={};_n&&(id=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function vi(e){if(Qu[e])return Qu[e];if(!nl[e])return e;var t=nl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in id)return Qu[e]=t[i];return e}var ld=vi("animationend"),ad=vi("animationiteration"),sd=vi("animationstart"),l0=vi("transitionrun"),a0=vi("transitionstart"),s0=vi("transitioncancel"),rd=vi("transitionend"),ud=new Map,Xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xu.push("scrollEnd");function Wt(e,t){ud.set(e,t),gi(t,[e])}var ws=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],il=0,Fu=0;function xs(){for(var e=il,t=Fu=il=0;t<e;){var i=Gt[t];Gt[t++]=null;var s=Gt[t];Gt[t++]=null;var u=Gt[t];Gt[t++]=null;var c=Gt[t];if(Gt[t++]=null,s!==null&&u!==null){var m=s.pending;m===null?u.next=u:(u.next=m.next,m.next=u),s.pending=u}c!==0&&od(i,u,c)}}function zs(e,t,i,s){Gt[il++]=e,Gt[il++]=t,Gt[il++]=i,Gt[il++]=s,Fu|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ku(e,t,i,s){return zs(e,t,i,s),Ls(e)}function Ei(e,t){return zs(e,null,null,t),Ls(e)}function od(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var u=!1,c=e.return;c!==null;)c.childLanes|=i,s=c.alternate,s!==null&&(s.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(u=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,u&&t!==null&&(u=31-xt(i),e=c.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=i|536870912),c):null}function Ls(e){if(50<wa)throw wa=0,lc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ll={};function r0(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,i,s){return new r0(e,t,i,s)}function Zu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gn(e,t){var i=e.alternate;return i===null?(i=Lt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function cd(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Us(e,t,i,s,u,c){var m=0;if(s=e,typeof e=="function")Zu(e)&&(m=1);else if(typeof e=="string")m=h1(e,i,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case vt:return e=Lt(31,i,t,u),e.elementType=vt,e.lanes=c,e;case B:return Si(i.children,u,c,t);case k:m=8,u|=24;break;case $:return e=Lt(12,i,t,u|2),e.elementType=$,e.lanes=c,e;case Be:return e=Lt(13,i,t,u),e.elementType=Be,e.lanes=c,e;case Pe:return e=Lt(19,i,t,u),e.elementType=Pe,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:m=10;break e;case ee:m=9;break e;case ce:m=11;break e;case ie:m=14;break e;case Fe:m=16,s=null;break e}m=29,i=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=Lt(m,i,t,u),t.elementType=e,t.type=s,t.lanes=c,t}function Si(e,t,i,s){return e=Lt(7,e,s,t),e.lanes=i,e}function Ju(e,t,i){return e=Lt(6,e,null,t),e.lanes=i,e}function fd(e){var t=Lt(18,null,null,0);return t.stateNode=e,t}function Wu(e,t,i){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var hd=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var i=hd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:fh(t)},hd.set(e,t),t)}return{value:e,source:t,stack:fh(t)}}var al=[],sl=0,Is=null,ca=0,Vt=[],Qt=0,Hn=null,rn=1,un="";function pn(e,t){al[sl++]=ca,al[sl++]=Is,Is=e,ca=t}function dd(e,t,i){Vt[Qt++]=rn,Vt[Qt++]=un,Vt[Qt++]=Hn,Hn=e;var s=rn;e=un;var u=32-xt(s)-1;s&=~(1<<u),i+=1;var c=32-xt(t)+u;if(30<c){var m=u-u%5;c=(s&(1<<m)-1).toString(32),s>>=m,u-=m,rn=1<<32-xt(t)+u|i<<u|s,un=c+e}else rn=1<<c|i<<u|s,un=e}function Pu(e){e.return!==null&&(pn(e,1),dd(e,1,0))}function $u(e){for(;e===Is;)Is=al[--sl],al[sl]=null,ca=al[--sl],al[sl]=null;for(;e===Hn;)Hn=Vt[--Qt],Vt[Qt]=null,un=Vt[--Qt],Vt[Qt]=null,rn=Vt[--Qt],Vt[Qt]=null}function md(e,t){Vt[Qt++]=rn,Vt[Qt++]=un,Vt[Qt++]=Hn,rn=t.id,un=t.overflow,Hn=e}var ct=null,we=null,de=!1,jn=null,Xt=!1,eo=Error(r(519));function kn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fa(Yt(t,e)),eo}function _d(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[ot]=e,t[Et]=s,i){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(i=0;i<za.length;i++)ue(za[i],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),Mh(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),Oh(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||x_(t.textContent,i)?(s.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),s.onScroll!=null&&ue("scroll",t),s.onScrollEnd!=null&&ue("scrollend",t),s.onClick!=null&&(t.onclick=mn),t=!0):t=!1,t||kn(e,!0)}function gd(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:ct=ct.return}}function rl(e){if(e!==ct)return!1;if(!de)return gd(e),de=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||vc(e.type,e.memoizedProps)),i=!i),i&&we&&kn(e),gd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));we=q_(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));we=q_(e)}else t===27?(t=we,ei(e.type)?(e=Tc,Tc=null,we=e):we=t):we=ct?Kt(e.stateNode.nextSibling):null;return!0}function bi(){we=ct=null,de=!1}function to(){var e=jn;return e!==null&&(At===null?At=e:At.push.apply(At,e),jn=null),e}function fa(e){jn===null?jn=[e]:jn.push(e)}var no=C(null),Ci=null,yn=null;function qn(e,t,i){q(no,t._currentValue),t._currentValue=i}function vn(e){e._currentValue=no.current,I(no)}function io(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function lo(e,t,i,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var c=u.dependencies;if(c!==null){var m=u.child;c=c.firstContext;e:for(;c!==null;){var p=c;c=u;for(var S=0;S<t.length;S++)if(p.context===t[S]){c.lanes|=i,p=c.alternate,p!==null&&(p.lanes|=i),io(c.return,i,e),s||(m=null);break e}c=p.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(r(341));m.lanes|=i,c=m.alternate,c!==null&&(c.lanes|=i),io(m,i,e),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===e){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function ul(e,t,i,s){e=null;for(var u=t,c=!1;u!==null;){if(!c){if((u.flags&524288)!==0)c=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var p=u.type;zt(u.pendingProps.value,m.value)||(e!==null?e.push(p):e=[p])}}else if(u===Ee.current){if(m=u.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ha):e=[Ha])}u=u.return}e!==null&&lo(t,e,i,s),t.flags|=262144}function Bs(e){for(e=e.firstContext;e!==null;){if(!zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){Ci=e,yn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return pd(Ci,e)}function Hs(e,t){return Ci===null&&Ti(e),pd(e,t)}function pd(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},yn===null){if(e===null)throw Error(r(308));yn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yn=yn.next=t;return i}var u0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},o0=a.unstable_scheduleCallback,c0=a.unstable_NormalPriority,Ke={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ao(){return{controller:new u0,data:new Map,refCount:0}}function ha(e){e.refCount--,e.refCount===0&&o0(c0,function(){e.controller.abort()})}var da=null,so=0,ol=0,cl=null;function f0(e,t){if(da===null){var i=da=[];so=0,ol=cc(),cl={status:"pending",value:void 0,then:function(s){i.push(s)}}}return so++,t.then(yd,yd),t}function yd(){if(--so===0&&da!==null){cl!==null&&(cl.status="fulfilled");var e=da;da=null,ol=0,cl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function h0(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),s}var vd=z.S;z.S=function(e,t){n_=Ot(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&f0(e,t),vd!==null&&vd(e,t)};var Ai=C(null);function ro(){var e=Ai.current;return e!==null?e:Re.pooledCache}function js(e,t){t===null?q(Ai,Ai.current):q(Ai,t.pool)}function Ed(){var e=ro();return e===null?null:{parent:Ke._currentValue,pool:e}}var fl=Error(r(460)),uo=Error(r(474)),ks=Error(r(542)),qs={then:function(){}};function Sd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bd(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(mn,mn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e;default:if(typeof t.status=="string")t.then(mn,mn);else{if(e=Re,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e}throw Ri=t,fl}}function Ni(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ri=i,fl):i}}var Ri=null;function Cd(){if(Ri===null)throw Error(r(459));var e=Ri;return Ri=null,e}function Td(e){if(e===fl||e===ks)throw Error(r(483))}var hl=null,ma=0;function Gs(e){var t=ma;return ma+=1,hl===null&&(hl=[]),bd(hl,e,t)}function _a(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ys(e,t){throw t.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ad(e){function t(T,b){if(e){var A=T.deletions;A===null?(T.deletions=[b],T.flags|=16):A.push(b)}}function i(T,b){if(!e)return null;for(;b!==null;)t(T,b),b=b.sibling;return null}function s(T){for(var b=new Map;T!==null;)T.key!==null?b.set(T.key,T):b.set(T.index,T),T=T.sibling;return b}function u(T,b){return T=gn(T,b),T.index=0,T.sibling=null,T}function c(T,b,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<b?(T.flags|=67108866,b):A):(T.flags|=67108866,b)):(T.flags|=1048576,b)}function m(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function p(T,b,A,L){return b===null||b.tag!==6?(b=Ju(A,T.mode,L),b.return=T,b):(b=u(b,A),b.return=T,b)}function S(T,b,A,L){var X=A.type;return X===B?x(T,b,A.props.children,L,A.key):b!==null&&(b.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Fe&&Ni(X)===b.type)?(b=u(b,A.props),_a(b,A),b.return=T,b):(b=Us(A.type,A.key,A.props,null,T.mode,L),_a(b,A),b.return=T,b)}function N(T,b,A,L){return b===null||b.tag!==4||b.stateNode.containerInfo!==A.containerInfo||b.stateNode.implementation!==A.implementation?(b=Wu(A,T.mode,L),b.return=T,b):(b=u(b,A.children||[]),b.return=T,b)}function x(T,b,A,L,X){return b===null||b.tag!==7?(b=Si(A,T.mode,L,X),b.return=T,b):(b=u(b,A),b.return=T,b)}function U(T,b,A){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Ju(""+b,T.mode,A),b.return=T,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case R:return A=Us(b.type,b.key,b.props,null,T.mode,A),_a(A,b),A.return=T,A;case D:return b=Wu(b,T.mode,A),b.return=T,b;case Fe:return b=Ni(b),U(T,b,A)}if(Ge(b)||mt(b))return b=Si(b,T.mode,A,null),b.return=T,b;if(typeof b.then=="function")return U(T,Gs(b),A);if(b.$$typeof===V)return U(T,Hs(T,b),A);Ys(T,b)}return null}function M(T,b,A,L){var X=b!==null?b.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return X!==null?null:p(T,b,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case R:return A.key===X?S(T,b,A,L):null;case D:return A.key===X?N(T,b,A,L):null;case Fe:return A=Ni(A),M(T,b,A,L)}if(Ge(A)||mt(A))return X!==null?null:x(T,b,A,L,null);if(typeof A.then=="function")return M(T,b,Gs(A),L);if(A.$$typeof===V)return M(T,b,Hs(T,A),L);Ys(T,A)}return null}function O(T,b,A,L,X){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return T=T.get(A)||null,p(b,T,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case R:return T=T.get(L.key===null?A:L.key)||null,S(b,T,L,X);case D:return T=T.get(L.key===null?A:L.key)||null,N(b,T,L,X);case Fe:return L=Ni(L),O(T,b,A,L,X)}if(Ge(L)||mt(L))return T=T.get(A)||null,x(b,T,L,X,null);if(typeof L.then=="function")return O(T,b,A,Gs(L),X);if(L.$$typeof===V)return O(T,b,A,Hs(b,L),X);Ys(b,L)}return null}function G(T,b,A,L){for(var X=null,me=null,Q=b,te=b=0,he=null;Q!==null&&te<A.length;te++){Q.index>te?(he=Q,Q=null):he=Q.sibling;var _e=M(T,Q,A[te],L);if(_e===null){Q===null&&(Q=he);break}e&&Q&&_e.alternate===null&&t(T,Q),b=c(_e,b,te),me===null?X=_e:me.sibling=_e,me=_e,Q=he}if(te===A.length)return i(T,Q),de&&pn(T,te),X;if(Q===null){for(;te<A.length;te++)Q=U(T,A[te],L),Q!==null&&(b=c(Q,b,te),me===null?X=Q:me.sibling=Q,me=Q);return de&&pn(T,te),X}for(Q=s(Q);te<A.length;te++)he=O(Q,T,te,A[te],L),he!==null&&(e&&he.alternate!==null&&Q.delete(he.key===null?te:he.key),b=c(he,b,te),me===null?X=he:me.sibling=he,me=he);return e&&Q.forEach(function(ai){return t(T,ai)}),de&&pn(T,te),X}function K(T,b,A,L){if(A==null)throw Error(r(151));for(var X=null,me=null,Q=b,te=b=0,he=null,_e=A.next();Q!==null&&!_e.done;te++,_e=A.next()){Q.index>te?(he=Q,Q=null):he=Q.sibling;var ai=M(T,Q,_e.value,L);if(ai===null){Q===null&&(Q=he);break}e&&Q&&ai.alternate===null&&t(T,Q),b=c(ai,b,te),me===null?X=ai:me.sibling=ai,me=ai,Q=he}if(_e.done)return i(T,Q),de&&pn(T,te),X;if(Q===null){for(;!_e.done;te++,_e=A.next())_e=U(T,_e.value,L),_e!==null&&(b=c(_e,b,te),me===null?X=_e:me.sibling=_e,me=_e);return de&&pn(T,te),X}for(Q=s(Q);!_e.done;te++,_e=A.next())_e=O(Q,T,te,_e.value,L),_e!==null&&(e&&_e.alternate!==null&&Q.delete(_e.key===null?te:_e.key),b=c(_e,b,te),me===null?X=_e:me.sibling=_e,me=_e);return e&&Q.forEach(function(C1){return t(T,C1)}),de&&pn(T,te),X}function Ne(T,b,A,L){if(typeof A=="object"&&A!==null&&A.type===B&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case R:e:{for(var X=A.key;b!==null;){if(b.key===X){if(X=A.type,X===B){if(b.tag===7){i(T,b.sibling),L=u(b,A.props.children),L.return=T,T=L;break e}}else if(b.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Fe&&Ni(X)===b.type){i(T,b.sibling),L=u(b,A.props),_a(L,A),L.return=T,T=L;break e}i(T,b);break}else t(T,b);b=b.sibling}A.type===B?(L=Si(A.props.children,T.mode,L,A.key),L.return=T,T=L):(L=Us(A.type,A.key,A.props,null,T.mode,L),_a(L,A),L.return=T,T=L)}return m(T);case D:e:{for(X=A.key;b!==null;){if(b.key===X)if(b.tag===4&&b.stateNode.containerInfo===A.containerInfo&&b.stateNode.implementation===A.implementation){i(T,b.sibling),L=u(b,A.children||[]),L.return=T,T=L;break e}else{i(T,b);break}else t(T,b);b=b.sibling}L=Wu(A,T.mode,L),L.return=T,T=L}return m(T);case Fe:return A=Ni(A),Ne(T,b,A,L)}if(Ge(A))return G(T,b,A,L);if(mt(A)){if(X=mt(A),typeof X!="function")throw Error(r(150));return A=X.call(A),K(T,b,A,L)}if(typeof A.then=="function")return Ne(T,b,Gs(A),L);if(A.$$typeof===V)return Ne(T,b,Hs(T,A),L);Ys(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,b!==null&&b.tag===6?(i(T,b.sibling),L=u(b,A),L.return=T,T=L):(i(T,b),L=Ju(A,T.mode,L),L.return=T,T=L),m(T)):i(T,b)}return function(T,b,A,L){try{ma=0;var X=Ne(T,b,A,L);return hl=null,X}catch(Q){if(Q===fl||Q===ks)throw Q;var me=Lt(29,Q,null,T.mode);return me.lanes=L,me.return=T,me}}}var Mi=Ad(!0),Nd=Ad(!1),Gn=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(pe&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=Ls(e),od(e,null,i),t}return zs(e,s,t,i),Ls(e)}function ga(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,ph(e,i)}}function fo(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var u=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var m={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?u=c=m:c=c.next=m,i=i.next}while(i!==null);c===null?u=c=t:c=c.next=t}else u=c=t;i={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var ho=!1;function pa(){if(ho){var e=cl;if(e!==null)throw e}}function ya(e,t,i,s){ho=!1;var u=e.updateQueue;Gn=!1;var c=u.firstBaseUpdate,m=u.lastBaseUpdate,p=u.shared.pending;if(p!==null){u.shared.pending=null;var S=p,N=S.next;S.next=null,m===null?c=N:m.next=N,m=S;var x=e.alternate;x!==null&&(x=x.updateQueue,p=x.lastBaseUpdate,p!==m&&(p===null?x.firstBaseUpdate=N:p.next=N,x.lastBaseUpdate=S))}if(c!==null){var U=u.baseState;m=0,x=N=S=null,p=c;do{var M=p.lane&-536870913,O=M!==p.lane;if(O?(fe&M)===M:(s&M)===M){M!==0&&M===ol&&(ho=!0),x!==null&&(x=x.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var G=e,K=p;M=t;var Ne=i;switch(K.tag){case 1:if(G=K.payload,typeof G=="function"){U=G.call(Ne,U,M);break e}U=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=K.payload,M=typeof G=="function"?G.call(Ne,U,M):G,M==null)break e;U=v({},U,M);break e;case 2:Gn=!0}}M=p.callback,M!==null&&(e.flags|=64,O&&(e.flags|=8192),O=u.callbacks,O===null?u.callbacks=[M]:O.push(M))}else O={lane:M,tag:p.tag,payload:p.payload,callback:p.callback,next:null},x===null?(N=x=O,S=U):x=x.next=O,m|=M;if(p=p.next,p===null){if(p=u.shared.pending,p===null)break;O=p,p=O.next,O.next=null,u.lastBaseUpdate=O,u.shared.pending=null}}while(!0);x===null&&(S=U),u.baseState=S,u.firstBaseUpdate=N,u.lastBaseUpdate=x,c===null&&(u.shared.lanes=0),Zn|=m,e.lanes=m,e.memoizedState=U}}function Rd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Md(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Rd(i[e],t)}var dl=C(null),Vs=C(0);function Dd(e,t){e=Mn,q(Vs,e),q(dl,t),Mn=e|t.baseLanes}function mo(){q(Vs,Mn),q(dl,dl.current)}function _o(){Mn=Vs.current,I(dl),I(Vs)}var Ut=C(null),Ft=null;function Qn(e){var t=e.alternate;q(Ve,Ve.current&1),q(Ut,e),Ft===null&&(t===null||dl.current!==null||t.memoizedState!==null)&&(Ft=e)}function go(e){q(Ve,Ve.current),q(Ut,e),Ft===null&&(Ft=e)}function Od(e){e.tag===22?(q(Ve,Ve.current),q(Ut,e),Ft===null&&(Ft=e)):Xn()}function Xn(){q(Ve,Ve.current),q(Ut,Ut.current)}function It(e){I(Ut),Ft===e&&(Ft=null),I(Ve)}var Ve=C(0);function Qs(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||bc(i)||Cc(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var En=0,P=null,Te=null,Ze=null,Xs=!1,ml=!1,Di=!1,Fs=0,va=0,_l=null,d0=0;function je(){throw Error(r(321))}function po(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!zt(e[i],t[i]))return!1;return!0}function yo(e,t,i,s,u,c){return En=c,P=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?dm:zo,Di=!1,c=i(s,u),Di=!1,ml&&(c=xd(t,i,s,u)),wd(e),c}function wd(e){z.H=ba;var t=Te!==null&&Te.next!==null;if(En=0,Ze=Te=P=null,Xs=!1,va=0,_l=null,t)throw Error(r(300));e===null||Je||(e=e.dependencies,e!==null&&Bs(e)&&(Je=!0))}function xd(e,t,i,s){P=e;var u=0;do{if(ml&&(_l=null),va=0,ml=!1,25<=u)throw Error(r(301));if(u+=1,Ze=Te=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}z.H=mm,c=t(i,s)}while(ml);return c}function m0(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Ea(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(P.flags|=1024),t}function vo(){var e=Fs!==0;return Fs=0,e}function Eo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function So(e){if(Xs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Xs=!1}En=0,Ze=Te=P=null,ml=!1,va=Fs=0,_l=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?P.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Qe(){if(Te===null){var e=P.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ze===null?P.memoizedState:Ze.next;if(t!==null)Ze=t,Te=e;else{if(e===null)throw P.alternate===null?Error(r(467)):Error(r(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ze===null?P.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Ks(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ea(e){var t=va;return va+=1,_l===null&&(_l=[]),e=bd(_l,e,t),t=P,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?dm:zo),e}function Zs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ea(e);if(e.$$typeof===V)return ft(e)}throw Error(r(438,String(e)))}function bo(e){var t=null,i=P.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=P.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Ks(),P.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=an;return t.index++,i}function Sn(e,t){return typeof t=="function"?t(e):t}function Js(e){var t=Qe();return Co(t,Te,e)}function Co(e,t,i){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var u=e.baseQueue,c=s.pending;if(c!==null){if(u!==null){var m=u.next;u.next=c.next,c.next=m}t.baseQueue=u=c,s.pending=null}if(c=e.baseState,u===null)e.memoizedState=c;else{t=u.next;var p=m=null,S=null,N=t,x=!1;do{var U=N.lane&-536870913;if(U!==N.lane?(fe&U)===U:(En&U)===U){var M=N.revertLane;if(M===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),U===ol&&(x=!0);else if((En&M)===M){N=N.next,M===ol&&(x=!0);continue}else U={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(p=S=U,m=c):S=S.next=U,P.lanes|=M,Zn|=M;U=N.action,Di&&i(c,U),c=N.hasEagerState?N.eagerState:i(c,U)}else M={lane:U,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(p=S=M,m=c):S=S.next=M,P.lanes|=U,Zn|=U;N=N.next}while(N!==null&&N!==t);if(S===null?m=c:S.next=p,!zt(c,e.memoizedState)&&(Je=!0,x&&(i=cl,i!==null)))throw i;e.memoizedState=c,e.baseState=m,e.baseQueue=S,s.lastRenderedState=c}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function To(e){var t=Qe(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var s=i.dispatch,u=i.pending,c=t.memoizedState;if(u!==null){i.pending=null;var m=u=u.next;do c=e(c,m.action),m=m.next;while(m!==u);zt(c,t.memoizedState)||(Je=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,s]}function zd(e,t,i){var s=P,u=Qe(),c=de;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var m=!zt((Te||u).memoizedState,i);if(m&&(u.memoizedState=i,Je=!0),u=u.queue,Ro(Id.bind(null,s,u,e),[e]),u.getSnapshot!==t||m||Ze!==null&&Ze.memoizedState.tag&1){if(s.flags|=2048,gl(9,{destroy:void 0},Ud.bind(null,s,u,i,t),null),Re===null)throw Error(r(349));c||(En&127)!==0||Ld(s,t,i)}return i}function Ld(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=P.updateQueue,t===null?(t=Ks(),P.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Ud(e,t,i,s){t.value=i,t.getSnapshot=s,Bd(t)&&Hd(e)}function Id(e,t,i){return i(function(){Bd(t)&&Hd(e)})}function Bd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!zt(e,i)}catch{return!0}}function Hd(e){var t=Ei(e,2);t!==null&&Nt(t,e,2)}function Ao(e){var t=pt();if(typeof e=="function"){var i=e;if(e=i(),Di){Un(!0);try{i()}finally{Un(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},t}function jd(e,t,i,s){return e.baseState=i,Co(e,Te,typeof s=="function"?s:Sn)}function _0(e,t,i,s,u){if($s(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};z.T!==null?i(!0):c.isTransition=!1,s(c),i=t.pending,i===null?(c.next=t.pending=c,kd(t,c)):(c.next=i.next,t.pending=i.next=c)}}function kd(e,t){var i=t.action,s=t.payload,u=e.state;if(t.isTransition){var c=z.T,m={};z.T=m;try{var p=i(u,s),S=z.S;S!==null&&S(m,p),qd(e,t,p)}catch(N){No(e,t,N)}finally{c!==null&&m.types!==null&&(c.types=m.types),z.T=c}}else try{c=i(u,s),qd(e,t,c)}catch(N){No(e,t,N)}}function qd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Gd(e,t,s)},function(s){return No(e,t,s)}):Gd(e,t,i)}function Gd(e,t,i){t.status="fulfilled",t.value=i,Yd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,kd(e,i)))}function No(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,Yd(t),t=t.next;while(t!==s)}e.action=null}function Yd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vd(e,t){return t}function Qd(e,t){if(de){var i=Re.formState;if(i!==null){e:{var s=P;if(de){if(we){t:{for(var u=we,c=Xt;u.nodeType!==8;){if(!c){u=null;break t}if(u=Kt(u.nextSibling),u===null){u=null;break t}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){we=Kt(u.nextSibling),s=u.data==="F!";break e}}kn(s)}s=!1}s&&(t=i[0])}}return i=pt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:t},i.queue=s,i=cm.bind(null,P,s),s.dispatch=i,s=Ao(!1),c=xo.bind(null,P,!1,s.queue),s=pt(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,i=_0.bind(null,P,u,c,i),u.dispatch=i,s.memoizedState=e,[t,i,!1]}function Xd(e){var t=Qe();return Fd(t,Te,e)}function Fd(e,t,i){if(t=Co(e,t,Vd)[0],e=Js(Sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ea(t)}catch(m){throw m===fl?ks:m}else s=t;t=Qe();var u=t.queue,c=u.dispatch;return i!==t.memoizedState&&(P.flags|=2048,gl(9,{destroy:void 0},g0.bind(null,u,i),null)),[s,c,e]}function g0(e,t){e.action=t}function Kd(e){var t=Qe(),i=Te;if(i!==null)return Fd(t,i,e);Qe(),t=t.memoizedState,i=Qe();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function gl(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=P.updateQueue,t===null&&(t=Ks(),P.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function Zd(){return Qe().memoizedState}function Ws(e,t,i,s){var u=pt();P.flags|=e,u.memoizedState=gl(1|t,{destroy:void 0},i,s===void 0?null:s)}function Ps(e,t,i,s){var u=Qe();s=s===void 0?null:s;var c=u.memoizedState.inst;Te!==null&&s!==null&&po(s,Te.memoizedState.deps)?u.memoizedState=gl(t,c,i,s):(P.flags|=e,u.memoizedState=gl(1|t,c,i,s))}function Jd(e,t){Ws(8390656,8,e,t)}function Ro(e,t){Ps(2048,8,e,t)}function p0(e){P.flags|=4;var t=P.updateQueue;if(t===null)t=Ks(),P.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Wd(e){var t=Qe().memoizedState;return p0({ref:t,nextImpl:e}),function(){if((pe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Pd(e,t){return Ps(4,2,e,t)}function $d(e,t){return Ps(4,4,e,t)}function em(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tm(e,t,i){i=i!=null?i.concat([e]):null,Ps(4,4,em.bind(null,t,e),i)}function Mo(){}function nm(e,t){var i=Qe();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&po(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function im(e,t){var i=Qe();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&po(t,s[1]))return s[0];if(s=e(),Di){Un(!0);try{e()}finally{Un(!1)}}return i.memoizedState=[s,t],s}function Do(e,t,i){return i===void 0||(En&1073741824)!==0&&(fe&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=l_(),P.lanes|=e,Zn|=e,i)}function lm(e,t,i,s){return zt(i,t)?i:dl.current!==null?(e=Do(e,i,s),zt(e,t)||(Je=!0),e):(En&42)===0||(En&1073741824)!==0&&(fe&261930)===0?(Je=!0,e.memoizedState=i):(e=l_(),P.lanes|=e,Zn|=e,t)}function am(e,t,i,s,u){var c=j.p;j.p=c!==0&&8>c?c:8;var m=z.T,p={};z.T=p,xo(e,!1,t,i);try{var S=u(),N=z.S;if(N!==null&&N(p,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var x=h0(S,s);Sa(e,t,x,jt(e))}else Sa(e,t,s,jt(e))}catch(U){Sa(e,t,{then:function(){},status:"rejected",reason:U},jt())}finally{j.p=c,m!==null&&p.types!==null&&(m.types=p.types),z.T=m}}function y0(){}function Oo(e,t,i,s){if(e.tag!==5)throw Error(r(476));var u=sm(e).queue;am(e,u,t,F,i===null?y0:function(){return rm(e),i(s)})}function sm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:F},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rm(e){var t=sm(e);t.next===null&&(t=e.alternate.memoizedState),Sa(e,t.next.queue,{},jt())}function wo(){return ft(Ha)}function um(){return Qe().memoizedState}function om(){return Qe().memoizedState}function v0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=jt();e=Yn(i);var s=Vn(t,e,i);s!==null&&(Nt(s,t,i),ga(s,t,i)),t={cache:ao()},e.payload=t;return}t=t.return}}function E0(e,t,i){var s=jt();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},$s(e)?fm(t,i):(i=Ku(e,t,i,s),i!==null&&(Nt(i,e,s),hm(i,t,s)))}function cm(e,t,i){var s=jt();Sa(e,t,i,s)}function Sa(e,t,i,s){var u={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if($s(e))fm(t,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,p=c(m,i);if(u.hasEagerState=!0,u.eagerState=p,zt(p,m))return zs(e,t,u,0),Re===null&&xs(),!1}catch{}if(i=Ku(e,t,u,s),i!==null)return Nt(i,e,s),hm(i,t,s),!0}return!1}function xo(e,t,i,s){if(s={lane:2,revertLane:cc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$s(e)){if(t)throw Error(r(479))}else t=Ku(e,i,s,2),t!==null&&Nt(t,e,2)}function $s(e){var t=e.alternate;return e===P||t!==null&&t===P}function fm(e,t){ml=Xs=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function hm(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,ph(e,i)}}var ba={readContext:ft,use:Zs,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};ba.useEffectEvent=je;var dm={readContext:ft,use:Zs,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Jd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Ws(4194308,4,em.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){Ws(4,2,e,t)},useMemo:function(e,t){var i=pt();t=t===void 0?null:t;var s=e();if(Di){Un(!0);try{e()}finally{Un(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=pt();if(i!==void 0){var u=i(t);if(Di){Un(!0);try{i(t)}finally{Un(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=E0.bind(null,P,e),[s.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ao(e);var t=e.queue,i=cm.bind(null,P,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Mo,useDeferredValue:function(e,t){var i=pt();return Do(i,e,t)},useTransition:function(){var e=Ao(!1);return e=am.bind(null,P,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=P,u=pt();if(de){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Re===null)throw Error(r(349));(fe&127)!==0||Ld(s,t,i)}u.memoizedState=i;var c={value:i,getSnapshot:t};return u.queue=c,Jd(Id.bind(null,s,c,e),[e]),s.flags|=2048,gl(9,{destroy:void 0},Ud.bind(null,s,c,i,t),null),i},useId:function(){var e=pt(),t=Re.identifierPrefix;if(de){var i=un,s=rn;i=(s&~(1<<32-xt(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Fs++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=d0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:wo,useFormState:Qd,useActionState:Qd,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=xo.bind(null,P,!0,i),i.dispatch=t,[e,t]},useMemoCache:bo,useCacheRefresh:function(){return pt().memoizedState=v0.bind(null,P)},useEffectEvent:function(e){var t=pt(),i={impl:e};return t.memoizedState=i,function(){if((pe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},zo={readContext:ft,use:Zs,useCallback:nm,useContext:ft,useEffect:Ro,useImperativeHandle:tm,useInsertionEffect:Pd,useLayoutEffect:$d,useMemo:im,useReducer:Js,useRef:Zd,useState:function(){return Js(Sn)},useDebugValue:Mo,useDeferredValue:function(e,t){var i=Qe();return lm(i,Te.memoizedState,e,t)},useTransition:function(){var e=Js(Sn)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:Ea(e),t]},useSyncExternalStore:zd,useId:um,useHostTransitionStatus:wo,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,t){var i=Qe();return jd(i,Te,e,t)},useMemoCache:bo,useCacheRefresh:om};zo.useEffectEvent=Wd;var mm={readContext:ft,use:Zs,useCallback:nm,useContext:ft,useEffect:Ro,useImperativeHandle:tm,useInsertionEffect:Pd,useLayoutEffect:$d,useMemo:im,useReducer:To,useRef:Zd,useState:function(){return To(Sn)},useDebugValue:Mo,useDeferredValue:function(e,t){var i=Qe();return Te===null?Do(i,e,t):lm(i,Te.memoizedState,e,t)},useTransition:function(){var e=To(Sn)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:Ea(e),t]},useSyncExternalStore:zd,useId:um,useHostTransitionStatus:wo,useFormState:Kd,useActionState:Kd,useOptimistic:function(e,t){var i=Qe();return Te!==null?jd(i,Te,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:bo,useCacheRefresh:om};mm.useEffectEvent=Wd;function Lo(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Uo={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=jt(),u=Yn(s);u.payload=t,i!=null&&(u.callback=i),t=Vn(e,u,s),t!==null&&(Nt(t,e,s),ga(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=jt(),u=Yn(s);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=Vn(e,u,s),t!==null&&(Nt(t,e,s),ga(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=jt(),s=Yn(i);s.tag=2,t!=null&&(s.callback=t),t=Vn(e,s,i),t!==null&&(Nt(t,e,i),ga(t,e,i))}};function _m(e,t,i,s,u,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,m):t.prototype&&t.prototype.isPureReactComponent?!ua(i,s)||!ua(u,c):!0}function gm(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Oi(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function pm(e){ws(e)}function ym(e){console.error(e)}function vm(e){ws(e)}function er(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Em(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Io(e,t,i){return i=Yn(i),i.tag=3,i.payload={element:null},i.callback=function(){er(e,t)},i}function Sm(e){return e=Yn(e),e.tag=3,e}function bm(e,t,i,s){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var c=s.value;e.payload=function(){return u(c)},e.callback=function(){Em(t,i,s)}}var m=i.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Em(t,i,s),typeof u!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var p=s.stack;this.componentDidCatch(s.value,{componentStack:p!==null?p:""})})}function S0(e,t,i,s,u){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&ul(t,i,u,!0),i=Ut.current,i!==null){switch(i.tag){case 31:case 13:return Ft===null?hr():i.alternate===null&&ke===0&&(ke=3),i.flags&=-257,i.flags|=65536,i.lanes=u,s===qs?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),rc(e,s,u)),!1;case 22:return i.flags|=65536,s===qs?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),rc(e,s,u)),!1}throw Error(r(435,i.tag))}return rc(e,s,u),hr(),!1}if(de)return t=Ut.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==eo&&(e=Error(r(422),{cause:s}),fa(Yt(e,i)))):(s!==eo&&(t=Error(r(423),{cause:s}),fa(Yt(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=Yt(s,i),u=Io(e.stateNode,s,u),fo(e,u),ke!==4&&(ke=2)),!1;var c=Error(r(520),{cause:s});if(c=Yt(c,i),Oa===null?Oa=[c]:Oa.push(c),ke!==4&&(ke=2),t===null)return!0;s=Yt(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=Io(i.stateNode,s,e),fo(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Jn===null||!Jn.has(c))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Sm(u),bm(u,e,i,s),fo(i,u),!1}i=i.return}while(i!==null);return!1}var Bo=Error(r(461)),Je=!1;function ht(e,t,i,s){t.child=e===null?Nd(t,null,i,s):Mi(t,e.child,i,s)}function Cm(e,t,i,s,u){i=i.render;var c=t.ref;if("ref"in s){var m={};for(var p in s)p!=="ref"&&(m[p]=s[p])}else m=s;return Ti(t),s=yo(e,t,i,m,c,u),p=vo(),e!==null&&!Je?(Eo(e,t,u),bn(e,t,u)):(de&&p&&Pu(t),t.flags|=1,ht(e,t,s,u),t.child)}function Tm(e,t,i,s,u){if(e===null){var c=i.type;return typeof c=="function"&&!Zu(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,Am(e,t,c,s,u)):(e=Us(i.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Qo(e,u)){var m=c.memoizedProps;if(i=i.compare,i=i!==null?i:ua,i(m,s)&&e.ref===t.ref)return bn(e,t,u)}return t.flags|=1,e=gn(c,s),e.ref=t.ref,e.return=t,t.child=e}function Am(e,t,i,s,u){if(e!==null){var c=e.memoizedProps;if(ua(c,s)&&e.ref===t.ref)if(Je=!1,t.pendingProps=s=c,Qo(e,u))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,bn(e,t,u)}return Ho(e,t,i,s,u)}function Nm(e,t,i,s){var u=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|i:i,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~c}else s=0,t.child=null;return Rm(e,t,c,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&js(t,c!==null?c.cachePool:null),c!==null?Dd(t,c):mo(),Od(t);else return s=t.lanes=536870912,Rm(e,t,c!==null?c.baseLanes|i:i,i,s)}else c!==null?(js(t,c.cachePool),Dd(t,c),Xn(),t.memoizedState=null):(e!==null&&js(t,null),mo(),Xn());return ht(e,t,u,i),t.child}function Ca(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Rm(e,t,i,s,u){var c=ro();return c=c===null?null:{parent:Ke._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&js(t,null),mo(),Od(t),e!==null&&ul(e,t,s,!0),t.childLanes=u,null}function tr(e,t){return t=ir({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Mm(e,t,i){return Mi(t,e.child,null,i),e=tr(t,t.pendingProps),e.flags|=2,It(t),t.memoizedState=null,e}function b0(e,t,i){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(de){if(s.mode==="hidden")return e=tr(t,s),t.lanes=536870912,Ca(null,e);if(go(t),(e=we)?(e=k_(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:rn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},i=fd(e),i.return=t,t.child=i,ct=t,we=null)):e=null,e===null)throw kn(t);return t.lanes=536870912,null}return tr(t,s)}var c=e.memoizedState;if(c!==null){var m=c.dehydrated;if(go(t),u)if(t.flags&256)t.flags&=-257,t=Mm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Je||ul(e,t,i,!1),u=(i&e.childLanes)!==0,Je||u){if(s=Re,s!==null&&(m=yh(s,i),m!==0&&m!==c.retryLane))throw c.retryLane=m,Ei(e,m),Nt(s,e,m),Bo;hr(),t=Mm(e,t,i)}else e=c.treeContext,we=Kt(m.nextSibling),ct=t,de=!0,jn=null,Xt=!1,e!==null&&md(t,e),t=tr(t,s),t.flags|=4096;return t}return e=gn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function nr(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Ho(e,t,i,s,u){return Ti(t),i=yo(e,t,i,s,void 0,u),s=vo(),e!==null&&!Je?(Eo(e,t,u),bn(e,t,u)):(de&&s&&Pu(t),t.flags|=1,ht(e,t,i,u),t.child)}function Dm(e,t,i,s,u,c){return Ti(t),t.updateQueue=null,i=xd(t,s,i,u),wd(e),s=vo(),e!==null&&!Je?(Eo(e,t,c),bn(e,t,c)):(de&&s&&Pu(t),t.flags|=1,ht(e,t,i,c),t.child)}function Om(e,t,i,s,u){if(Ti(t),t.stateNode===null){var c=ll,m=i.contextType;typeof m=="object"&&m!==null&&(c=ft(m)),c=new i(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Uo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},oo(t),m=i.contextType,c.context=typeof m=="object"&&m!==null?ft(m):ll,c.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Lo(t,i,m,s),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&Uo.enqueueReplaceState(c,c.state,null),ya(t,s,c,u),pa(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var p=t.memoizedProps,S=Oi(i,p);c.props=S;var N=c.context,x=i.contextType;m=ll,typeof x=="object"&&x!==null&&(m=ft(x));var U=i.getDerivedStateFromProps;x=typeof U=="function"||typeof c.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,x||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p||N!==m)&&gm(t,c,s,m),Gn=!1;var M=t.memoizedState;c.state=M,ya(t,s,c,u),pa(),N=t.memoizedState,p||M!==N||Gn?(typeof U=="function"&&(Lo(t,i,U,s),N=t.memoizedState),(S=Gn||_m(t,i,S,s,M,N,m))?(x||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=N),c.props=s,c.state=N,c.context=m,s=S):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,co(e,t),m=t.memoizedProps,x=Oi(i,m),c.props=x,U=t.pendingProps,M=c.context,N=i.contextType,S=ll,typeof N=="object"&&N!==null&&(S=ft(N)),p=i.getDerivedStateFromProps,(N=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==U||M!==S)&&gm(t,c,s,S),Gn=!1,M=t.memoizedState,c.state=M,ya(t,s,c,u),pa();var O=t.memoizedState;m!==U||M!==O||Gn||e!==null&&e.dependencies!==null&&Bs(e.dependencies)?(typeof p=="function"&&(Lo(t,i,p,s),O=t.memoizedState),(x=Gn||_m(t,i,x,s,M,O,S)||e!==null&&e.dependencies!==null&&Bs(e.dependencies))?(N||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,O,S),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,O,S)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=O),c.props=s,c.state=O,c.context=S,s=x):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,nr(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=Mi(t,e.child,null,u),t.child=Mi(t,null,i,u)):ht(e,t,i,u),t.memoizedState=c.state,e=t.child):e=bn(e,t,u),e}function wm(e,t,i,s){return bi(),t.flags|=256,ht(e,t,i,s),t.child}var jo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ko(e){return{baseLanes:e,cachePool:Ed()}}function qo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Ht),e}function xm(e,t,i){var s=t.pendingProps,u=!1,c=(t.flags&128)!==0,m;if((m=c)||(m=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),m&&(u=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(de){if(u?Qn(t):Xn(),(e=we)?(e=k_(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:rn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},i=fd(e),i.return=t,t.child=i,ct=t,we=null)):e=null,e===null)throw kn(t);return Cc(e)?t.lanes=32:t.lanes=536870912,null}var p=s.children;return s=s.fallback,u?(Xn(),u=t.mode,p=ir({mode:"hidden",children:p},u),s=Si(s,u,i,null),p.return=t,s.return=t,p.sibling=s,t.child=p,s=t.child,s.memoizedState=ko(i),s.childLanes=qo(e,m,i),t.memoizedState=jo,Ca(null,s)):(Qn(t),Go(t,p))}var S=e.memoizedState;if(S!==null&&(p=S.dehydrated,p!==null)){if(c)t.flags&256?(Qn(t),t.flags&=-257,t=Yo(e,t,i)):t.memoizedState!==null?(Xn(),t.child=e.child,t.flags|=128,t=null):(Xn(),p=s.fallback,u=t.mode,s=ir({mode:"visible",children:s.children},u),p=Si(p,u,i,null),p.flags|=2,s.return=t,p.return=t,s.sibling=p,t.child=s,Mi(t,e.child,null,i),s=t.child,s.memoizedState=ko(i),s.childLanes=qo(e,m,i),t.memoizedState=jo,t=Ca(null,s));else if(Qn(t),Cc(p)){if(m=p.nextSibling&&p.nextSibling.dataset,m)var N=m.dgst;m=N,s=Error(r(419)),s.stack="",s.digest=m,fa({value:s,source:null,stack:null}),t=Yo(e,t,i)}else if(Je||ul(e,t,i,!1),m=(i&e.childLanes)!==0,Je||m){if(m=Re,m!==null&&(s=yh(m,i),s!==0&&s!==S.retryLane))throw S.retryLane=s,Ei(e,s),Nt(m,e,s),Bo;bc(p)||hr(),t=Yo(e,t,i)}else bc(p)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,we=Kt(p.nextSibling),ct=t,de=!0,jn=null,Xt=!1,e!==null&&md(t,e),t=Go(t,s.children),t.flags|=4096);return t}return u?(Xn(),p=s.fallback,u=t.mode,S=e.child,N=S.sibling,s=gn(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,N!==null?p=gn(N,p):(p=Si(p,u,i,null),p.flags|=2),p.return=t,s.return=t,s.sibling=p,t.child=s,Ca(null,s),s=t.child,p=e.child.memoizedState,p===null?p=ko(i):(u=p.cachePool,u!==null?(S=Ke._currentValue,u=u.parent!==S?{parent:S,pool:S}:u):u=Ed(),p={baseLanes:p.baseLanes|i,cachePool:u}),s.memoizedState=p,s.childLanes=qo(e,m,i),t.memoizedState=jo,Ca(e.child,s)):(Qn(t),i=e.child,e=i.sibling,i=gn(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=i,t.memoizedState=null,i)}function Go(e,t){return t=ir({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ir(e,t){return e=Lt(22,e,null,t),e.lanes=0,e}function Yo(e,t,i){return Mi(t,e.child,null,i),e=Go(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zm(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),io(e.return,t,i)}function Vo(e,t,i,s,u,c){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:u,treeForkCount:c}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=i,m.tailMode=u,m.treeForkCount=c)}function Lm(e,t,i){var s=t.pendingProps,u=s.revealOrder,c=s.tail;s=s.children;var m=Ve.current,p=(m&2)!==0;if(p?(m=m&1|2,t.flags|=128):m&=1,q(Ve,m),ht(e,t,s,i),s=de?ca:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zm(e,i,t);else if(e.tag===19)zm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&Qs(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),Vo(t,!1,u,i,c,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Qs(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Vo(t,!0,i,null,c,s);break;case"together":Vo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function bn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ul(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=gn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=gn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Qo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Bs(e)))}function C0(e,t,i){switch(t.tag){case 3:gt(t,t.stateNode.containerInfo),qn(t,Ke,e.memoizedState.cache),bi();break;case 27:case 5:Zl(t);break;case 4:gt(t,t.stateNode.containerInfo);break;case 10:qn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,go(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Qn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?xm(e,t,i):(Qn(t),e=bn(e,t,i),e!==null?e.sibling:null);Qn(t);break;case 19:var u=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(ul(e,t,i,!1),s=(i&t.childLanes)!==0),u){if(s)return Lm(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),q(Ve,Ve.current),s)break;return null;case 22:return t.lanes=0,Nm(e,t,i,t.pendingProps);case 24:qn(t,Ke,e.memoizedState.cache)}return bn(e,t,i)}function Um(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!Qo(e,i)&&(t.flags&128)===0)return Je=!1,C0(e,t,i);Je=(e.flags&131072)!==0}else Je=!1,de&&(t.flags&1048576)!==0&&dd(t,ca,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Ni(t.elementType),t.type=e,typeof e=="function")Zu(e)?(s=Oi(e,s),t.tag=1,t=Om(null,t,e,s,i)):(t.tag=0,t=Ho(null,t,e,s,i));else{if(e!=null){var u=e.$$typeof;if(u===ce){t.tag=11,t=Cm(null,t,e,s,i);break e}else if(u===ie){t.tag=14,t=Tm(null,t,e,s,i);break e}}throw t=ut(e)||e,Error(r(306,t,""))}}return t;case 0:return Ho(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,u=Oi(s,t.pendingProps),Om(e,t,s,u,i);case 3:e:{if(gt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var c=t.memoizedState;u=c.element,co(e,t),ya(t,s,null,i);var m=t.memoizedState;if(s=m.cache,qn(t,Ke,s),s!==c.cache&&lo(t,[Ke],i,!0),pa(),s=m.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=wm(e,t,s,i);break e}else if(s!==u){u=Yt(Error(r(424)),t),fa(u),t=wm(e,t,s,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,we=Kt(e.firstChild),ct=t,de=!0,jn=null,Xt=!0,i=Nd(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(bi(),s===u){t=bn(e,t,i);break e}ht(e,t,s,i)}t=t.child}return t;case 26:return nr(e,t),e===null?(i=X_(t.type,null,t.pendingProps,null))?t.memoizedState=i:de||(i=t.type,e=t.pendingProps,s=vr(se.current).createElement(i),s[ot]=t,s[Et]=e,dt(s,i,e),tt(s),t.stateNode=s):t.memoizedState=X_(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Zl(t),e===null&&de&&(s=t.stateNode=Y_(t.type,t.pendingProps,se.current),ct=t,Xt=!0,u=we,ei(t.type)?(Tc=u,we=Kt(s.firstChild)):we=u),ht(e,t,t.pendingProps.children,i),nr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&de&&((u=s=we)&&(s=$0(s,t.type,t.pendingProps,Xt),s!==null?(t.stateNode=s,ct=t,we=Kt(s.firstChild),Xt=!1,u=!0):u=!1),u||kn(t)),Zl(t),u=t.type,c=t.pendingProps,m=e!==null?e.memoizedProps:null,s=c.children,vc(u,c)?s=null:m!==null&&vc(u,m)&&(t.flags|=32),t.memoizedState!==null&&(u=yo(e,t,m0,null,null,i),Ha._currentValue=u),nr(e,t),ht(e,t,s,i),t.child;case 6:return e===null&&de&&((e=i=we)&&(i=e1(i,t.pendingProps,Xt),i!==null?(t.stateNode=i,ct=t,we=null,e=!0):e=!1),e||kn(t)),null;case 13:return xm(e,t,i);case 4:return gt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Mi(t,null,s,i):ht(e,t,s,i),t.child;case 11:return Cm(e,t,t.type,t.pendingProps,i);case 7:return ht(e,t,t.pendingProps,i),t.child;case 8:return ht(e,t,t.pendingProps.children,i),t.child;case 12:return ht(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,qn(t,t.type,s.value),ht(e,t,s.children,i),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,Ti(t),u=ft(u),s=s(u),t.flags|=1,ht(e,t,s,i),t.child;case 14:return Tm(e,t,t.type,t.pendingProps,i);case 15:return Am(e,t,t.type,t.pendingProps,i);case 19:return Lm(e,t,i);case 31:return b0(e,t,i);case 22:return Nm(e,t,i,t.pendingProps);case 24:return Ti(t),s=ft(Ke),e===null?(u=ro(),u===null&&(u=Re,c=ao(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=i),u=c),t.memoizedState={parent:s,cache:u},oo(t),qn(t,Ke,u)):((e.lanes&i)!==0&&(co(e,t),ya(t,null,null,i),pa()),u=e.memoizedState,c=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),qn(t,Ke,s)):(s=c.cache,qn(t,Ke,s),s!==u.cache&&lo(t,[Ke],i,!0))),ht(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Cn(e){e.flags|=4}function Xo(e,t,i,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(u_())e.flags|=8192;else throw Ri=qs,uo}else e.flags&=-16777217}function Im(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!W_(t))if(u_())e.flags|=8192;else throw Ri=qs,uo}function lr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?_h():536870912,e.lanes|=t,El|=t)}function Ta(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function T0(e,t,i){var s=t.pendingProps;switch($u(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return xe(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),vn(Ke),Ye(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(rl(t)?Cn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,to())),xe(t),null;case 26:var u=t.type,c=t.memoizedState;return e===null?(Cn(t),c!==null?(xe(t),Im(t,c)):(xe(t),Xo(t,u,null,s,i))):c?c!==e.memoizedState?(Cn(t),xe(t),Im(t,c)):(xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Cn(t),xe(t),Xo(t,u,e,s,i)),null;case 27:if(_s(t),i=se.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Cn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return xe(t),null}e=Y.current,rl(t)?_d(t):(e=Y_(u,s,i),t.stateNode=e,Cn(t))}return xe(t),null;case 5:if(_s(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Cn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return xe(t),null}if(c=Y.current,rl(t))_d(t);else{var m=vr(se.current);switch(c){case 1:c=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:c=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":c=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":c=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":c=m.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?m.createElement(u,{is:s.is}):m.createElement(u)}}c[ot]=t,c[Et]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=c;e:switch(dt(c,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Cn(t)}}return xe(t),Xo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Cn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=se.current,rl(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,u=ct,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[ot]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||x_(e.nodeValue,i)),e||kn(t,!0)}else e=vr(e).createTextNode(s),e[ot]=t,t.stateNode=e}return xe(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=rl(t),i!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ot]=t}else bi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xe(t),e=!1}else i=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(It(t),t):(It(t),null);if((t.flags&128)!==0)throw Error(r(558))}return xe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=rl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ot]=t}else bi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xe(t),u=!1}else u=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(It(t),t):(It(t),null)}return It(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==u&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),lr(t,t.updateQueue),xe(t),null);case 4:return Ye(),e===null&&mc(t.stateNode.containerInfo),xe(t),null;case 10:return vn(t.type),xe(t),null;case 19:if(I(Ve),s=t.memoizedState,s===null)return xe(t),null;if(u=(t.flags&128)!==0,c=s.rendering,c===null)if(u)Ta(s,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Qs(e),c!==null){for(t.flags|=128,Ta(s,!1),e=c.updateQueue,t.updateQueue=e,lr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)cd(i,e),i=i.sibling;return q(Ve,Ve.current&1|2),de&&pn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Ot()>or&&(t.flags|=128,u=!0,Ta(s,!1),t.lanes=4194304)}else{if(!u)if(e=Qs(c),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,lr(t,e),Ta(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!de)return xe(t),null}else 2*Ot()-s.renderingStartTime>or&&i!==536870912&&(t.flags|=128,u=!0,Ta(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ot(),e.sibling=null,i=Ve.current,q(Ve,u?i&1|2:i&1),de&&pn(t,s.treeForkCount),e):(xe(t),null);case 22:case 23:return It(t),_o(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),i=t.updateQueue,i!==null&&lr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&I(Ai),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),vn(Ke),xe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function A0(e,t){switch($u(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vn(Ke),Ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _s(t),null;case 31:if(t.memoizedState!==null){if(It(t),t.alternate===null)throw Error(r(340));bi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(It(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));bi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(Ve),null;case 4:return Ye(),null;case 10:return vn(t.type),null;case 22:case 23:return It(t),_o(),e!==null&&I(Ai),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return vn(Ke),null;case 25:return null;default:return null}}function Bm(e,t){switch($u(t),t.tag){case 3:vn(Ke),Ye();break;case 26:case 27:case 5:_s(t);break;case 4:Ye();break;case 31:t.memoizedState!==null&&It(t);break;case 13:It(t);break;case 19:I(Ve);break;case 10:vn(t.type);break;case 22:case 23:It(t),_o(),e!==null&&I(Ai);break;case 24:vn(Ke)}}function Aa(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var u=s.next;i=u;do{if((i.tag&e)===e){s=void 0;var c=i.create,m=i.inst;s=c(),m.destroy=s}i=i.next}while(i!==u)}}catch(p){be(t,t.return,p)}}function Fn(e,t,i){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var c=u.next;s=c;do{if((s.tag&e)===e){var m=s.inst,p=m.destroy;if(p!==void 0){m.destroy=void 0,u=t;var S=i,N=p;try{N()}catch(x){be(u,S,x)}}}s=s.next}while(s!==c)}}catch(x){be(t,t.return,x)}}function Hm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Md(t,i)}catch(s){be(e,e.return,s)}}}function jm(e,t,i){i.props=Oi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){be(e,t,s)}}function Na(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(u){be(e,t,u)}}function on(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(u){be(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){be(e,t,u)}else i.current=null}function km(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(u){be(e,e.return,u)}}function Fo(e,t,i){try{var s=e.stateNode;F0(s,e.type,i,t),s[Et]=t}catch(u){be(e,e.return,u)}}function qm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ei(e.type)||e.tag===4}function Ko(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ei(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zo(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=mn));else if(s!==4&&(s===27&&ei(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Zo(e,t,i),e=e.sibling;e!==null;)Zo(e,t,i),e=e.sibling}function ar(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&ei(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ar(e,t,i),e=e.sibling;e!==null;)ar(e,t,i),e=e.sibling}function Gm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);dt(t,s,i),t[ot]=e,t[Et]=i}catch(c){be(e,e.return,c)}}var Tn=!1,We=!1,Jo=!1,Ym=typeof WeakSet=="function"?WeakSet:Set,nt=null;function N0(e,t){if(e=e.containerInfo,pc=Nr,e=td(e),Gu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var u=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var m=0,p=-1,S=-1,N=0,x=0,U=e,M=null;t:for(;;){for(var O;U!==i||u!==0&&U.nodeType!==3||(p=m+u),U!==c||s!==0&&U.nodeType!==3||(S=m+s),U.nodeType===3&&(m+=U.nodeValue.length),(O=U.firstChild)!==null;)M=U,U=O;for(;;){if(U===e)break t;if(M===i&&++N===u&&(p=m),M===c&&++x===s&&(S=m),(O=U.nextSibling)!==null)break;U=M,M=U.parentNode}U=O}i=p===-1||S===-1?null:{start:p,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(yc={focusedElem:e,selectionRange:i},Nr=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)u=e[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,u=c.memoizedProps,c=c.memoizedState,s=i.stateNode;try{var G=Oi(i.type,u);e=s.getSnapshotBeforeUpdate(G,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(K){be(i,i.return,K)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Sc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function Vm(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Nn(e,i),s&4&&Aa(5,i);break;case 1:if(Nn(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(m){be(i,i.return,m)}else{var u=Oi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){be(i,i.return,m)}}s&64&&Hm(i),s&512&&Na(i,i.return);break;case 3:if(Nn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Md(e,t)}catch(m){be(i,i.return,m)}}break;case 27:t===null&&s&4&&Gm(i);case 26:case 5:Nn(e,i),t===null&&s&4&&km(i),s&512&&Na(i,i.return);break;case 12:Nn(e,i);break;case 31:Nn(e,i),s&4&&Fm(e,i);break;case 13:Nn(e,i),s&4&&Km(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=U0.bind(null,i),t1(e,i))));break;case 22:if(s=i.memoizedState!==null||Tn,!s){t=t!==null&&t.memoizedState!==null||We,u=Tn;var c=We;Tn=s,(We=t)&&!c?Rn(e,i,(i.subtreeFlags&8772)!==0):Nn(e,i),Tn=u,We=c}break;case 30:break;default:Nn(e,i)}}function Qm(e){var t=e.alternate;t!==null&&(e.alternate=null,Qm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Au(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,bt=!1;function An(e,t,i){for(i=i.child;i!==null;)Xm(e,t,i),i=i.sibling}function Xm(e,t,i){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Jl,i)}catch{}switch(i.tag){case 26:We||on(i,t),An(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:We||on(i,t);var s=ze,u=bt;ei(i.type)&&(ze=i.stateNode,bt=!1),An(e,t,i),Ua(i.stateNode),ze=s,bt=u;break;case 5:We||on(i,t);case 6:if(s=ze,u=bt,ze=null,An(e,t,i),ze=s,bt=u,ze!==null)if(bt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(i.stateNode)}catch(c){be(i,t,c)}else try{ze.removeChild(i.stateNode)}catch(c){be(i,t,c)}break;case 18:ze!==null&&(bt?(e=ze,H_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ml(e)):H_(ze,i.stateNode));break;case 4:s=ze,u=bt,ze=i.stateNode.containerInfo,bt=!0,An(e,t,i),ze=s,bt=u;break;case 0:case 11:case 14:case 15:Fn(2,i,t),We||Fn(4,i,t),An(e,t,i);break;case 1:We||(on(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&jm(i,t,s)),An(e,t,i);break;case 21:An(e,t,i);break;case 22:We=(s=We)||i.memoizedState!==null,An(e,t,i),We=s;break;default:An(e,t,i)}}function Fm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ml(e)}catch(i){be(t,t.return,i)}}}function Km(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ml(e)}catch(i){be(t,t.return,i)}}function R0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ym),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ym),t;default:throw Error(r(435,e.tag))}}function sr(e,t){var i=R0(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var u=I0.bind(null,e,s);s.then(u,u)}})}function Ct(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var u=i[s],c=e,m=t,p=m;e:for(;p!==null;){switch(p.tag){case 27:if(ei(p.type)){ze=p.stateNode,bt=!1;break e}break;case 5:ze=p.stateNode,bt=!1;break e;case 3:case 4:ze=p.stateNode.containerInfo,bt=!0;break e}p=p.return}if(ze===null)throw Error(r(160));Xm(c,m,u),ze=null,bt=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Zm(t,e),t=t.sibling}var Pt=null;function Zm(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(t,e),Tt(e),s&4&&(Fn(3,e,e.return),Aa(3,e),Fn(5,e,e.return));break;case 1:Ct(t,e),Tt(e),s&512&&(We||i===null||on(i,i.return)),s&64&&Tn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var u=Pt;if(Ct(t,e),Tt(e),s&512&&(We||i===null||on(i,i.return)),s&4){var c=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":c=u.getElementsByTagName("title")[0],(!c||c[$l]||c[ot]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(s),u.head.insertBefore(c,u.querySelector("head > title"))),dt(c,s,i),c[ot]=e,tt(c),s=c;break e;case"link":var m=Z_("link","href",u).get(s+(i.href||""));if(m){for(var p=0;p<m.length;p++)if(c=m[p],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){m.splice(p,1);break t}}c=u.createElement(s),dt(c,s,i),u.head.appendChild(c);break;case"meta":if(m=Z_("meta","content",u).get(s+(i.content||""))){for(p=0;p<m.length;p++)if(c=m[p],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){m.splice(p,1);break t}}c=u.createElement(s),dt(c,s,i),u.head.appendChild(c);break;default:throw Error(r(468,s))}c[ot]=e,tt(c),s=c}e.stateNode=s}else J_(u,e.type,e.stateNode);else e.stateNode=K_(u,s,e.memoizedProps);else c!==s?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,s===null?J_(u,e.type,e.stateNode):K_(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Fo(e,e.memoizedProps,i.memoizedProps)}break;case 27:Ct(t,e),Tt(e),s&512&&(We||i===null||on(i,i.return)),i!==null&&s&4&&Fo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Ct(t,e),Tt(e),s&512&&(We||i===null||on(i,i.return)),e.flags&32){u=e.stateNode;try{Wi(u,"")}catch(G){be(e,e.return,G)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,Fo(e,u,i!==null?i.memoizedProps:u)),s&1024&&(Jo=!0);break;case 6:if(Ct(t,e),Tt(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(G){be(e,e.return,G)}}break;case 3:if(br=null,u=Pt,Pt=Er(t.containerInfo),Ct(t,e),Pt=u,Tt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Ml(t.containerInfo)}catch(G){be(e,e.return,G)}Jo&&(Jo=!1,Jm(e));break;case 4:s=Pt,Pt=Er(e.stateNode.containerInfo),Ct(t,e),Tt(e),Pt=s;break;case 12:Ct(t,e),Tt(e);break;case 31:Ct(t,e),Tt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sr(e,s)));break;case 13:Ct(t,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ur=Ot()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sr(e,s)));break;case 22:u=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,N=Tn,x=We;if(Tn=N||u,We=x||S,Ct(t,e),We=x,Tn=N,Tt(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||S||Tn||We||wi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){S=i=t;try{if(c=S.stateNode,u)m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{p=S.stateNode;var U=S.memoizedProps.style,M=U!=null&&U.hasOwnProperty("display")?U.display:null;p.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(G){be(S,S.return,G)}}}else if(t.tag===6){if(i===null){S=t;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(G){be(S,S.return,G)}}}else if(t.tag===18){if(i===null){S=t;try{var O=S.stateNode;u?j_(O,!0):j_(S.stateNode,!1)}catch(G){be(S,S.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,sr(e,i))));break;case 19:Ct(t,e),Tt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sr(e,s)));break;case 30:break;case 21:break;default:Ct(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(qm(s)){i=s;break}s=s.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var u=i.stateNode,c=Ko(e);ar(e,c,u);break;case 5:var m=i.stateNode;i.flags&32&&(Wi(m,""),i.flags&=-33);var p=Ko(e);ar(e,p,m);break;case 3:case 4:var S=i.stateNode.containerInfo,N=Ko(e);Zo(e,N,S);break;default:throw Error(r(161))}}catch(x){be(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Jm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Nn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Vm(e,t.alternate,t),t=t.sibling}function wi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fn(4,t,t.return),wi(t);break;case 1:on(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&jm(t,t.return,i),wi(t);break;case 27:Ua(t.stateNode);case 26:case 5:on(t,t.return),wi(t);break;case 22:t.memoizedState===null&&wi(t);break;case 30:wi(t);break;default:wi(t)}e=e.sibling}}function Rn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,c=t,m=c.flags;switch(c.tag){case 0:case 11:case 15:Rn(u,c,i),Aa(4,c);break;case 1:if(Rn(u,c,i),s=c,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(N){be(s,s.return,N)}if(s=c,u=s.updateQueue,u!==null){var p=s.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)Rd(S[u],p)}catch(N){be(s,s.return,N)}}i&&m&64&&Hm(c),Na(c,c.return);break;case 27:Gm(c);case 26:case 5:Rn(u,c,i),i&&s===null&&m&4&&km(c),Na(c,c.return);break;case 12:Rn(u,c,i);break;case 31:Rn(u,c,i),i&&m&4&&Fm(u,c);break;case 13:Rn(u,c,i),i&&m&4&&Km(u,c);break;case 22:c.memoizedState===null&&Rn(u,c,i),Na(c,c.return);break;case 30:break;default:Rn(u,c,i)}t=t.sibling}}function Wo(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ha(i))}function Po(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ha(e))}function $t(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wm(e,t,i,s),t=t.sibling}function Wm(e,t,i,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:$t(e,t,i,s),u&2048&&Aa(9,t);break;case 1:$t(e,t,i,s);break;case 3:$t(e,t,i,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ha(e)));break;case 12:if(u&2048){$t(e,t,i,s),e=t.stateNode;try{var c=t.memoizedProps,m=c.id,p=c.onPostCommit;typeof p=="function"&&p(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){be(t,t.return,S)}}else $t(e,t,i,s);break;case 31:$t(e,t,i,s);break;case 13:$t(e,t,i,s);break;case 23:break;case 22:c=t.stateNode,m=t.alternate,t.memoizedState!==null?c._visibility&2?$t(e,t,i,s):Ra(e,t):c._visibility&2?$t(e,t,i,s):(c._visibility|=2,pl(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Wo(m,t);break;case 24:$t(e,t,i,s),u&2048&&Po(t.alternate,t);break;default:$t(e,t,i,s)}}function pl(e,t,i,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,m=t,p=i,S=s,N=m.flags;switch(m.tag){case 0:case 11:case 15:pl(c,m,p,S,u),Aa(8,m);break;case 23:break;case 22:var x=m.stateNode;m.memoizedState!==null?x._visibility&2?pl(c,m,p,S,u):Ra(c,m):(x._visibility|=2,pl(c,m,p,S,u)),u&&N&2048&&Wo(m.alternate,m);break;case 24:pl(c,m,p,S,u),u&&N&2048&&Po(m.alternate,m);break;default:pl(c,m,p,S,u)}t=t.sibling}}function Ra(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,u=s.flags;switch(s.tag){case 22:Ra(i,s),u&2048&&Wo(s.alternate,s);break;case 24:Ra(i,s),u&2048&&Po(s.alternate,s);break;default:Ra(i,s)}t=t.sibling}}var Ma=8192;function yl(e,t,i){if(e.subtreeFlags&Ma)for(e=e.child;e!==null;)Pm(e,t,i),e=e.sibling}function Pm(e,t,i){switch(e.tag){case 26:yl(e,t,i),e.flags&Ma&&e.memoizedState!==null&&d1(i,Pt,e.memoizedState,e.memoizedProps);break;case 5:yl(e,t,i);break;case 3:case 4:var s=Pt;Pt=Er(e.stateNode.containerInfo),yl(e,t,i),Pt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Ma,Ma=16777216,yl(e,t,i),Ma=s):yl(e,t,i));break;default:yl(e,t,i)}}function $m(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Da(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];nt=s,t_(s,e)}$m(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)e_(e),e=e.sibling}function e_(e){switch(e.tag){case 0:case 11:case 15:Da(e),e.flags&2048&&Fn(9,e,e.return);break;case 3:Da(e);break;case 12:Da(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,rr(e)):Da(e);break;default:Da(e)}}function rr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];nt=s,t_(s,e)}$m(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fn(8,t,t.return),rr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,rr(t));break;default:rr(t)}e=e.sibling}}function t_(e,t){for(;nt!==null;){var i=nt;switch(i.tag){case 0:case 11:case 15:Fn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ha(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,nt=s;else e:for(i=e;nt!==null;){s=nt;var u=s.sibling,c=s.return;if(Qm(s),s===i){nt=null;break e}if(u!==null){u.return=c,nt=u;break e}nt=c}}}var M0={getCacheForType:function(e){var t=ft(Ke),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return ft(Ke).controller.signal}},D0=typeof WeakMap=="function"?WeakMap:Map,pe=0,Re=null,re=null,fe=0,Se=0,Bt=null,Kn=!1,vl=!1,$o=!1,Mn=0,ke=0,Zn=0,xi=0,ec=0,Ht=0,El=0,Oa=null,At=null,tc=!1,ur=0,n_=0,or=1/0,cr=null,Jn=null,$e=0,Wn=null,Sl=null,Dn=0,nc=0,ic=null,i_=null,wa=0,lc=null;function jt(){return(pe&2)!==0&&fe!==0?fe&-fe:z.T!==null?cc():vh()}function l_(){if(Ht===0)if((fe&536870912)===0||de){var e=ys;ys<<=1,(ys&3932160)===0&&(ys=262144),Ht=e}else Ht=536870912;return e=Ut.current,e!==null&&(e.flags|=32),Ht}function Nt(e,t,i){(e===Re&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(bl(e,0),Pn(e,fe,Ht,!1)),Pl(e,i),((pe&2)===0||e!==Re)&&(e===Re&&((pe&2)===0&&(xi|=i),ke===4&&Pn(e,fe,Ht,!1)),cn(e))}function a_(e,t,i){if((pe&6)!==0)throw Error(r(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Wl(e,t),u=s?x0(e,t):sc(e,t,!0),c=s;do{if(u===0){vl&&!s&&Pn(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!O0(i)){u=sc(e,t,!1),c=!1;continue}if(u===2){if(c=t,e.errorRecoveryDisabledLanes&c)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var p=e;u=Oa;var S=p.current.memoizedState.isDehydrated;if(S&&(bl(p,m).flags|=256),m=sc(p,m,!1),m!==2){if($o&&!S){p.errorRecoveryDisabledLanes|=c,xi|=c,u=4;break e}c=At,At=u,c!==null&&(At===null?At=c:At.push.apply(At,c))}u=m}if(c=!1,u!==2)continue}}if(u===1){bl(e,0),Pn(e,t,0,!0);break}e:{switch(s=e,c=u,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Pn(s,t,Ht,!Kn);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=ur+300-Ot(),10<u)){if(Pn(s,t,Ht,!Kn),Es(s,0,!0)!==0)break e;Dn=t,s.timeoutHandle=I_(s_.bind(null,s,i,At,cr,tc,t,Ht,xi,El,Kn,c,"Throttled",-0,0),u);break e}s_(s,i,At,cr,tc,t,Ht,xi,El,Kn,c,null,-0,0)}}break}while(!0);cn(e)}function s_(e,t,i,s,u,c,m,p,S,N,x,U,M,O){if(e.timeoutHandle=-1,U=t.subtreeFlags,U&8192||(U&16785408)===16785408){U={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},Pm(t,c,U);var G=(c&62914560)===c?ur-Ot():(c&4194048)===c?n_-Ot():0;if(G=m1(U,G),G!==null){Dn=c,e.cancelPendingCommit=G(m_.bind(null,e,t,c,i,s,u,m,p,S,x,U,null,M,O)),Pn(e,c,m,!N);return}}m_(e,t,c,i,s,u,m,p,S)}function O0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var u=i[s],c=u.getSnapshot;u=u.value;try{if(!zt(c(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t,i,s){t&=~ec,t&=~xi,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var c=31-xt(u),m=1<<c;s[c]=-1,u&=~m}i!==0&&gh(e,i,t)}function fr(){return(pe&6)===0?(xa(0),!1):!0}function ac(){if(re!==null){if(Se===0)var e=re.return;else e=re,yn=Ci=null,So(e),hl=null,ma=0,e=re;for(;e!==null;)Bm(e.alternate,e),e=e.return;re=null}}function bl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,J0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Dn=0,ac(),Re=e,re=i=gn(e.current,null),fe=t,Se=0,Bt=null,Kn=!1,vl=Wl(e,t),$o=!1,El=Ht=ec=xi=Zn=ke=0,At=Oa=null,tc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-xt(s),c=1<<u;t|=e[u],s&=~c}return Mn=t,xs(),i}function r_(e,t){P=null,z.H=ba,t===fl||t===ks?(t=Cd(),Se=3):t===uo?(t=Cd(),Se=4):Se=t===Bo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,re===null&&(ke=1,er(e,Yt(t,e.current)))}function u_(){var e=Ut.current;return e===null?!0:(fe&4194048)===fe?Ft===null:(fe&62914560)===fe||(fe&536870912)!==0?e===Ft:!1}function o_(){var e=z.H;return z.H=ba,e===null?ba:e}function c_(){var e=z.A;return z.A=M0,e}function hr(){ke=4,Kn||(fe&4194048)!==fe&&Ut.current!==null||(vl=!0),(Zn&134217727)===0&&(xi&134217727)===0||Re===null||Pn(Re,fe,Ht,!1)}function sc(e,t,i){var s=pe;pe|=2;var u=o_(),c=c_();(Re!==e||fe!==t)&&(cr=null,bl(e,t)),t=!1;var m=ke;e:do try{if(Se!==0&&re!==null){var p=re,S=Bt;switch(Se){case 8:ac(),m=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(t=!0);var N=Se;if(Se=0,Bt=null,Cl(e,p,S,N),i&&vl){m=0;break e}break;default:N=Se,Se=0,Bt=null,Cl(e,p,S,N)}}w0(),m=ke;break}catch(x){r_(e,x)}while(!0);return t&&e.shellSuspendCounter++,yn=Ci=null,pe=s,z.H=u,z.A=c,re===null&&(Re=null,fe=0,xs()),m}function w0(){for(;re!==null;)f_(re)}function x0(e,t){var i=pe;pe|=2;var s=o_(),u=c_();Re!==e||fe!==t?(cr=null,or=Ot()+500,bl(e,t)):vl=Wl(e,t);e:do try{if(Se!==0&&re!==null){t=re;var c=Bt;t:switch(Se){case 1:Se=0,Bt=null,Cl(e,t,c,1);break;case 2:case 9:if(Sd(c)){Se=0,Bt=null,h_(t);break}t=function(){Se!==2&&Se!==9||Re!==e||(Se=7),cn(e)},c.then(t,t);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:Sd(c)?(Se=0,Bt=null,h_(t)):(Se=0,Bt=null,Cl(e,t,c,7));break;case 5:var m=null;switch(re.tag){case 26:m=re.memoizedState;case 5:case 27:var p=re;if(m?W_(m):p.stateNode.complete){Se=0,Bt=null;var S=p.sibling;if(S!==null)re=S;else{var N=p.return;N!==null?(re=N,dr(N)):re=null}break t}}Se=0,Bt=null,Cl(e,t,c,5);break;case 6:Se=0,Bt=null,Cl(e,t,c,6);break;case 8:ac(),ke=6;break e;default:throw Error(r(462))}}z0();break}catch(x){r_(e,x)}while(!0);return yn=Ci=null,z.H=s,z.A=u,pe=i,re!==null?0:(Re=null,fe=0,xs(),ke)}function z0(){for(;re!==null&&!nv();)f_(re)}function f_(e){var t=Um(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,t===null?dr(e):re=t}function h_(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Dm(i,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=Dm(i,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:So(t);default:Bm(i,t),t=re=cd(t,Mn),t=Um(i,t,Mn)}e.memoizedProps=e.pendingProps,t===null?dr(e):re=t}function Cl(e,t,i,s){yn=Ci=null,So(t),hl=null,ma=0;var u=t.return;try{if(S0(e,u,t,i,fe)){ke=1,er(e,Yt(i,e.current)),re=null;return}}catch(c){if(u!==null)throw re=u,c;ke=1,er(e,Yt(i,e.current)),re=null;return}t.flags&32768?(de||s===1?e=!0:vl||(fe&536870912)!==0?e=!1:(Kn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ut.current,s!==null&&s.tag===13&&(s.flags|=16384))),d_(t,e)):dr(t)}function dr(e){var t=e;do{if((t.flags&32768)!==0){d_(t,Kn);return}e=t.return;var i=T0(t.alternate,t,Mn);if(i!==null){re=i;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);ke===0&&(ke=5)}function d_(e,t){do{var i=A0(e.alternate,e);if(i!==null){i.flags&=32767,re=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){re=e;return}re=e=i}while(e!==null);ke=6,re=null}function m_(e,t,i,s,u,c,m,p,S){e.cancelPendingCommit=null;do mr();while($e!==0);if((pe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=Fu,hv(e,i,c,m,p,S),e===Re&&(re=Re=null,fe=0),Sl=t,Wn=e,Dn=i,nc=c,ic=u,i_=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,B0(gs,function(){return v_(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null,u=j.p,j.p=2,m=pe,pe|=4;try{N0(e,t,i)}finally{pe=m,j.p=u,z.T=s}}$e=1,__(),g_(),p_()}}function __(){if($e===1){$e=0;var e=Wn,t=Sl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=z.T,z.T=null;var s=j.p;j.p=2;var u=pe;pe|=4;try{Zm(t,e);var c=yc,m=td(e.containerInfo),p=c.focusedElem,S=c.selectionRange;if(m!==p&&p&&p.ownerDocument&&ed(p.ownerDocument.documentElement,p)){if(S!==null&&Gu(p)){var N=S.start,x=S.end;if(x===void 0&&(x=N),"selectionStart"in p)p.selectionStart=N,p.selectionEnd=Math.min(x,p.value.length);else{var U=p.ownerDocument||document,M=U&&U.defaultView||window;if(M.getSelection){var O=M.getSelection(),G=p.textContent.length,K=Math.min(S.start,G),Ne=S.end===void 0?K:Math.min(S.end,G);!O.extend&&K>Ne&&(m=Ne,Ne=K,K=m);var T=$h(p,K),b=$h(p,Ne);if(T&&b&&(O.rangeCount!==1||O.anchorNode!==T.node||O.anchorOffset!==T.offset||O.focusNode!==b.node||O.focusOffset!==b.offset)){var A=U.createRange();A.setStart(T.node,T.offset),O.removeAllRanges(),K>Ne?(O.addRange(A),O.extend(b.node,b.offset)):(A.setEnd(b.node,b.offset),O.addRange(A))}}}}for(U=[],O=p;O=O.parentNode;)O.nodeType===1&&U.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<U.length;p++){var L=U[p];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Nr=!!pc,yc=pc=null}finally{pe=u,j.p=s,z.T=i}}e.current=t,$e=2}}function g_(){if($e===2){$e=0;var e=Wn,t=Sl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=z.T,z.T=null;var s=j.p;j.p=2;var u=pe;pe|=4;try{Vm(e,t.alternate,t)}finally{pe=u,j.p=s,z.T=i}}$e=3}}function p_(){if($e===4||$e===3){$e=0,iv();var e=Wn,t=Sl,i=Dn,s=i_;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?$e=5:($e=0,Sl=Wn=null,y_(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Jn=null),Cu(i),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Jl,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=z.T,u=j.p,j.p=2,z.T=null;try{for(var c=e.onRecoverableError,m=0;m<s.length;m++){var p=s[m];c(p.value,{componentStack:p.stack})}}finally{z.T=t,j.p=u}}(Dn&3)!==0&&mr(),cn(e),u=e.pendingLanes,(i&261930)!==0&&(u&42)!==0?e===lc?wa++:(wa=0,lc=e):wa=0,xa(0)}}function y_(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ha(t)))}function mr(){return __(),g_(),p_(),v_()}function v_(){if($e!==5)return!1;var e=Wn,t=nc;nc=0;var i=Cu(Dn),s=z.T,u=j.p;try{j.p=32>i?32:i,z.T=null,i=ic,ic=null;var c=Wn,m=Dn;if($e=0,Sl=Wn=null,Dn=0,(pe&6)!==0)throw Error(r(331));var p=pe;if(pe|=4,e_(c.current),Wm(c,c.current,m,i),pe=p,xa(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Jl,c)}catch{}return!0}finally{j.p=u,z.T=s,y_(e,t)}}function E_(e,t,i){t=Yt(i,t),t=Io(e.stateNode,t,2),e=Vn(e,t,2),e!==null&&(Pl(e,2),cn(e))}function be(e,t,i){if(e.tag===3)E_(e,e,i);else for(;t!==null;){if(t.tag===3){E_(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Jn===null||!Jn.has(s))){e=Yt(i,e),i=Sm(2),s=Vn(t,i,2),s!==null&&(bm(i,s,t,e),Pl(s,2),cn(s));break}}t=t.return}}function rc(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new D0;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(i)||($o=!0,u.add(i),e=L0.bind(null,e,t,i),t.then(e,e))}function L0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Re===e&&(fe&i)===i&&(ke===4||ke===3&&(fe&62914560)===fe&&300>Ot()-ur?(pe&2)===0&&bl(e,0):ec|=i,El===fe&&(El=0)),cn(e)}function S_(e,t){t===0&&(t=_h()),e=Ei(e,t),e!==null&&(Pl(e,t),cn(e))}function U0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),S_(e,i)}function I0(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),S_(e,i)}function B0(e,t){return vu(e,t)}var _r=null,Tl=null,uc=!1,gr=!1,oc=!1,$n=0;function cn(e){e!==Tl&&e.next===null&&(Tl===null?_r=Tl=e:Tl=Tl.next=e),gr=!0,uc||(uc=!0,j0())}function xa(e,t){if(!oc&&gr){oc=!0;do for(var i=!1,s=_r;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var c=0;else{var m=s.suspendedLanes,p=s.pingedLanes;c=(1<<31-xt(42|e)+1)-1,c&=u&~(m&~p),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,A_(s,c))}else c=fe,c=Es(s,s===Re?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||Wl(s,c)||(i=!0,A_(s,c));s=s.next}while(i);oc=!1}}function H0(){b_()}function b_(){gr=uc=!1;var e=0;$n!==0&&Z0()&&(e=$n);for(var t=Ot(),i=null,s=_r;s!==null;){var u=s.next,c=C_(s,t);c===0?(s.next=null,i===null?_r=u:i.next=u,u===null&&(Tl=i)):(i=s,(e!==0||(c&3)!==0)&&(gr=!0)),s=u}$e!==0&&$e!==5||xa(e),$n!==0&&($n=0)}function C_(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var m=31-xt(c),p=1<<m,S=u[m];S===-1?((p&i)===0||(p&s)!==0)&&(u[m]=fv(p,t)):S<=t&&(e.expiredLanes|=p),c&=~p}if(t=Re,i=fe,i=Es(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Eu(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Wl(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&Eu(s),Cu(i)){case 2:case 8:i=dh;break;case 32:i=gs;break;case 268435456:i=mh;break;default:i=gs}return s=T_.bind(null,e),i=vu(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&Eu(s),e.callbackPriority=2,e.callbackNode=null,2}function T_(e,t){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(mr()&&e.callbackNode!==i)return null;var s=fe;return s=Es(e,e===Re?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(a_(e,s,t),C_(e,Ot()),e.callbackNode!=null&&e.callbackNode===i?T_.bind(null,e):null)}function A_(e,t){if(mr())return null;a_(e,t,!0)}function j0(){W0(function(){(pe&6)!==0?vu(hh,H0):b_()})}function cc(){if($n===0){var e=ol;e===0&&(e=ps,ps<<=1,(ps&261888)===0&&(ps=256)),$n=e}return $n}function N_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ts(""+e)}function R_(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function k0(e,t,i,s,u){if(t==="submit"&&i&&i.stateNode===u){var c=N_((u[Et]||null).action),m=s.submitter;m&&(t=(t=m[Et]||null)?N_(t.formAction):m.getAttribute("formAction"),t!==null&&(c=t,m=null));var p=new Ms("action","action",null,s,u);e.push({event:p,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if($n!==0){var S=m?R_(u,m):new FormData(u);Oo(i,{pending:!0,data:S,method:u.method,action:c},null,S)}}else typeof c=="function"&&(p.preventDefault(),S=m?R_(u,m):new FormData(u),Oo(i,{pending:!0,data:S,method:u.method,action:c},c,S))},currentTarget:u}]})}}for(var fc=0;fc<Xu.length;fc++){var hc=Xu[fc],q0=hc.toLowerCase(),G0=hc[0].toUpperCase()+hc.slice(1);Wt(q0,"on"+G0)}Wt(ld,"onAnimationEnd"),Wt(ad,"onAnimationIteration"),Wt(sd,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(l0,"onTransitionRun"),Wt(a0,"onTransitionStart"),Wt(s0,"onTransitionCancel"),Wt(rd,"onTransitionEnd"),Zi("onMouseEnter",["mouseout","mouseover"]),Zi("onMouseLeave",["mouseout","mouseover"]),Zi("onPointerEnter",["pointerout","pointerover"]),Zi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(za));function M_(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],u=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var m=s.length-1;0<=m;m--){var p=s[m],S=p.instance,N=p.currentTarget;if(p=p.listener,S!==c&&u.isPropagationStopped())break e;c=p,u.currentTarget=N;try{c(u)}catch(x){ws(x)}u.currentTarget=null,c=S}else for(m=0;m<s.length;m++){if(p=s[m],S=p.instance,N=p.currentTarget,p=p.listener,S!==c&&u.isPropagationStopped())break e;c=p,u.currentTarget=N;try{c(u)}catch(x){ws(x)}u.currentTarget=null,c=S}}}}function ue(e,t){var i=t[Tu];i===void 0&&(i=t[Tu]=new Set);var s=e+"__bubble";i.has(s)||(D_(t,e,2,!1),i.add(s))}function dc(e,t,i){var s=0;t&&(s|=4),D_(i,e,s,t)}var pr="_reactListening"+Math.random().toString(36).slice(2);function mc(e){if(!e[pr]){e[pr]=!0,bh.forEach(function(i){i!=="selectionchange"&&(Y0.has(i)||dc(i,!1,e),dc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pr]||(t[pr]=!0,dc("selectionchange",!1,t))}}function D_(e,t,i,s){switch(lg(t)){case 2:var u=p1;break;case 8:u=y1;break;default:u=Dc}i=u.bind(null,t,i,e),u=void 0,!zu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function _c(e,t,i,s,u){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var p=s.stateNode.containerInfo;if(p===u)break;if(m===4)for(m=s.return;m!==null;){var S=m.tag;if((S===3||S===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;p!==null;){if(m=Xi(p),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){s=c=m;continue e}p=p.parentNode}}s=s.return}Lh(function(){var N=c,x=wu(i),U=[];e:{var M=ud.get(e);if(M!==void 0){var O=Ms,G=e;switch(e){case"keypress":if(Ns(i)===0)break e;case"keydown":case"keyup":O=Iv;break;case"focusin":G="focus",O=Bu;break;case"focusout":G="blur",O=Bu;break;case"beforeblur":case"afterblur":O=Bu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=Bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=Tv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=jv;break;case ld:case ad:case sd:O=Rv;break;case rd:O=qv;break;case"scroll":case"scrollend":O=bv;break;case"wheel":O=Yv;break;case"copy":case"cut":case"paste":O=Dv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=jh;break;case"toggle":case"beforetoggle":O=Qv}var K=(t&4)!==0,Ne=!K&&(e==="scroll"||e==="scrollend"),T=K?M!==null?M+"Capture":null:M;K=[];for(var b=N,A;b!==null;){var L=b;if(A=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||A===null||T===null||(L=ta(b,T),L!=null&&K.push(La(b,L,A))),Ne)break;b=b.return}0<K.length&&(M=new O(M,G,null,i,x),U.push({event:M,listeners:K}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",M&&i!==Ou&&(G=i.relatedTarget||i.fromElement)&&(Xi(G)||G[Qi]))break e;if((O||M)&&(M=x.window===x?x:(M=x.ownerDocument)?M.defaultView||M.parentWindow:window,O?(G=i.relatedTarget||i.toElement,O=N,G=G?Xi(G):null,G!==null&&(Ne=f(G),K=G.tag,G!==Ne||K!==5&&K!==27&&K!==6)&&(G=null)):(O=null,G=N),O!==G)){if(K=Bh,L="onMouseLeave",T="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(K=jh,L="onPointerLeave",T="onPointerEnter",b="pointer"),Ne=O==null?M:ea(O),A=G==null?M:ea(G),M=new K(L,b+"leave",O,i,x),M.target=Ne,M.relatedTarget=A,L=null,Xi(x)===N&&(K=new K(T,b+"enter",G,i,x),K.target=A,K.relatedTarget=Ne,L=K),Ne=L,O&&G)t:{for(K=V0,T=O,b=G,A=0,L=T;L;L=K(L))A++;L=0;for(var X=b;X;X=K(X))L++;for(;0<A-L;)T=K(T),A--;for(;0<L-A;)b=K(b),L--;for(;A--;){if(T===b||b!==null&&T===b.alternate){K=T;break t}T=K(T),b=K(b)}K=null}else K=null;O!==null&&O_(U,M,O,K,!1),G!==null&&Ne!==null&&O_(U,Ne,G,K,!0)}}e:{if(M=N?ea(N):window,O=M.nodeName&&M.nodeName.toLowerCase(),O==="select"||O==="input"&&M.type==="file")var me=Fh;else if(Qh(M))if(Kh)me=t0;else{me=$v;var Q=Pv}else O=M.nodeName,!O||O.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?N&&Du(N.elementType)&&(me=Fh):me=e0;if(me&&(me=me(e,N))){Xh(U,me,i,x);break e}Q&&Q(e,M,N),e==="focusout"&&N&&M.type==="number"&&N.memoizedProps.value!=null&&Mu(M,"number",M.value)}switch(Q=N?ea(N):window,e){case"focusin":(Qh(Q)||Q.contentEditable==="true")&&(tl=Q,Yu=N,oa=null);break;case"focusout":oa=Yu=tl=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,nd(U,i,x);break;case"selectionchange":if(i0)break;case"keydown":case"keyup":nd(U,i,x)}var te;if(ju)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else el?Yh(e,i)&&(he="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(he="onCompositionStart");he&&(kh&&i.locale!=="ko"&&(el||he!=="onCompositionStart"?he==="onCompositionEnd"&&el&&(te=Uh()):(Bn=x,Lu="value"in Bn?Bn.value:Bn.textContent,el=!0)),Q=yr(N,he),0<Q.length&&(he=new Hh(he,e,null,i,x),U.push({event:he,listeners:Q}),te?he.data=te:(te=Vh(i),te!==null&&(he.data=te)))),(te=Fv?Kv(e,i):Zv(e,i))&&(he=yr(N,"onBeforeInput"),0<he.length&&(Q=new Hh("onBeforeInput","beforeinput",null,i,x),U.push({event:Q,listeners:he}),Q.data=te)),k0(U,e,N,i,x)}M_(U,t)})}function La(e,t,i){return{instance:e,listener:t,currentTarget:i}}function yr(e,t){for(var i=t+"Capture",s=[];e!==null;){var u=e,c=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=ta(e,i),u!=null&&s.unshift(La(e,u,c)),u=ta(e,t),u!=null&&s.push(La(e,u,c))),e.tag===3)return s;e=e.return}return[]}function V0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function O_(e,t,i,s,u){for(var c=t._reactName,m=[];i!==null&&i!==s;){var p=i,S=p.alternate,N=p.stateNode;if(p=p.tag,S!==null&&S===s)break;p!==5&&p!==26&&p!==27||N===null||(S=N,u?(N=ta(i,c),N!=null&&m.unshift(La(i,N,S))):u||(N=ta(i,c),N!=null&&m.push(La(i,N,S)))),i=i.return}m.length!==0&&e.push({event:t,listeners:m})}var Q0=/\r\n?/g,X0=/\u0000|\uFFFD/g;function w_(e){return(typeof e=="string"?e:""+e).replace(Q0,`
`).replace(X0,"")}function x_(e,t){return t=w_(t),w_(e)===t}function Ae(e,t,i,s,u,c){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Wi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Wi(e,""+s);break;case"className":bs(e,"class",s);break;case"tabIndex":bs(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":bs(e,i,s);break;case"style":xh(e,s,c);break;case"data":if(t!=="object"){bs(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Ts(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&Ae(e,t,"name",u.name,u,null),Ae(e,t,"formEncType",u.formEncType,u,null),Ae(e,t,"formMethod",u.formMethod,u,null),Ae(e,t,"formTarget",u.formTarget,u,null)):(Ae(e,t,"encType",u.encType,u,null),Ae(e,t,"method",u.method,u,null),Ae(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Ts(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=mn);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Ts(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":ue("beforetoggle",e),ue("toggle",e),Ss(e,"popover",s);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ss(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ev.get(i)||i,Ss(e,i,s))}}function gc(e,t,i,s,u,c){switch(i){case"style":xh(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Wi(e,s):(typeof s=="number"||typeof s=="bigint")&&Wi(e,""+s);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"onClick":s!=null&&(e.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ch.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),c=e[Et]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,u),typeof s=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,u);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):Ss(e,i,s)}}}function dt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var s=!1,u=!1,c;for(c in i)if(i.hasOwnProperty(c)){var m=i[c];if(m!=null)switch(c){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ae(e,t,c,m,i,null)}}u&&Ae(e,t,"srcSet",i.srcSet,i,null),s&&Ae(e,t,"src",i.src,i,null);return;case"input":ue("invalid",e);var p=c=m=u=null,S=null,N=null;for(s in i)if(i.hasOwnProperty(s)){var x=i[s];if(x!=null)switch(s){case"name":u=x;break;case"type":m=x;break;case"checked":S=x;break;case"defaultChecked":N=x;break;case"value":c=x;break;case"defaultValue":p=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(137,t));break;default:Ae(e,t,s,x,i,null)}}Mh(e,c,p,S,N,m,u,!1);return;case"select":ue("invalid",e),s=m=c=null;for(u in i)if(i.hasOwnProperty(u)&&(p=i[u],p!=null))switch(u){case"value":c=p;break;case"defaultValue":m=p;break;case"multiple":s=p;default:Ae(e,t,u,p,i,null)}t=c,i=m,e.multiple=!!s,t!=null?Ji(e,!!s,t,!1):i!=null&&Ji(e,!!s,i,!0);return;case"textarea":ue("invalid",e),c=u=s=null;for(m in i)if(i.hasOwnProperty(m)&&(p=i[m],p!=null))switch(m){case"value":s=p;break;case"defaultValue":u=p;break;case"children":c=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:Ae(e,t,m,p,i,null)}Oh(e,s,u,c);return;case"option":for(S in i)i.hasOwnProperty(S)&&(s=i[S],s!=null)&&(S==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Ae(e,t,S,s,i,null));return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(s=0;s<za.length;s++)ue(za[s],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(s=i[N],s!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ae(e,t,N,s,i,null)}return;default:if(Du(t)){for(x in i)i.hasOwnProperty(x)&&(s=i[x],s!==void 0&&gc(e,t,x,s,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(s=i[p],s!=null&&Ae(e,t,p,s,i,null))}function F0(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,m=null,p=null,S=null,N=null,x=null;for(O in i){var U=i[O];if(i.hasOwnProperty(O)&&U!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":S=U;default:s.hasOwnProperty(O)||Ae(e,t,O,null,s,U)}}for(var M in s){var O=s[M];if(U=i[M],s.hasOwnProperty(M)&&(O!=null||U!=null))switch(M){case"type":c=O;break;case"name":u=O;break;case"checked":N=O;break;case"defaultChecked":x=O;break;case"value":m=O;break;case"defaultValue":p=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:O!==U&&Ae(e,t,M,O,s,U)}}Ru(e,m,p,S,N,x,c,u);return;case"select":O=m=p=M=null;for(c in i)if(S=i[c],i.hasOwnProperty(c)&&S!=null)switch(c){case"value":break;case"multiple":O=S;default:s.hasOwnProperty(c)||Ae(e,t,c,null,s,S)}for(u in s)if(c=s[u],S=i[u],s.hasOwnProperty(u)&&(c!=null||S!=null))switch(u){case"value":M=c;break;case"defaultValue":p=c;break;case"multiple":m=c;default:c!==S&&Ae(e,t,u,c,s,S)}t=p,i=m,s=O,M!=null?Ji(e,!!i,M,!1):!!s!=!!i&&(t!=null?Ji(e,!!i,t,!0):Ji(e,!!i,i?[]:"",!1));return;case"textarea":O=M=null;for(p in i)if(u=i[p],i.hasOwnProperty(p)&&u!=null&&!s.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Ae(e,t,p,null,s,u)}for(m in s)if(u=s[m],c=i[m],s.hasOwnProperty(m)&&(u!=null||c!=null))switch(m){case"value":M=u;break;case"defaultValue":O=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==c&&Ae(e,t,m,u,s,c)}Dh(e,M,O);return;case"option":for(var G in i)M=i[G],i.hasOwnProperty(G)&&M!=null&&!s.hasOwnProperty(G)&&(G==="selected"?e.selected=!1:Ae(e,t,G,null,s,M));for(S in s)M=s[S],O=i[S],s.hasOwnProperty(S)&&M!==O&&(M!=null||O!=null)&&(S==="selected"?e.selected=M&&typeof M!="function"&&typeof M!="symbol":Ae(e,t,S,M,s,O));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var K in i)M=i[K],i.hasOwnProperty(K)&&M!=null&&!s.hasOwnProperty(K)&&Ae(e,t,K,null,s,M);for(N in s)if(M=s[N],O=i[N],s.hasOwnProperty(N)&&M!==O&&(M!=null||O!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:Ae(e,t,N,M,s,O)}return;default:if(Du(t)){for(var Ne in i)M=i[Ne],i.hasOwnProperty(Ne)&&M!==void 0&&!s.hasOwnProperty(Ne)&&gc(e,t,Ne,void 0,s,M);for(x in s)M=s[x],O=i[x],!s.hasOwnProperty(x)||M===O||M===void 0&&O===void 0||gc(e,t,x,M,s,O);return}}for(var T in i)M=i[T],i.hasOwnProperty(T)&&M!=null&&!s.hasOwnProperty(T)&&Ae(e,t,T,null,s,M);for(U in s)M=s[U],O=i[U],!s.hasOwnProperty(U)||M===O||M==null&&O==null||Ae(e,t,U,M,s,O)}function z_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function K0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var u=i[s],c=u.transferSize,m=u.initiatorType,p=u.duration;if(c&&p&&z_(m)){for(m=0,p=u.responseEnd,s+=1;s<i.length;s++){var S=i[s],N=S.startTime;if(N>p)break;var x=S.transferSize,U=S.initiatorType;x&&z_(U)&&(S=S.responseEnd,m+=x*(S<p?1:(p-N)/(S-N)))}if(--s,t+=8*(c+m)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pc=null,yc=null;function vr(e){return e.nodeType===9?e:e.ownerDocument}function L_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ec=null;function Z0(){var e=window.event;return e&&e.type==="popstate"?e===Ec?!1:(Ec=e,!0):(Ec=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,J0=typeof clearTimeout=="function"?clearTimeout:void 0,B_=typeof Promise=="function"?Promise:void 0,W0=typeof queueMicrotask=="function"?queueMicrotask:typeof B_<"u"?function(e){return B_.resolve(null).then(e).catch(P0)}:I_;function P0(e){setTimeout(function(){throw e})}function ei(e){return e==="head"}function H_(e,t){var i=t,s=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(u),Ml(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Ua(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ua(i);for(var c=i.firstChild;c;){var m=c.nextSibling,p=c.nodeName;c[$l]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=m}}else i==="body"&&Ua(e.ownerDocument.body);i=u}while(i);Ml(t)}function j_(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function Sc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Sc(i),Au(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function $0(e,t,i,s){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[$l])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function e1(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Kt(e.nextSibling),e===null))return null;return e}function k_(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function bc(e){return e.data==="$?"||e.data==="$~"}function Cc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function t1(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Tc=null;function q_(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Kt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function G_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Y_(e,t,i){switch(t=vr(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ua(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Au(e)}var Zt=new Map,V_=new Set;function Er(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var On=j.d;j.d={f:n1,r:i1,D:l1,C:a1,L:s1,m:r1,X:o1,S:u1,M:c1};function n1(){var e=On.f(),t=fr();return e||t}function i1(e){var t=Fi(e);t!==null&&t.tag===5&&t.type==="form"?rm(t):On.r(e)}var Al=typeof document>"u"?null:document;function Q_(e,t,i){var s=Al;if(s&&typeof t=="string"&&t){var u=qt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),V_.has(u)||(V_.add(u),e={rel:e,crossOrigin:i,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),dt(t,"link",e),tt(t),s.head.appendChild(t)))}}function l1(e){On.D(e),Q_("dns-prefetch",e,null)}function a1(e,t){On.C(e,t),Q_("preconnect",e,t)}function s1(e,t,i){On.L(e,t,i);var s=Al;if(s&&e&&t){var u='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+qt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+qt(i.imageSizes)+'"]')):u+='[href="'+qt(e)+'"]';var c=u;switch(t){case"style":c=Nl(e);break;case"script":c=Rl(e)}Zt.has(c)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Zt.set(c,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(Ia(c))||t==="script"&&s.querySelector(Ba(c))||(t=s.createElement("link"),dt(t,"link",e),tt(t),s.head.appendChild(t)))}}function r1(e,t){On.m(e,t);var i=Al;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+qt(s)+'"][href="'+qt(e)+'"]',c=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Rl(e)}if(!Zt.has(c)&&(e=v({rel:"modulepreload",href:e},t),Zt.set(c,e),i.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ba(c)))return}s=i.createElement("link"),dt(s,"link",e),tt(s),i.head.appendChild(s)}}}function u1(e,t,i){On.S(e,t,i);var s=Al;if(s&&e){var u=Ki(s).hoistableStyles,c=Nl(e);t=t||"default";var m=u.get(c);if(!m){var p={loading:0,preload:null};if(m=s.querySelector(Ia(c)))p.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Zt.get(c))&&Ac(e,i);var S=m=s.createElement("link");tt(S),dt(S,"link",e),S._p=new Promise(function(N,x){S.onload=N,S.onerror=x}),S.addEventListener("load",function(){p.loading|=1}),S.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Sr(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:p},u.set(c,m)}}}function o1(e,t){On.X(e,t);var i=Al;if(i&&e){var s=Ki(i).hoistableScripts,u=Rl(e),c=s.get(u);c||(c=i.querySelector(Ba(u)),c||(e=v({src:e,async:!0},t),(t=Zt.get(u))&&Nc(e,t),c=i.createElement("script"),tt(c),dt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(u,c))}}function c1(e,t){On.M(e,t);var i=Al;if(i&&e){var s=Ki(i).hoistableScripts,u=Rl(e),c=s.get(u);c||(c=i.querySelector(Ba(u)),c||(e=v({src:e,async:!0,type:"module"},t),(t=Zt.get(u))&&Nc(e,t),c=i.createElement("script"),tt(c),dt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(u,c))}}function X_(e,t,i,s){var u=(u=se.current)?Er(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Nl(i.href),i=Ki(u).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Nl(i.href);var c=Ki(u).hoistableStyles,m=c.get(e);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,m),(c=u.querySelector(Ia(e)))&&!c._p&&(m.instance=c,m.state.loading=5),Zt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Zt.set(e,i),c||f1(u,e,i,m.state))),t&&s===null)throw Error(r(528,""));return m}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rl(i),i=Ki(u).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Nl(e){return'href="'+qt(e)+'"'}function Ia(e){return'link[rel="stylesheet"]['+e+"]"}function F_(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function f1(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),dt(t,"link",i),tt(t),e.head.appendChild(t))}function Rl(e){return'[src="'+qt(e)+'"]'}function Ba(e){return"script[async]"+e}function K_(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+qt(i.href)+'"]');if(s)return t.instance=s,tt(s),s;var u=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),tt(s),dt(s,"style",u),Sr(s,i.precedence,e),t.instance=s;case"stylesheet":u=Nl(i.href);var c=e.querySelector(Ia(u));if(c)return t.state.loading|=4,t.instance=c,tt(c),c;s=F_(i),(u=Zt.get(u))&&Ac(s,u),c=(e.ownerDocument||e).createElement("link"),tt(c);var m=c;return m._p=new Promise(function(p,S){m.onload=p,m.onerror=S}),dt(c,"link",s),t.state.loading|=4,Sr(c,i.precedence,e),t.instance=c;case"script":return c=Rl(i.src),(u=e.querySelector(Ba(c)))?(t.instance=u,tt(u),u):(s=i,(u=Zt.get(c))&&(s=v({},i),Nc(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),tt(u),dt(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Sr(s,i.precedence,e));return t.instance}function Sr(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,c=u,m=0;m<s.length;m++){var p=s[m];if(p.dataset.precedence===t)c=p;else if(c!==u)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Ac(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var br=null;function Z_(e,t,i){if(br===null){var s=new Map,u=br=new Map;u.set(i,s)}else u=br,s=u.get(i),s||(s=new Map,u.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var c=i[u];if(!(c[$l]||c[ot]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(t)||"";m=e+m;var p=s.get(m);p?p.push(c):s.set(m,[c])}}return s}function J_(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function h1(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function W_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function d1(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=Nl(s.href),c=t.querySelector(Ia(u));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Cr.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=c,tt(c);return}c=t.ownerDocument||t,s=F_(s),(u=Zt.get(u))&&Ac(s,u),c=c.createElement("link"),tt(c);var m=c;m._p=new Promise(function(p,S){m.onload=p,m.onerror=S}),dt(c,"link",s),i.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Cr.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Rc=0;function m1(e,t){return e.stylesheets&&e.count===0&&Ar(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Ar(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Rc===0&&(Rc=62500*K0());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ar(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Rc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function Cr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ar(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tr=null;function Ar(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tr=new Map,t.forEach(_1,e),Tr=null,Cr.call(e))}function _1(e,t){if(!(t.state.loading&4)){var i=Tr.get(e);if(i)var s=i.get(null);else{i=new Map,Tr.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var m=u[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(i.set(m.dataset.precedence,m),s=m)}s&&i.set(null,s)}u=t.instance,m=u.getAttribute("data-precedence"),c=i.get(m)||s,c===s&&i.set(null,u),i.set(m,u),this.count++,s=Cr.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),c?c.parentNode.insertBefore(u,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ha={$$typeof:V,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function g1(e,t,i,s,u,c,m,p,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Su(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Su(0),this.hiddenUpdates=Su(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function P_(e,t,i,s,u,c,m,p,S,N,x,U){return e=new g1(e,t,i,m,S,N,x,U,p),t=1,c===!0&&(t|=24),c=Lt(3,null,null,t),e.current=c,c.stateNode=e,t=ao(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:i,cache:t},oo(c),e}function $_(e){return e?(e=ll,e):ll}function eg(e,t,i,s,u,c){u=$_(u),s.context===null?s.context=u:s.pendingContext=u,s=Yn(t),s.payload={element:i},c=c===void 0?null:c,c!==null&&(s.callback=c),i=Vn(e,s,t),i!==null&&(Nt(i,e,t),ga(i,e,t))}function tg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Mc(e,t){tg(e,t),(e=e.alternate)&&tg(e,t)}function ng(e){if(e.tag===13||e.tag===31){var t=Ei(e,67108864);t!==null&&Nt(t,e,67108864),Mc(e,67108864)}}function ig(e){if(e.tag===13||e.tag===31){var t=jt();t=bu(t);var i=Ei(e,t);i!==null&&Nt(i,e,t),Mc(e,t)}}var Nr=!0;function p1(e,t,i,s){var u=z.T;z.T=null;var c=j.p;try{j.p=2,Dc(e,t,i,s)}finally{j.p=c,z.T=u}}function y1(e,t,i,s){var u=z.T;z.T=null;var c=j.p;try{j.p=8,Dc(e,t,i,s)}finally{j.p=c,z.T=u}}function Dc(e,t,i,s){if(Nr){var u=Oc(s);if(u===null)_c(e,t,s,Rr,i),ag(e,s);else if(E1(u,e,t,i,s))s.stopPropagation();else if(ag(e,s),t&4&&-1<v1.indexOf(e)){for(;u!==null;){var c=Fi(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=_i(c.pendingLanes);if(m!==0){var p=c;for(p.pendingLanes|=2,p.entangledLanes|=2;m;){var S=1<<31-xt(m);p.entanglements[1]|=S,m&=~S}cn(c),(pe&6)===0&&(or=Ot()+500,xa(0))}}break;case 31:case 13:p=Ei(c,2),p!==null&&Nt(p,c,2),fr(),Mc(c,2)}if(c=Oc(s),c===null&&_c(e,t,s,Rr,i),c===u)break;u=c}u!==null&&s.stopPropagation()}else _c(e,t,s,null,i)}}function Oc(e){return e=wu(e),wc(e)}var Rr=null;function wc(e){if(Rr=null,e=Xi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===31){if(e=g(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Rr=e,null}function lg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lv()){case hh:return 2;case dh:return 8;case gs:case av:return 32;case mh:return 268435456;default:return 32}default:return 32}}var xc=!1,ti=null,ni=null,ii=null,ja=new Map,ka=new Map,li=[],v1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ag(e,t){switch(e){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":ja.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(t.pointerId)}}function qa(e,t,i,s,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:c,targetContainers:[u]},t!==null&&(t=Fi(t),t!==null&&ng(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function E1(e,t,i,s,u){switch(t){case"focusin":return ti=qa(ti,e,t,i,s,u),!0;case"dragenter":return ni=qa(ni,e,t,i,s,u),!0;case"mouseover":return ii=qa(ii,e,t,i,s,u),!0;case"pointerover":var c=u.pointerId;return ja.set(c,qa(ja.get(c)||null,e,t,i,s,u)),!0;case"gotpointercapture":return c=u.pointerId,ka.set(c,qa(ka.get(c)||null,e,t,i,s,u)),!0}return!1}function sg(e){var t=Xi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,Eh(e.priority,function(){ig(i)});return}}else if(t===31){if(t=g(i),t!==null){e.blockedOn=t,Eh(e.priority,function(){ig(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Oc(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Ou=s,i.target.dispatchEvent(s),Ou=null}else return t=Fi(i),t!==null&&ng(t),e.blockedOn=i,!1;t.shift()}return!0}function rg(e,t,i){Mr(e)&&i.delete(t)}function S1(){xc=!1,ti!==null&&Mr(ti)&&(ti=null),ni!==null&&Mr(ni)&&(ni=null),ii!==null&&Mr(ii)&&(ii=null),ja.forEach(rg),ka.forEach(rg)}function Dr(e,t){e.blockedOn===t&&(e.blockedOn=null,xc||(xc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,S1)))}var Or=null;function ug(e){Or!==e&&(Or=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Or===e&&(Or=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(wc(s||i)===null)continue;break}var c=Fi(i);c!==null&&(e.splice(t,3),t-=3,Oo(c,{pending:!0,data:u,method:i.method,action:s},s,u))}}))}function Ml(e){function t(S){return Dr(S,e)}ti!==null&&Dr(ti,e),ni!==null&&Dr(ni,e),ii!==null&&Dr(ii,e),ja.forEach(t),ka.forEach(t);for(var i=0;i<li.length;i++){var s=li[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<li.length&&(i=li[0],i.blockedOn===null);)sg(i),i.blockedOn===null&&li.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var u=i[s],c=i[s+1],m=u[Et]||null;if(typeof c=="function")m||ug(i);else if(m){var p=null;if(c&&c.hasAttribute("formAction")){if(u=c,m=c[Et]||null)p=m.formAction;else if(wc(u)!==null)continue}else p=m.action;typeof p=="function"?i[s+1]=p:(i.splice(s,3),s-=3),ug(i)}}}function og(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(m){return u=m})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function zc(e){this._internalRoot=e}wr.prototype.render=zc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,s=jt();eg(i,s,e,t,null,null)},wr.prototype.unmount=zc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eg(e.current,2,null,e,null,null),fr(),t[Qi]=null}};function wr(e){this._internalRoot=e}wr.prototype.unstable_scheduleHydration=function(e){if(e){var t=vh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<li.length&&t!==0&&t<li[i].priority;i++);li.splice(i,0,e),i===0&&sg(e)}};var cg=n.version;if(cg!=="19.2.3")throw Error(r(527,cg,"19.2.3"));j.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var b1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xr.isDisabled&&xr.supportsFiber)try{Jl=xr.inject(b1),wt=xr}catch{}}return Ya.createRoot=function(e,t){if(!o(e))throw Error(r(299));var i=!1,s="",u=pm,c=ym,m=vm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=P_(e,1,!1,null,null,i,s,null,u,c,m,og),e[Qi]=t.current,mc(e),new zc(t)},Ya.hydrateRoot=function(e,t,i){if(!o(e))throw Error(r(299));var s=!1,u="",c=pm,m=ym,p=vm,S=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.formState!==void 0&&(S=i.formState)),t=P_(e,1,!0,t,i??null,s,u,S,c,m,p,og),t.context=$_(null),i=t.current,s=jt(),s=bu(s),u=Yn(s),u.callback=null,Vn(i,u,s),i=s,t.current.lanes=i,Pl(t,i),cn(t),e[Qi]=t.current,mc(e),new wr(t)},Ya.version="19.2.3",Ya}var Eg;function z1(){if(Eg)return Ic.exports;Eg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Ic.exports=x1(),Ic.exports}var L1=z1();const U1=()=>Date.now().toString(36)+Math.random().toString(36).substr(2,5).toUpperCase(),I1=a=>{const n=[...a];for(let l=n.length-1;l>0;l--){const r=Math.floor(Math.random()*(l+1));[n[l],n[r]]=[n[r],n[l]]}return n},B1=()=>{};var Sg={};const gp={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const H=function(a,n){if(!a)throw Yl(n)},Yl=function(a){return new Error("Firebase Database ("+gp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const pp=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},H1=function(a){const n=[];let l=0,r=0;for(;l<a.length;){const o=a[l++];if(o<128)n[r++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[l++];n[r++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[l++],h=a[l++],g=a[l++],d=((o&7)<<18|(f&63)<<12|(h&63)<<6|g&63)-65536;n[r++]=String.fromCharCode(55296+(d>>10)),n[r++]=String.fromCharCode(56320+(d&1023))}else{const f=a[l++],h=a[l++];n[r++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return n.join("")},Rf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const f=a[o],h=o+1<a.length,g=h?a[o+1]:0,d=o+2<a.length,_=d?a[o+2]:0,y=f>>2,v=(f&3)<<4|g>>4;let E=(g&15)<<2|_>>6,R=_&63;d||(R=64,h||(E=64)),r.push(l[y],l[v],l[E],l[R])}return r.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(pp(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):H1(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const f=l[a.charAt(o++)],g=o<a.length?l[a.charAt(o)]:0;++o;const _=o<a.length?l[a.charAt(o)]:64;++o;const v=o<a.length?l[a.charAt(o)]:64;if(++o,f==null||g==null||_==null||v==null)throw new j1;const E=f<<2|g>>4;if(r.push(E),_!==64){const R=g<<4&240|_>>2;if(r.push(R),v!==64){const D=_<<6&192|v;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class j1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yp=function(a){const n=pp(a);return Rf.encodeByteArray(n,!0)},Br=function(a){return yp(a).replace(/\./g,"")},Pc=function(a){try{return Rf.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function k1(a){return vp(void 0,a)}function vp(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!q1(l)||(a[l]=vp(a[l],n[l]));return a}function q1(a){return a!=="__proto__"}function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Y1=()=>G1().__FIREBASE_DEFAULTS__,V1=()=>{if(typeof process>"u"||typeof Sg>"u")return;const a=Sg.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Q1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&Pc(a[1]);return n&&JSON.parse(n)},Ep=()=>{try{return B1()||Y1()||V1()||Q1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},X1=a=>Ep()?.emulatorHosts?.[a],F1=a=>{const n=X1(a);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),r]:[n.substring(0,l),r]},Sp=()=>Ep()?.config;class fn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,r)=>{l?this.reject(l):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,r))}}}function Mf(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function K1(a){return(await fetch(a,{credentials:"include"})).ok}function Z1(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},r=n||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Br(JSON.stringify(l)),Br(JSON.stringify(h)),""].join(".")}const Za={};function J1(){const a={prod:[],emulator:[]};for(const n of Object.keys(Za))Za[n]?a.emulator.push(n):a.prod.push(n);return a}function W1(a){let n=document.getElementById(a),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),l=!0),{created:l,element:n}}let bg=!1;function P1(a,n){if(typeof window>"u"||typeof document>"u"||!Mf(window.location.host)||Za[a]===n||Za[a]||bg)return;Za[a]=n;function l(E){return`__firebase__banner__${E}`}const r="__firebase__banner",f=J1().prod.length>0;function h(){const E=document.getElementById(r);E&&E.remove()}function g(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,R){E.setAttribute("width","24"),E.setAttribute("id",R),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function _(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{bg=!0,h()},E}function y(E,R){E.setAttribute("id",R),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=W1(r),R=l("text"),D=document.getElementById(R)||document.createElement("span"),B=l("learnmore"),k=document.getElementById(B)||document.createElement("a"),$=l("preprendIcon"),ee=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const V=E.element;g(V),y(k,B);const ce=_();d(ee,$),V.append(ee,D,k,ce),document.body.appendChild(V)}f?(D.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function $1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($1())}function eE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tE(){return gp.NODE_ADMIN===!0}function nE(){try{return typeof indexedDB=="object"}catch{return!1}}function iE(){return new Promise((a,n)=>{try{let l=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),l||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{l=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(l){n(l)}})}const lE="FirebaseError";class cs extends Error{constructor(n,l,r){super(l),this.code=n,this.customData=r,this.name=lE,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cp.prototype.create)}}class Cp{constructor(n,l,r){this.service=n,this.serviceName=l,this.errors=r}create(n,...l){const r=l[0]||{},o=`${this.service}/${n}`,f=this.errors[n],h=f?aE(f,r):"Error",g=`${this.serviceName}: ${h} (${o}).`;return new cs(o,g,r)}}function aE(a,n){return a.replace(sE,(l,r)=>{const o=n[r];return o!=null?String(o):`<${r}?>`})}const sE=/\{\$([^}]+)}/g;function ts(a){return JSON.parse(a)}function st(a){return JSON.stringify(a)}const Tp=function(a){let n={},l={},r={},o="";try{const f=a.split(".");n=ts(Pc(f[0])||""),l=ts(Pc(f[1])||""),o=f[2],r=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:r,signature:o}},rE=function(a){const n=Tp(a),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},uE=function(a){const n=Tp(a).claims;return typeof n=="object"&&n.admin===!0};function hn(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Il(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function $c(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function Hr(a,n,l){const r={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=n.call(l,a[o],o,a));return r}function jr(a,n){if(a===n)return!0;const l=Object.keys(a),r=Object.keys(n);for(const o of l){if(!r.includes(o))return!1;const f=a[o],h=n[o];if(Cg(f)&&Cg(h)){if(!jr(f,h))return!1}else if(f!==h)return!1}for(const o of r)if(!l.includes(o))return!1;return!0}function Cg(a){return a!==null&&typeof a=="object"}function oE(a){const n=[];for(const[l,r]of Object.entries(a))Array.isArray(r)?r.forEach(o=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}class cE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const r=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)r[v]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let v=0;v<16;v++)r[v]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let v=16;v<80;v++){const E=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],g=this.chain_[3],d=this.chain_[4],_,y;for(let v=0;v<80;v++){v<40?v<20?(_=g^f&(h^g),y=1518500249):(_=f^h^g,y=1859775393):v<60?(_=f&h|g&(f|h),y=2400959708):(_=f^h^g,y=3395469782);const E=(o<<5|o>>>27)+_+d+y+r[v]&4294967295;d=g,g=h,h=(f<<30|f>>>2)&4294967295,f=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const r=l-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<l;){if(h===0)for(;o<=r;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<l;)if(f[h]=n.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<l;)if(f[h]=n[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=l&255,l/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[o]>>f&255,++r;return n}}function Bl(a,n){return`${a} failed: ${n} argument `}const fE=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);if(o>=55296&&o<=56319){const f=o-55296;r++,H(r<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(r)-56320;o=65536+(f<<10)+h}o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):o<65536?(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},nu=function(a){let n=0;for(let l=0;l<a.length;l++){const r=a.charCodeAt(l);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,l++):n+=3}return n};function Vl(a){return a&&a._delegate?a._delegate:a}class ns{constructor(n,l,r){this.name=n,this.instanceFactory=l,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const zi="[DEFAULT]";class hE{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const r=new fn;if(this.instancesDeferred.set(l,r),this.isInitialized(l)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:l});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),r=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(mE(n))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(const[l,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:o});r.resolve(f)}catch{}}}}clearInstance(n=zi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=zi){return this.instances.has(n)}getOptions(n=zi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:l});for(const[f,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);r===g&&h.resolve(o)}return o}onInit(n,l){const r=this.normalizeInstanceIdentifier(l),o=this.onInitCallbacks.get(r)??new Set;o.add(n),this.onInitCallbacks.set(r,o);const f=this.instances.get(r);return f&&n(f,r),()=>{o.delete(n)}}invokeOnInitCallbacks(n,l){const r=this.onInitCallbacks.get(l);if(r)for(const o of r)try{o(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dE(n),options:l}),this.instances.set(n,r),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=zi){return this.component?this.component.multipleInstances?n:zi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dE(a){return a===zi?void 0:a}function mE(a){return a.instantiationMode==="EAGER"}class _E{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new hE(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Oe||(Oe={}));const gE={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},pE=Oe.INFO,yE={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},vE=(a,n,...l)=>{if(n<a.logLevel)return;const r=new Date().toISOString(),o=yE[n];if(o)console[o](`[${r}]  ${a.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Ap{constructor(n){this.name=n,this._logLevel=pE,this._logHandler=vE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Oe))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?gE[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...n),this._logHandler(this,Oe.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...n),this._logHandler(this,Oe.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...n),this._logHandler(this,Oe.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...n),this._logHandler(this,Oe.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...n),this._logHandler(this,Oe.ERROR,...n)}}const EE=(a,n)=>n.some(l=>a instanceof l);let Tg,Ag;function SE(){return Tg||(Tg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bE(){return Ag||(Ag=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Np=new WeakMap,ef=new WeakMap,Rp=new WeakMap,kc=new WeakMap,Df=new WeakMap;function CE(a){const n=new Promise((l,r)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",h)},f=()=>{l(ri(a.result)),o()},h=()=>{r(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&Np.set(l,a)}).catch(()=>{}),Df.set(n,a),n}function TE(a){if(ef.has(a))return;const n=new Promise((l,r)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",h),a.removeEventListener("abort",h)},f=()=>{l(),o()},h=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",h),a.addEventListener("abort",h)});ef.set(a,n)}let tf={get(a,n,l){if(a instanceof IDBTransaction){if(n==="done")return ef.get(a);if(n==="objectStoreNames")return a.objectStoreNames||Rp.get(a);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return ri(a[n])},set(a,n,l){return a[n]=l,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function AE(a){tf=a(tf)}function NE(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const r=a.call(qc(this),n,...l);return Rp.set(r,n.sort?n.sort():[n]),ri(r)}:bE().includes(a)?function(...n){return a.apply(qc(this),n),ri(Np.get(this))}:function(...n){return ri(a.apply(qc(this),n))}}function RE(a){return typeof a=="function"?NE(a):(a instanceof IDBTransaction&&TE(a),EE(a,SE())?new Proxy(a,tf):a)}function ri(a){if(a instanceof IDBRequest)return CE(a);if(kc.has(a))return kc.get(a);const n=RE(a);return n!==a&&(kc.set(a,n),Df.set(n,a)),n}const qc=a=>Df.get(a);function ME(a,n,{blocked:l,upgrade:r,blocking:o,terminated:f}={}){const h=indexedDB.open(a,n),g=ri(h);return r&&h.addEventListener("upgradeneeded",d=>{r(ri(h.result),d.oldVersion,d.newVersion,ri(h.transaction),d)}),l&&h.addEventListener("blocked",d=>l(d.oldVersion,d.newVersion,d)),g.then(d=>{f&&d.addEventListener("close",()=>f()),o&&d.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const DE=["get","getKey","getAll","getAllKeys","count"],OE=["put","add","delete","clear"],Gc=new Map;function Ng(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(Gc.get(n))return Gc.get(n);const l=n.replace(/FromIndex$/,""),r=n!==l,o=OE.includes(l);if(!(l in(r?IDBIndex:IDBObjectStore).prototype)||!(o||DE.includes(l)))return;const f=async function(h,...g){const d=this.transaction(h,o?"readwrite":"readonly");let _=d.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[l](...g),o&&d.done]))[0]};return Gc.set(n,f),f}AE(a=>({...a,get:(n,l,r)=>Ng(n,l)||a.get(n,l,r),has:(n,l)=>!!Ng(n,l)||a.has(n,l)}));class wE{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(xE(l)){const r=l.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(l=>l).join(" ")}}function xE(a){return a.getComponent()?.type==="VERSION"}const nf="@firebase/app",Rg="0.14.6";const zn=new Ap("@firebase/app"),zE="@firebase/app-compat",LE="@firebase/analytics-compat",UE="@firebase/analytics",IE="@firebase/app-check-compat",BE="@firebase/app-check",HE="@firebase/auth",jE="@firebase/auth-compat",kE="@firebase/database",qE="@firebase/data-connect",GE="@firebase/database-compat",YE="@firebase/functions",VE="@firebase/functions-compat",QE="@firebase/installations",XE="@firebase/installations-compat",FE="@firebase/messaging",KE="@firebase/messaging-compat",ZE="@firebase/performance",JE="@firebase/performance-compat",WE="@firebase/remote-config",PE="@firebase/remote-config-compat",$E="@firebase/storage",eS="@firebase/storage-compat",tS="@firebase/firestore",nS="@firebase/ai",iS="@firebase/firestore-compat",lS="firebase",aS="12.6.0";const lf="[DEFAULT]",sS={[nf]:"fire-core",[zE]:"fire-core-compat",[UE]:"fire-analytics",[LE]:"fire-analytics-compat",[BE]:"fire-app-check",[IE]:"fire-app-check-compat",[HE]:"fire-auth",[jE]:"fire-auth-compat",[kE]:"fire-rtdb",[qE]:"fire-data-connect",[GE]:"fire-rtdb-compat",[YE]:"fire-fn",[VE]:"fire-fn-compat",[QE]:"fire-iid",[XE]:"fire-iid-compat",[FE]:"fire-fcm",[KE]:"fire-fcm-compat",[ZE]:"fire-perf",[JE]:"fire-perf-compat",[WE]:"fire-rc",[PE]:"fire-rc-compat",[$E]:"fire-gcs",[eS]:"fire-gcs-compat",[tS]:"fire-fst",[iS]:"fire-fst-compat",[nS]:"fire-vertex","fire-js":"fire-js",[lS]:"fire-js-all"};const kr=new Map,rS=new Map,af=new Map;function Mg(a,n){try{a.container.addComponent(n)}catch(l){zn.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,l)}}function qr(a){const n=a.name;if(af.has(n))return zn.debug(`There were multiple attempts to register component ${n}.`),!1;af.set(n,a);for(const l of kr.values())Mg(l,a);for(const l of rS.values())Mg(l,a);return!0}function uS(a,n){const l=a.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),a.container.getProvider(n)}function oS(a){return a==null?!1:a.settings!==void 0}const cS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new Cp("app","Firebase",cS);class fS{constructor(n,l,r){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}const hS=aS;function Mp(a,n={}){let l=a;typeof n!="object"&&(n={name:n});const r={name:lf,automaticDataCollectionEnabled:!0,...n},o=r.name;if(typeof o!="string"||!o)throw ui.create("bad-app-name",{appName:String(o)});if(l||(l=Sp()),!l)throw ui.create("no-options");const f=kr.get(o);if(f){if(jr(l,f.options)&&jr(r,f.config))return f;throw ui.create("duplicate-app",{appName:o})}const h=new _E(o);for(const d of af.values())h.addComponent(d);const g=new fS(l,r,h);return kr.set(o,g),g}function dS(a=lf){const n=kr.get(a);if(!n&&a===lf&&Sp())return Mp();if(!n)throw ui.create("no-app",{appName:a});return n}function xl(a,n,l){let r=sS[a]??a;l&&(r+=`-${l}`);const o=r.match(/\s|\//),f=n.match(/\s|\//);if(o||f){const h=[`Unable to register library "${r}" with version "${n}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),zn.warn(h.join(" "));return}qr(new ns(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}const mS="firebase-heartbeat-database",_S=1,is="firebase-heartbeat-store";let Yc=null;function Dp(){return Yc||(Yc=ME(mS,_S,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(is)}catch(l){console.warn(l)}}}}).catch(a=>{throw ui.create("idb-open",{originalErrorMessage:a.message})})),Yc}async function gS(a){try{const l=(await Dp()).transaction(is),r=await l.objectStore(is).get(Op(a));return await l.done,r}catch(n){if(n instanceof cs)zn.warn(n.message);else{const l=ui.create("idb-get",{originalErrorMessage:n?.message});zn.warn(l.message)}}}async function Dg(a,n){try{const r=(await Dp()).transaction(is,"readwrite");await r.objectStore(is).put(n,Op(a)),await r.done}catch(l){if(l instanceof cs)zn.warn(l.message);else{const r=ui.create("idb-set",{originalErrorMessage:l?.message});zn.warn(r.message)}}}function Op(a){return`${a.name}!${a.options.appId}`}const pS=1024,yS=30;class vS{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new SS(l),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Og();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:l}),this._heartbeatsCache.heartbeats.length>yS){const o=bS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){zn.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Og(),{heartbeatsToSend:l,unsentEntries:r}=ES(this._heartbeatsCache.heartbeats),o=Br(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return zn.warn(n),""}}}function Og(){return new Date().toISOString().substring(0,10)}function ES(a,n=pS){const l=[];let r=a.slice();for(const o of a){const f=l.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),wg(l)>n){f.dates.pop();break}}else if(l.push({agent:o.agent,dates:[o.date]}),wg(l)>n){l.pop();break}r=r.slice(1)}return{heartbeatsToSend:l,unsentEntries:r}}class SS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nE()?iE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await gS(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return Dg(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return Dg(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function wg(a){return Br(JSON.stringify({version:2,heartbeats:a})).length}function bS(a){if(a.length===0)return-1;let n=0,l=a[0].date;for(let r=1;r<a.length;r++)a[r].date<l&&(l=a[r].date,n=r);return n}function CS(a){qr(new ns("platform-logger",n=>new wE(n),"PRIVATE")),qr(new ns("heartbeat",n=>new vS(n),"PRIVATE")),xl(nf,Rg,a),xl(nf,Rg,"esm2020"),xl("fire-js","")}CS("");var xg={};const zg="@firebase/database",Lg="1.1.0";let wp="";function TS(a){wp=a}class AS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),st(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:ts(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class NS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return hn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const xp=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new AS(n)}}catch{}return new NS},Ui=xp("localStorage"),RS=xp("sessionStorage");const zl=new Ap("@firebase/database"),MS=(function(){let a=1;return function(){return a++}})(),zp=function(a){const n=fE(a),l=new cE;l.update(n);const r=l.digest();return Rf.encodeByteArray(r)},fs=function(...a){let n="";for(let l=0;l<a.length;l++){const r=a[l];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=fs.apply(null,r):typeof r=="object"?n+=st(r):n+=r,n+=" "}return n};let Ja=null,Ug=!0;const DS=function(a,n){H(!0,"Can't turn on custom loggers persistently."),zl.logLevel=Oe.VERBOSE,Ja=zl.log.bind(zl)},at=function(...a){if(Ug===!0&&(Ug=!1,Ja===null&&RS.get("logging_enabled")===!0&&DS()),Ja){const n=fs.apply(null,a);Ja(n)}},hs=function(a){return function(...n){at(a,...n)}},sf=function(...a){const n="FIREBASE INTERNAL ERROR: "+fs(...a);zl.error(n)},Ln=function(...a){const n=`FIREBASE FATAL ERROR: ${fs(...a)}`;throw zl.error(n),new Error(n)},yt=function(...a){const n="FIREBASE WARNING: "+fs(...a);zl.warn(n)},OS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},iu=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},wS=function(a){if(document.readyState==="complete")a();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Hl="[MIN_NAME]",Hi="[MAX_NAME]",Yi=function(a,n){if(a===n)return 0;if(a===Hl||n===Hi)return-1;if(n===Hl||a===Hi)return 1;{const l=Ig(a),r=Ig(n);return l!==null?r!==null?l-r===0?a.length-n.length:l-r:-1:r!==null?1:a<n?-1:1}},xS=function(a,n){return a===n?0:a<n?-1:1},Va=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+st(n))},Of=function(a){if(typeof a!="object"||a===null)return st(a);const n=[];for(const r in a)n.push(r);n.sort();let l="{";for(let r=0;r<n.length;r++)r!==0&&(l+=","),l+=st(n[r]),l+=":",l+=Of(a[n[r]]);return l+="}",l},Lp=function(a,n){const l=a.length;if(l<=n)return[a];const r=[];for(let o=0;o<l;o+=n)o+n>l?r.push(a.substring(o,l)):r.push(a.substring(o,o+n));return r};function rt(a,n){for(const l in a)a.hasOwnProperty(l)&&n(l,a[l])}const Up=function(a){H(!iu(a),"Invalid JSON number");const n=11,l=52,r=(1<<n-1)-1;let o,f,h,g,d;a===0?(f=0,h=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-r)?(g=Math.min(Math.floor(Math.log(a)/Math.LN2),r),f=g+r,h=Math.round(a*Math.pow(2,l-g)-Math.pow(2,l))):(f=0,h=Math.round(a/Math.pow(2,1-r-l))));const _=[];for(d=l;d;d-=1)_.push(h%2?1:0),h=Math.floor(h/2);for(d=n;d;d-=1)_.push(f%2?1:0),f=Math.floor(f/2);_.push(o?1:0),_.reverse();const y=_.join("");let v="";for(d=0;d<64;d+=8){let E=parseInt(y.substr(d,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},zS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},LS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function US(a,n){let l="Unknown Error";a==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?l="Client doesn't have permission to access the desired data.":a==="unavailable"&&(l="The service is unavailable");const r=new Error(a+" at "+n._path.toString()+": "+l);return r.code=a.toUpperCase(),r}const IS=new RegExp("^-?(0*)\\d{1,10}$"),BS=-2147483648,HS=2147483647,Ig=function(a){if(IS.test(a)){const n=Number(a);if(n>=BS&&n<=HS)return n}return null},Ql=function(a){try{a()}catch(n){setTimeout(()=>{const l=n.stack||"";throw yt("Exception was thrown by user callback.",l),n},Math.floor(0))}},jS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Wa=function(a,n){const l=setTimeout(a,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};class kS{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,oS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qS{constructor(n,l,r){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(n)}}class Ur{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Ur.OWNER="owner";const wf="5",Ip="v",Bp="s",Hp="r",jp="f",kp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qp="ls",Gp="p",rf="ac",Yp="websocket",Vp="long_polling";class Qp{constructor(n,l,r,o,f=!1,h="",g=!1,d=!1,_=null){this.secure=l,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=d,this.emulatorOptions=_,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ui.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ui.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function GS(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function Xp(a,n,l){H(typeof n=="string","typeof type must == string"),H(typeof l=="object","typeof params must == object");let r;if(n===Yp)r=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===Vp)r=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);GS(a)&&(l.ns=a.namespace);const o=[];return rt(l,(f,h)=>{o.push(f+"="+h)}),r+o.join("&")}class YS{constructor(){this.counters_={}}incrementCounter(n,l=1){hn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return k1(this.counters_)}}const Vc={},Qc={};function xf(a){const n=a.toString();return Vc[n]||(Vc[n]=new YS),Vc[n]}function VS(a,n){const l=a.toString();return Qc[l]||(Qc[l]=n()),Qc[l]}class QS{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Ql(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Bg="start",XS="close",FS="pLPCommand",KS="pRTLPCB",Fp="id",Kp="pw",Zp="ser",ZS="cb",JS="seg",WS="ts",PS="d",$S="dframe",Jp=1870,Wp=30,eb=Jp-Wp,tb=25e3,nb=3e4;class Ol{constructor(n,l,r,o,f,h,g){this.connId=n,this.repoInfo=l,this.applicationId=r,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hs(n),this.stats_=xf(l),this.urlFn=d=>(this.appCheckToken&&(d[rf]=this.appCheckToken),Xp(l,Vp,d))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new QS(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(nb)),wS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zf((...f)=>{const[h,g,d,_,y]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===Bg)this.id=g,this.password=d;else if(h===XS)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,g]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,g)},()=>{this.onClosed_()},this.urlFn);const r={};r[Bg]="t",r[Zp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ZS]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ip]=wf,this.transportSessionId&&(r[Bp]=this.transportSessionId),this.lastSessionId&&(r[qp]=this.lastSessionId),this.applicationId&&(r[Gp]=this.applicationId),this.appCheckToken&&(r[rf]=this.appCheckToken),typeof location<"u"&&location.hostname&&kp.test(location.hostname)&&(r[Hp]=jp);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ol.forceAllow_=!0}static forceDisallow(){Ol.forceDisallow_=!0}static isAvailable(){return Ol.forceAllow_?!0:!Ol.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!zS()&&!LS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=st(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=yp(l),o=Lp(r,eb);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const r={};r[$S]="t",r[Fp]=n,r[Kp]=l,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=st(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class zf{constructor(n,l,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=MS(),window[FS+this.uniqueCallbackIdentifier]=n,window[KS+this.uniqueCallbackIdentifier]=l,this.myIFrame=zf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(g){at("frame writing exception"),g.stack&&at(g.stack),at(g)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||at("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Fp]=this.myID,n[Kp]=this.myPW,n[Zp]=this.currentSerial;let l=this.urlFn(n),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Wp+r.length<=Jp;){const h=this.pendingSegs.shift();r=r+"&"+JS+o+"="+h.seg+"&"+WS+o+"="+h.ts+"&"+PS+o+"="+h.d,o++}return l=l+r,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,r){this.pendingSegs.push({seg:n,ts:l,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const r=()=>{this.outstandingRequests.delete(l),this.newRequest_()},o=setTimeout(r,Math.floor(tb)),f=()=>{clearTimeout(o),r()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),l())},r.onerror=()=>{at("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const ib=16384,lb=45e3;let Gr=null;typeof MozWebSocket<"u"?Gr=MozWebSocket:typeof WebSocket<"u"&&(Gr=WebSocket);class en{constructor(n,l,r,o,f,h,g){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hs(this.connId),this.stats_=xf(l),this.connURL=en.connectionURL_(l,h,g,o,r),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,r,o,f){const h={};return h[Ip]=wf,typeof location<"u"&&location.hostname&&kp.test(location.hostname)&&(h[Hp]=jp),l&&(h[Bp]=l),r&&(h[qp]=r),o&&(h[rf]=o),f&&(h[Gp]=f),Xp(n,Yp,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ui.set("previous_websocket_failure",!0);try{let r;tE(),this.mySock=new Gr(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){en.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(l);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Gr!==null&&!en.forceDisallow_}static previouslyFailed(){return Ui.isInMemoryStorage||Ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ui.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const r=ts(l);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(H(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const r=this.extractFrameCount_(l);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const l=st(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=Lp(l,ib);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lb))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}en.responsesRequiredToBeHealthy=2;en.healthyTimeout=3e4;class ls{static get ALL_TRANSPORTS(){return[Ol,en]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=en&&en.isAvailable();let r=l&&!en.previouslyFailed();if(n.webSocketOnly&&(l||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[en];else{const o=this.transports_=[];for(const f of ls.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);ls.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ls.globalTransportInitialized_=!1;const ab=6e4,sb=5e3,rb=10*1024,ub=100*1024,Xc="t",Hg="d",ob="s",jg="r",cb="e",kg="o",qg="a",Gg="n",Yg="p",fb="h";class hb{constructor(n,l,r,o,f,h,g,d,_,y){this.id=n,this.repoInfo_=l,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=g,this.onDisconnect_=d,this.onKill_=_,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hs("c:"+this.id+":"),this.transportManager_=new ls(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,r)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Wa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ub?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>rb?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Xc in n){const l=n[Xc];l===qg?this.upgradeIfSecondaryHealthy_():l===jg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===kg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Va("t",n),r=Va("d",n);if(l==="c")this.onSecondaryControl_(r);else if(l==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Yg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Gg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Va("t",n),r=Va("d",n);l==="c"?this.onControl_(r):l==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Va(Xc,n);if(Hg in n){const r=n[Hg];if(l===fb){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(l===Gg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===ob?this.onConnectionShutdown_(r):l===jg?this.onReset_(r):l===cb?sf("Server Error: "+r):l===kg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sf("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,r=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),wf!==r&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,r),Wa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ab))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(sb))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Yg,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Pp{put(n,l,r,o){}merge(n,l,r,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,r){}onDisconnectMerge(n,l,r){}onDisconnectCancel(n,l){}reportStats(n){}}class $p{constructor(n){this.allowedEvents_=n,this.listeners_={},H(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,l)}}on(n,l,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:r});const o=this.getInitialEvent(n);o&&l.apply(r,o)}off(n,l,r){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let f=0;f<o.length;f++)if(o[f].callback===l&&(!r||r===o[f].context)){o.splice(f,1);return}}validateEventType_(n){H(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}class Yr extends $p{static getInstance(){return new Yr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!bp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return H(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const Vg=32,Qg=768;class Ce{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function ye(){return new Ce("")}function ne(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function ci(a){return a.pieces_.length-a.pieceNum_}function Me(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new Ce(a.pieces_,n)}function Lf(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function db(a){let n="";for(let l=a.pieceNum_;l<a.pieces_.length;l++)a.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[l])));return n||"/"}function as(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function ey(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let l=a.pieceNum_;l<a.pieces_.length-1;l++)n.push(a.pieces_[l]);return new Ce(n,0)}function Ue(a,n){const l=[];for(let r=a.pieceNum_;r<a.pieces_.length;r++)l.push(a.pieces_[r]);if(n instanceof Ce)for(let r=n.pieceNum_;r<n.pieces_.length;r++)l.push(n.pieces_[r]);else{const r=n.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&l.push(r[o])}return new Ce(l,0)}function le(a){return a.pieceNum_>=a.pieces_.length}function Rt(a,n){const l=ne(a),r=ne(n);if(l===null)return n;if(l===r)return Rt(Me(a),Me(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function mb(a,n){const l=as(a,0),r=as(n,0);for(let o=0;o<l.length&&o<r.length;o++){const f=Yi(l[o],r[o]);if(f!==0)return f}return l.length===r.length?0:l.length<r.length?-1:1}function Uf(a,n){if(ci(a)!==ci(n))return!1;for(let l=a.pieceNum_,r=n.pieceNum_;l<=a.pieces_.length;l++,r++)if(a.pieces_[l]!==n.pieces_[r])return!1;return!0}function Jt(a,n){let l=a.pieceNum_,r=n.pieceNum_;if(ci(a)>ci(n))return!1;for(;l<a.pieces_.length;){if(a.pieces_[l]!==n.pieces_[r])return!1;++l,++r}return!0}class _b{constructor(n,l){this.errorPrefix_=l,this.parts_=as(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=nu(this.parts_[r]);ty(this)}}function gb(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=nu(n),ty(a)}function pb(a){const n=a.parts_.pop();a.byteLength_-=nu(n),a.parts_.length>0&&(a.byteLength_-=1)}function ty(a){if(a.byteLength_>Qg)throw new Error(a.errorPrefix_+"has a key path longer than "+Qg+" bytes ("+a.byteLength_+").");if(a.parts_.length>Vg)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Vg+") or object contains a cycle "+Li(a))}function Li(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class If extends $p{static getInstance(){return new If}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return H(n==="visible","Unknown event type: "+n),[this.visible_]}}const Qa=1e3,yb=300*1e3,Xg=30*1e3,vb=1.3,Eb=3e4,Sb="server_kill",Fg=3;class xn extends Pp{constructor(n,l,r,o,f,h,g,d){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=g,this.authOverride_=d,this.id=xn.nextPersistentConnectionId_++,this.log_=hs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qa,this.maxReconnectDelay_=yb,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");If.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Yr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,r){const o=++this.requestNumber_,f={r:o,a:n,b:l};this.log_(st(f)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();const l=new fn,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const g=h.d;h.s==="ok"?l.resolve(g):l.reject(g)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,r,o){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),H(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const g={onComplete:o,hashFn:l,query:n,tag:r};this.listens.get(h).set(f,g),this.connected_&&this.sendListen_(g)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(r)})}sendListen_(n){const l=n.query,r=l._path.toString(),o=l._queryIdentifier;this.log_("Listen on "+r+" for "+o);const f={p:r},h="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,g=>{const d=g.d,_=g.s;xn.warnOnListenWarnings_(d,l),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",g),_!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(_,d))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&hn(n,"w")){const r=Il(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||uE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Xg)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=rE(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(l,r,o=>{const f=o.s,h=o.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,r=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,r)})}unlisten(n,l){const r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),H(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,l)}sendUnlisten_(n,l,r,o){this.log_("Unlisten on "+n+" for "+l);const f={p:n},h="n";o&&(f.q=r,f.t=o),this.sendRequest(h,f)}onDisconnectPut(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:r})}onDisconnectMerge(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:r})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,r,o){const f={p:l,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(n,l,r,o){this.putInternal("p",n,l,r,o)}merge(n,l,r,o){this.putInternal("m",n,l,r,o)}putInternal(n,l,r,o,f){this.initConnection_();const h={p:l,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:o}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,r,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+st(n));const l=n.r,r=this.requestCBHash_[l];r&&(delete this.requestCBHash_[l],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):sf("Unrecognized action received from server: "+st(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Eb&&(this.reconnectDelay_=Qa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vb)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+xn.nextConnectionId_++,f=this.lastSessionId;let h=!1,g=null;const d=function(){g?g.close():(h=!0,r())},_=function(v){H(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(v)};this.realtime_={close:d,sendRequest:_};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);h?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,g=new hb(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,r,R=>{yt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(Sb)},f))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&yt(v),d())}}}interrupt(n){at("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){at("Resuming connection for reason: "+n),delete this.interruptReasons_[n],$c(this.interruptReasons_)&&(this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let r;l?r=l.map(f=>Of(f)).join("$"):r="default";const o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,l){const r=new Ce(n).toString();let o;if(this.listens.has(r)){const f=this.listens.get(r);o=f.get(l),f.delete(l),f.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,l){at("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Fg&&(this.reconnectDelay_=Xg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){at("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Fg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+wp.replace(/\./g,"-")]=1,bp()?n["framework.cordova"]=1:eE()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Yr.getInstance().currentlyOnline();return $c(this.interruptReasons_)&&n}}xn.nextPersistentConnectionId_=0;xn.nextConnectionId_=0;class ae{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new ae(n,l)}}class lu{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const r=new ae(Hl,n),o=new ae(Hl,l);return this.compare(r,o)!==0}minPost(){return ae.MIN}}let zr;class ny extends lu{static get __EMPTY_NODE(){return zr}static set __EMPTY_NODE(n){zr=n}compare(n,l){return Yi(n.name,l.name)}isDefinedOn(n){throw Yl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return ae.MIN}maxPost(){return new ae(Hi,zr)}makePost(n,l){return H(typeof n=="string","KeyIndex indexValue must always be a string."),new ae(n,zr)}toString(){return".key"}}const Ll=new ny;class Lr{constructor(n,l,r,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?r(n.key,l):1,o&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class lt{constructor(n,l,r,o,f){this.key=n,this.value=l,this.color=r??lt.RED,this.left=o??Mt.EMPTY_NODE,this.right=f??Mt.EMPTY_NODE}copy(n,l,r,o,f){return new lt(n??this.key,l??this.value,r??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,r){let o=this;const f=r(n,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(n,l,r),null):f===0?o=o.copy(null,l,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,l,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let r,o;if(r=this,l(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,l),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),l(n,r.key)===0){if(r.right.isEmpty())return Mt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,l))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}lt.RED=!0;lt.BLACK=!1;class bb{copy(n,l,r,o,f){return this}insert(n,l,r){return new lt(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Mt{constructor(n,l=Mt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new Mt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,lt.BLACK,null,null))}remove(n){return new Mt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,lt.BLACK,null,null))}get(n){let l,r=this.root_;for(;!r.isEmpty();){if(l=this.comparator_(n,r.key),l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}getPredecessorKey(n){let l,r=this.root_,o=null;for(;!r.isEmpty();)if(l=this.comparator_(n,r.key),l===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else l<0?r=r.left:l>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Lr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Lr(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Lr(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Lr(this.root_,null,this.comparator_,!0,n)}}Mt.EMPTY_NODE=new bb;function Cb(a,n){return Yi(a.name,n.name)}function Bf(a,n){return Yi(a,n)}let uf;function Tb(a){uf=a}const iy=function(a){return typeof a=="number"?"number:"+Up(a):"string:"+a},ly=function(a){if(a.isLeafNode()){const n=a.val();H(typeof n=="string"||typeof n=="number"||typeof n=="object"&&hn(n,".sv"),"Priority must be a string or number.")}else H(a===uf||a.isEmpty(),"priority of unexpected type.");H(a===uf||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Kg;class it{static set __childrenNodeConstructor(n){Kg=n}static get __childrenNodeConstructor(){return Kg}constructor(n,l=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ly(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new it(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return le(n)?this:ne(n)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const r=ne(n);return r===null?l:l.isEmpty()&&r!==".priority"?this:(H(r!==".priority"||ci(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+iy(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=Up(this.value_):n+=this.value_,this.lazyHash_=zp(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===it.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof it.__childrenNodeConstructor?-1:(H(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,r=typeof this.value_,o=it.VALUE_TYPE_ORDER.indexOf(l),f=it.VALUE_TYPE_ORDER.indexOf(r);return H(o>=0,"Unknown leaf type: "+l),H(f>=0,"Unknown leaf type: "+r),o===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];let ay,sy;function Ab(a){ay=a}function Nb(a){sy=a}class Rb extends lu{compare(n,l){const r=n.node.getPriority(),o=l.node.getPriority(),f=r.compareTo(o);return f===0?Yi(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(Hi,new it("[PRIORITY-POST]",sy))}makePost(n,l){const r=ay(n);return new ae(l,new it("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ie=new Rb;const Mb=Math.log(2);class Db{constructor(n){const l=f=>parseInt(Math.log(f)/Mb,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const o=r(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Vr=function(a,n,l,r){a.sort(n);const o=function(d,_){const y=_-d;let v,E;if(y===0)return null;if(y===1)return v=a[d],E=l?l(v):v,new lt(E,v.node,lt.BLACK,null,null);{const R=parseInt(y/2,10)+d,D=o(d,R),B=o(R+1,_);return v=a[R],E=l?l(v):v,new lt(E,v.node,lt.BLACK,D,B)}},f=function(d){let _=null,y=null,v=a.length;const E=function(D,B){const k=v-D,$=v;v-=D;const ee=o(k+1,$),V=a[k],ce=l?l(V):V;R(new lt(ce,V.node,B,null,ee))},R=function(D){_?(_.left=D,_=D):(y=D,_=D)};for(let D=0;D<d.count;++D){const B=d.nextBitIsOne(),k=Math.pow(2,d.count-(D+1));B?E(k,lt.BLACK):(E(k,lt.BLACK),E(k,lt.RED))}return y},h=new Db(a.length),g=f(h);return new Mt(r||n,g)};let Fc;const Dl={};class wn{static get Default(){return H(Dl&&Ie,"ChildrenNode.ts has not been loaded"),Fc=Fc||new wn({".priority":Dl},{".priority":Ie}),Fc}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=Il(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof Mt?l:null}hasIndex(n){return hn(this.indexSet_,n.toString())}addIndex(n,l){H(n!==Ll,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const f=l.getIterator(ae.Wrap);let h=f.getNext();for(;h;)o=o||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let g;o?g=Vr(r,n.getCompare()):g=Dl;const d=n.toString(),_={...this.indexSet_};_[d]=n;const y={...this.indexes_};return y[d]=g,new wn(y,_)}addToIndexes(n,l){const r=Hr(this.indexes_,(o,f)=>{const h=Il(this.indexSet_,f);if(H(h,"Missing index implementation for "+f),o===Dl)if(h.isDefinedOn(n.node)){const g=[],d=l.getIterator(ae.Wrap);let _=d.getNext();for(;_;)_.name!==n.name&&g.push(_),_=d.getNext();return g.push(n),Vr(g,h.getCompare())}else return Dl;else{const g=l.get(n.name);let d=o;return g&&(d=d.remove(new ae(n.name,g))),d.insert(n,n.node)}});return new wn(r,this.indexSet_)}removeFromIndexes(n,l){const r=Hr(this.indexes_,o=>{if(o===Dl)return o;{const f=l.get(n.name);return f?o.remove(new ae(n.name,f)):o}});return new wn(r,this.indexSet_)}}let Xa;class Z{static get EMPTY_NODE(){return Xa||(Xa=new Z(new Mt(Bf),null,wn.Default))}constructor(n,l,r){this.children_=n,this.priorityNode_=l,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ly(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xa}updatePriority(n){return this.children_.isEmpty()?this:new Z(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?Xa:l}}getChild(n){const l=ne(n);return l===null?this:this.getImmediateChild(l).getChild(Me(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(H(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const r=new ae(n,l);let o,f;l.isEmpty()?(o=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?Xa:this.priorityNode_;return new Z(o,h,f)}}updateChild(n,l){const r=ne(n);if(r===null)return l;{H(ne(n)!==".priority"||ci(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Me(n),l);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let r=0,o=0,f=!0;if(this.forEachChild(Ie,(h,g)=>{l[h]=g.val(n),r++,f&&Z.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!n&&f&&o<2*r){const h=[];for(const g in l)h[g]=l[g];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+iy(this.getPriority().val())+":"),this.forEachChild(Ie,(l,r)=>{const o=r.hash();o!==""&&(n+=":"+l+":"+o)}),this.lazyHash_=n===""?"":zp(n)}return this.lazyHash_}getPredecessorChildName(n,l,r){const o=this.resolveIndex_(r);if(o){const f=o.getPredecessorKey(new ae(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new ae(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new ae(l,this.children_.get(l)):null}forEachChild(n,l){const r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>l(o.name,o.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ae.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ae.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)>0;)o.getNext(),f=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ds?-1:0}withIndex(n){if(n===Ll||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new Z(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Ll||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const r=this.getIterator(Ie),o=l.getIterator(Ie);let f=r.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Ll?null:this.indexMap_.get(n.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Ob extends Z{constructor(){super(new Mt(Bf),Z.EMPTY_NODE,wn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Z.EMPTY_NODE}isEmpty(){return!1}}const ds=new Ob;Object.defineProperties(ae,{MIN:{value:new ae(Hl,Z.EMPTY_NODE)},MAX:{value:new ae(Hi,ds)}});ny.__EMPTY_NODE=Z.EMPTY_NODE;it.__childrenNodeConstructor=Z;Tb(ds);Nb(ds);const wb=!0;function Xe(a,n=null){if(a===null)return Z.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),H(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const l=a;return new it(l,Xe(n))}if(!(a instanceof Array)&&wb){const l=[];let r=!1;if(rt(a,(h,g)=>{if(h.substring(0,1)!=="."){const d=Xe(g);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),l.push(new ae(h,d)))}}),l.length===0)return Z.EMPTY_NODE;const f=Vr(l,Cb,h=>h.name,Bf);if(r){const h=Vr(l,Ie.getCompare());return new Z(f,Xe(n),new wn({".priority":h},{".priority":Ie}))}else return new Z(f,Xe(n),wn.Default)}else{let l=Z.EMPTY_NODE;return rt(a,(r,o)=>{if(hn(a,r)&&r.substring(0,1)!=="."){const f=Xe(o);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(r,f))}}),l.updatePriority(Xe(n))}}Ab(Xe);class xb extends lu{constructor(n){super(),this.indexPath_=n,H(!le(n)&&ne(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const r=this.extractChild(n.node),o=this.extractChild(l.node),f=r.compareTo(o);return f===0?Yi(n.name,l.name):f}makePost(n,l){const r=Xe(n),o=Z.EMPTY_NODE.updateChild(this.indexPath_,r);return new ae(l,o)}maxPost(){const n=Z.EMPTY_NODE.updateChild(this.indexPath_,ds);return new ae(Hi,n)}toString(){return as(this.indexPath_,0).join("/")}}class zb extends lu{compare(n,l){const r=n.node.compareTo(l.node);return r===0?Yi(n.name,l.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(n,l){const r=Xe(n);return new ae(l,r)}toString(){return".value"}}const Lb=new zb;function ry(a){return{type:"value",snapshotNode:a}}function jl(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function ss(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function rs(a,n,l){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:l}}function Ub(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}class Hf{constructor(n){this.index_=n}updateChild(n,l,r,o,f,h){H(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=n.getImmediateChild(l);return g.getChild(o).equals(r.getChild(o))&&g.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(l)?h.trackChildChange(ss(l,g)):H(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?h.trackChildChange(jl(l,r)):h.trackChildChange(rs(l,r,g))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(l,r).withIndex(this.index_)}updateFullNode(n,l,r){return r!=null&&(n.isLeafNode()||n.forEachChild(Ie,(o,f)=>{l.hasChild(o)||r.trackChildChange(ss(o,f))}),l.isLeafNode()||l.forEachChild(Ie,(o,f)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(f)||r.trackChildChange(rs(o,f,h))}else r.trackChildChange(jl(o,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?Z.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class us{constructor(n){this.indexedFilter_=new Hf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=us.getStartPost_(n),this.endPost_=us.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&r}updateChild(n,l,r,o,f,h){return this.matches(new ae(l,r))||(r=Z.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,r,o,f,h)}updateFullNode(n,l,r){l.isLeafNode()&&(l=Z.EMPTY_NODE);let o=l.withIndex(this.index_);o=o.updatePriority(Z.EMPTY_NODE);const f=this;return l.forEachChild(Ie,(h,g)=>{f.matches(new ae(h,g))||(o=o.updateImmediateChild(h,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}class Ib{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=l=>{const r=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new us(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,r,o,f,h){return this.rangedFilter_.matches(new ae(l,r))||(r=Z.EMPTY_NODE),n.getImmediateChild(l).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,r,o,f,h):this.fullLimitUpdateChild_(n,l,r,f,h)}updateFullNode(n,l,r){let o;if(l.isLeafNode()||l.isEmpty())o=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){o=Z.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const g=f.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))o=o.updateImmediateChild(g.name,g.node),h++;else break;else continue}}else{o=l.withIndex(this.index_),o=o.updatePriority(Z.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const g=f.getNext();h<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?h++:o=o.updateImmediateChild(g.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,r,o,f){let h;if(this.reverse_){const v=this.index_.getCompare();h=(E,R)=>v(R,E)}else h=this.index_.getCompare();const g=n;H(g.numChildren()===this.limit_,"");const d=new ae(l,r),_=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),y=this.rangedFilter_.matches(d);if(g.hasChild(l)){const v=g.getImmediateChild(l);let E=o.getChildAfterChild(this.index_,_,this.reverse_);for(;E!=null&&(E.name===l||g.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const R=E==null?1:h(E,d);if(y&&!r.isEmpty()&&R>=0)return f?.trackChildChange(rs(l,r,v)),g.updateImmediateChild(l,r);{f?.trackChildChange(ss(l,v));const B=g.updateImmediateChild(l,Z.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(f?.trackChildChange(jl(E.name,E.node)),B.updateImmediateChild(E.name,E.node)):B}}else return r.isEmpty()?n:y&&h(_,d)>=0?(f!=null&&(f.trackChildChange(ss(_.name,_.node)),f.trackChildChange(jl(l,r))),g.updateImmediateChild(l,r).updateImmediateChild(_.name,Z.EMPTY_NODE)):n}}class jf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hl}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){const n=new jf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Bb(a){return a.loadsAllData()?new Hf(a.getIndex()):a.hasLimit()?new Ib(a):new us(a)}function Zg(a){const n={};if(a.isDefault())return n;let l;if(a.index_===Ie?l="$priority":a.index_===Lb?l="$value":a.index_===Ll?l="$key":(H(a.index_ instanceof xb,"Unrecognized index type!"),l=a.index_.toString()),n.orderBy=st(l),a.startSet_){const r=a.startAfterSet_?"startAfter":"startAt";n[r]=st(a.indexStartValue_),a.startNameSet_&&(n[r]+=","+st(a.indexStartName_))}if(a.endSet_){const r=a.endBeforeSet_?"endBefore":"endAt";n[r]=st(a.indexEndValue_),a.endNameSet_&&(n[r]+=","+st(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function Jg(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let l=a.viewFrom_;l===""&&(a.isViewFromLeft()?l="l":l="r"),n.vf=l}return a.index_!==Ie&&(n.i=a.index_.toString()),n}class Qr extends Pp{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(H(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,r,o){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=hs("p:rest:"),this.listens_={}}listen(n,l,r,o){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Qr.getListenId_(n,r),g={};this.listens_[h]=g;const d=Zg(n._queryParams);this.restRequest_(f+".json",d,(_,y)=>{let v=y;if(_===404&&(v=null,_=null),_===null&&this.onDataUpdate_(f,v,!1,r),Il(this.listens_,h)===g){let E;_?_===401?E="permission_denied":E="rest_error:"+_:E="ok",o(E,null)}})}unlisten(n,l){const r=Qr.getListenId_(n,l);delete this.listens_[r]}get(n){const l=Zg(n._queryParams),r=n._path.toString(),o=new fn;return this.restRequest_(r+".json",l,(f,h)=>{let g=h;f===404&&(g=null,f=null),f===null?(this.onDataUpdate_(r,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(n){}restRequest_(n,l={},r){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(l.auth=o.accessToken),f&&f.token&&(l.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+oE(l);this.log_("Sending REST request for "+h);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(r&&g.readyState===4){this.log_("REST Response for "+h+" received. status:",g.status,"response:",g.responseText);let d=null;if(g.status>=200&&g.status<300){try{d=ts(g.responseText)}catch{yt("Failed to parse JSON response for "+h+": "+g.responseText)}r(null,d)}else g.status!==401&&g.status!==404&&yt("Got unsuccessful REST response for "+h+" Status: "+g.status),r(g.status);r=null}},g.open("GET",h,!0),g.send()})}}class Hb{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}function Xr(){return{value:null,children:new Map}}function Xl(a,n,l){if(le(n))a.value=l,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,l);else{const r=ne(n);a.children.has(r)||a.children.set(r,Xr());const o=a.children.get(r);n=Me(n),Xl(o,n,l)}}function of(a,n){if(le(n))return a.value=null,a.children.clear(),!0;if(a.value!==null){if(a.value.isLeafNode())return!1;{const l=a.value;return a.value=null,l.forEachChild(Ie,(r,o)=>{Xl(a,new Ce(r),o)}),of(a,n)}}else if(a.children.size>0){const l=ne(n);return n=Me(n),a.children.has(l)&&of(a.children.get(l),n)&&a.children.delete(l),a.children.size===0}else return!0}function cf(a,n,l){a.value!==null?l(n,a.value):jb(a,(r,o)=>{const f=new Ce(n.toString()+"/"+r);cf(o,f,l)})}function jb(a,n){a.children.forEach((l,r)=>{n(r,l)})}class kb{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&rt(this.last_,(r,o)=>{l[r]=l[r]-o}),this.last_=n,l}}const Wg=10*1e3,qb=30*1e3,Gb=300*1e3;class Yb{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new kb(n);const r=Wg+(qb-Wg)*Math.random();Wa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),l={};let r=!1;rt(n,(o,f)=>{f>0&&hn(this.statsToReport_,o)&&(l[o]=f,r=!0)}),r&&this.server_.reportStats(l),Wa(this.reportStats_.bind(this),Math.floor(Math.random()*2*Gb))}}var tn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(tn||(tn={}));function kf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Gf(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class Fr{constructor(n,l,r){this.path=n,this.affectedTree=l,this.revert=r,this.type=tn.ACK_USER_WRITE,this.source=kf()}operationForChild(n){if(le(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Ce(n));return new Fr(ye(),l,this.revert)}}else return H(ne(this.path)===n,"operationForChild called for unrelated child."),new Fr(Me(this.path),this.affectedTree,this.revert)}}class os{constructor(n,l){this.source=n,this.path=l,this.type=tn.LISTEN_COMPLETE}operationForChild(n){return le(this.path)?new os(this.source,ye()):new os(this.source,Me(this.path))}}class ji{constructor(n,l,r){this.source=n,this.path=l,this.snap=r,this.type=tn.OVERWRITE}operationForChild(n){return le(this.path)?new ji(this.source,ye(),this.snap.getImmediateChild(n)):new ji(this.source,Me(this.path),this.snap)}}class kl{constructor(n,l,r){this.source=n,this.path=l,this.children=r,this.type=tn.MERGE}operationForChild(n){if(le(this.path)){const l=this.children.subtree(new Ce(n));return l.isEmpty()?null:l.value?new ji(this.source,ye(),l.value):new kl(this.source,ye(),l)}else return H(ne(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new kl(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ki{constructor(n,l,r){this.node_=n,this.fullyInitialized_=l,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(le(n))return this.isFullyInitialized()&&!this.filtered_;const l=ne(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class Vb{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Qb(a,n,l,r){const o=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(Ub(h.childName,h.snapshotNode))}),Fa(a,o,"child_removed",n,r,l),Fa(a,o,"child_added",n,r,l),Fa(a,o,"child_moved",f,r,l),Fa(a,o,"child_changed",n,r,l),Fa(a,o,"value",n,r,l),o}function Fa(a,n,l,r,o,f){const h=r.filter(g=>g.type===l);h.sort((g,d)=>Fb(a,g,d)),h.forEach(g=>{const d=Xb(a,g,f);o.forEach(_=>{_.respondsTo(g.type)&&n.push(_.createEvent(d,a.query_))})})}function Xb(a,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function Fb(a,n,l){if(n.childName==null||l.childName==null)throw Yl("Should only compare child_ events.");const r=new ae(n.childName,n.snapshotNode),o=new ae(l.childName,l.snapshotNode);return a.index_.compare(r,o)}function au(a,n){return{eventCache:a,serverCache:n}}function Pa(a,n,l,r){return au(new ki(n,l,r),a.serverCache)}function uy(a,n,l,r){return au(a.eventCache,new ki(n,l,r))}function ff(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function qi(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let Kc;const Kb=()=>(Kc||(Kc=new Mt(xS)),Kc);class De{static fromObject(n){let l=new De(null);return rt(n,(r,o)=>{l=l.set(new Ce(r),o)}),l}constructor(n,l=Kb()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:ye(),value:this.value};if(le(n))return null;{const r=ne(n),o=this.children.get(r);if(o!==null){const f=o.findRootMostMatchingPathAndValue(Me(n),l);return f!=null?{path:Ue(new Ce(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(le(n))return this;{const l=ne(n),r=this.children.get(l);return r!==null?r.subtree(Me(n)):new De(null)}}set(n,l){if(le(n))return new De(l,this.children);{const r=ne(n),f=(this.children.get(r)||new De(null)).set(Me(n),l),h=this.children.insert(r,f);return new De(this.value,h)}}remove(n){if(le(n))return this.children.isEmpty()?new De(null):new De(null,this.children);{const l=ne(n),r=this.children.get(l);if(r){const o=r.remove(Me(n));let f;return o.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,o),this.value===null&&f.isEmpty()?new De(null):new De(this.value,f)}else return this}}get(n){if(le(n))return this.value;{const l=ne(n),r=this.children.get(l);return r?r.get(Me(n)):null}}setTree(n,l){if(le(n))return l;{const r=ne(n),f=(this.children.get(r)||new De(null)).setTree(Me(n),l);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new De(this.value,h)}}fold(n){return this.fold_(ye(),n)}fold_(n,l){const r={};return this.children.inorderTraversal((o,f)=>{r[o]=f.fold_(Ue(n,o),l)}),l(n,this.value,r)}findOnPath(n,l){return this.findOnPath_(n,ye(),l)}findOnPath_(n,l,r){const o=this.value?r(l,this.value):!1;if(o)return o;if(le(n))return null;{const f=ne(n),h=this.children.get(f);return h?h.findOnPath_(Me(n),Ue(l,f),r):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,ye(),l)}foreachOnPath_(n,l,r){if(le(n))return this;{this.value&&r(l,this.value);const o=ne(n),f=this.children.get(o);return f?f.foreachOnPath_(Me(n),Ue(l,o),r):new De(null)}}foreach(n){this.foreach_(ye(),n)}foreach_(n,l){this.children.inorderTraversal((r,o)=>{o.foreach_(Ue(n,r),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,r)=>{r.value&&n(l,r.value)})}}class nn{constructor(n){this.writeTree_=n}static empty(){return new nn(new De(null))}}function $a(a,n,l){if(le(n))return new nn(new De(l));{const r=a.writeTree_.findRootMostValueAndPath(n);if(r!=null){const o=r.path;let f=r.value;const h=Rt(o,n);return f=f.updateChild(h,l),new nn(a.writeTree_.set(o,f))}else{const o=new De(l),f=a.writeTree_.setTree(n,o);return new nn(f)}}}function hf(a,n,l){let r=a;return rt(l,(o,f)=>{r=$a(r,Ue(n,o),f)}),r}function Pg(a,n){if(le(n))return nn.empty();{const l=a.writeTree_.setTree(n,new De(null));return new nn(l)}}function df(a,n){return Vi(a,n)!=null}function Vi(a,n){const l=a.writeTree_.findRootMostValueAndPath(n);return l!=null?a.writeTree_.get(l.path).getChild(Rt(l.path,n)):null}function $g(a){const n=[],l=a.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Ie,(r,o)=>{n.push(new ae(r,o))}):a.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&n.push(new ae(r,o.value))}),n}function oi(a,n){if(le(n))return a;{const l=Vi(a,n);return l!=null?new nn(new De(l)):new nn(a.writeTree_.subtree(n))}}function mf(a){return a.writeTree_.isEmpty()}function ql(a,n){return oy(ye(),a.writeTree_,n)}function oy(a,n,l){if(n.value!=null)return l.updateChild(a,n.value);{let r=null;return n.children.inorderTraversal((o,f)=>{o===".priority"?(H(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):l=oy(Ue(a,o),f,l)}),!l.getChild(a).isEmpty()&&r!==null&&(l=l.updateChild(Ue(a,".priority"),r)),l}}function Yf(a,n){return dy(n,a)}function Zb(a,n,l,r,o){H(r>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:n,snap:l,writeId:r,visible:o}),o&&(a.visibleWrites=$a(a.visibleWrites,n,l)),a.lastWriteId=r}function Jb(a,n,l,r){H(r>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:n,children:l,writeId:r,visible:!0}),a.visibleWrites=hf(a.visibleWrites,n,l),a.lastWriteId=r}function Wb(a,n){for(let l=0;l<a.allWrites.length;l++){const r=a.allWrites[l];if(r.writeId===n)return r}return null}function Pb(a,n){const l=a.allWrites.findIndex(g=>g.writeId===n);H(l>=0,"removeWrite called with nonexistent writeId.");const r=a.allWrites[l];a.allWrites.splice(l,1);let o=r.visible,f=!1,h=a.allWrites.length-1;for(;o&&h>=0;){const g=a.allWrites[h];g.visible&&(h>=l&&$b(g,r.path)?o=!1:Jt(r.path,g.path)&&(f=!0)),h--}if(o){if(f)return e2(a),!0;if(r.snap)a.visibleWrites=Pg(a.visibleWrites,r.path);else{const g=r.children;rt(g,d=>{a.visibleWrites=Pg(a.visibleWrites,Ue(r.path,d))})}return!0}else return!1}function $b(a,n){if(a.snap)return Jt(a.path,n);for(const l in a.children)if(a.children.hasOwnProperty(l)&&Jt(Ue(a.path,l),n))return!0;return!1}function e2(a){a.visibleWrites=cy(a.allWrites,t2,ye()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function t2(a){return a.visible}function cy(a,n,l){let r=nn.empty();for(let o=0;o<a.length;++o){const f=a[o];if(n(f)){const h=f.path;let g;if(f.snap)Jt(l,h)?(g=Rt(l,h),r=$a(r,g,f.snap)):Jt(h,l)&&(g=Rt(h,l),r=$a(r,ye(),f.snap.getChild(g)));else if(f.children){if(Jt(l,h))g=Rt(l,h),r=hf(r,g,f.children);else if(Jt(h,l))if(g=Rt(h,l),le(g))r=hf(r,ye(),f.children);else{const d=Il(f.children,ne(g));if(d){const _=d.getChild(Me(g));r=$a(r,ye(),_)}}}else throw Yl("WriteRecord should have .snap or .children")}}return r}function fy(a,n,l,r,o){if(!r&&!o){const f=Vi(a.visibleWrites,n);if(f!=null)return f;{const h=oi(a.visibleWrites,n);if(mf(h))return l;if(l==null&&!df(h,ye()))return null;{const g=l||Z.EMPTY_NODE;return ql(h,g)}}}else{const f=oi(a.visibleWrites,n);if(!o&&mf(f))return l;if(!o&&l==null&&!df(f,ye()))return null;{const h=function(_){return(_.visible||o)&&(!r||!~r.indexOf(_.writeId))&&(Jt(_.path,n)||Jt(n,_.path))},g=cy(a.allWrites,h,n),d=l||Z.EMPTY_NODE;return ql(g,d)}}}function n2(a,n,l){let r=Z.EMPTY_NODE;const o=Vi(a.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Ie,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(l){const f=oi(a.visibleWrites,n);return l.forEachChild(Ie,(h,g)=>{const d=ql(oi(f,new Ce(h)),g);r=r.updateImmediateChild(h,d)}),$g(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=oi(a.visibleWrites,n);return $g(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function i2(a,n,l,r,o){H(r||o,"Either existingEventSnap or existingServerSnap must exist");const f=Ue(n,l);if(df(a.visibleWrites,f))return null;{const h=oi(a.visibleWrites,f);return mf(h)?o.getChild(l):ql(h,o.getChild(l))}}function l2(a,n,l,r){const o=Ue(n,l),f=Vi(a.visibleWrites,o);if(f!=null)return f;if(r.isCompleteForChild(l)){const h=oi(a.visibleWrites,o);return ql(h,r.getNode().getImmediateChild(l))}else return null}function a2(a,n){return Vi(a.visibleWrites,n)}function s2(a,n,l,r,o,f,h){let g;const d=oi(a.visibleWrites,n),_=Vi(d,ye());if(_!=null)g=_;else if(l!=null)g=ql(d,l);else return[];if(g=g.withIndex(h),!g.isEmpty()&&!g.isLeafNode()){const y=[],v=h.getCompare(),E=f?g.getReverseIteratorFrom(r,h):g.getIteratorFrom(r,h);let R=E.getNext();for(;R&&y.length<o;)v(R,r)!==0&&y.push(R),R=E.getNext();return y}else return[]}function r2(){return{visibleWrites:nn.empty(),allWrites:[],lastWriteId:-1}}function Kr(a,n,l,r){return fy(a.writeTree,a.treePath,n,l,r)}function Vf(a,n){return n2(a.writeTree,a.treePath,n)}function ep(a,n,l,r){return i2(a.writeTree,a.treePath,n,l,r)}function Zr(a,n){return a2(a.writeTree,Ue(a.treePath,n))}function u2(a,n,l,r,o,f){return s2(a.writeTree,a.treePath,n,l,r,o,f)}function Qf(a,n,l){return l2(a.writeTree,a.treePath,n,l)}function hy(a,n){return dy(Ue(a.treePath,n),a.writeTree)}function dy(a,n){return{treePath:a,writeTree:n}}class o2{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,r=n.childName;H(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),H(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const f=o.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(r,rs(r,n.snapshotNode,o.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(r,ss(r,o.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(r,jl(r,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(r,rs(r,n.snapshotNode,o.oldSnap));else throw Yl("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}class c2{getCompleteChild(n){return null}getChildAfterChild(n,l,r){return null}}const my=new c2;class Xf{constructor(n,l,r=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=r}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new ki(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qf(this.writes_,n,r)}}getChildAfterChild(n,l,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qi(this.viewCache_),f=u2(this.writes_,o,l,1,r,n);return f.length===0?null:f[0]}}function f2(a){return{filter:a}}function h2(a,n){H(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),H(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function d2(a,n,l,r,o){const f=new o2;let h,g;if(l.type===tn.OVERWRITE){const _=l;_.source.fromUser?h=_f(a,n,_.path,_.snap,r,o,f):(H(_.source.fromServer,"Unknown source."),g=_.source.tagged||n.serverCache.isFiltered()&&!le(_.path),h=Jr(a,n,_.path,_.snap,r,o,g,f))}else if(l.type===tn.MERGE){const _=l;_.source.fromUser?h=_2(a,n,_.path,_.children,r,o,f):(H(_.source.fromServer,"Unknown source."),g=_.source.tagged||n.serverCache.isFiltered(),h=gf(a,n,_.path,_.children,r,o,g,f))}else if(l.type===tn.ACK_USER_WRITE){const _=l;_.revert?h=y2(a,n,_.path,r,o,f):h=g2(a,n,_.path,_.affectedTree,r,o,f)}else if(l.type===tn.LISTEN_COMPLETE)h=p2(a,n,l.path,r,f);else throw Yl("Unknown operation type: "+l.type);const d=f.getChanges();return m2(n,h,d),{viewCache:h,changes:d}}function m2(a,n,l){const r=n.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=ff(a);(l.length>0||!a.eventCache.isFullyInitialized()||o&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&l.push(ry(ff(n)))}}function _y(a,n,l,r,o,f){const h=n.eventCache;if(Zr(r,l)!=null)return n;{let g,d;if(le(l))if(H(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const _=qi(n),y=_ instanceof Z?_:Z.EMPTY_NODE,v=Vf(r,y);g=a.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const _=Kr(r,qi(n));g=a.filter.updateFullNode(n.eventCache.getNode(),_,f)}else{const _=ne(l);if(_===".priority"){H(ci(l)===1,"Can't have a priority with additional path components");const y=h.getNode();d=n.serverCache.getNode();const v=ep(r,l,y,d);v!=null?g=a.filter.updatePriority(y,v):g=h.getNode()}else{const y=Me(l);let v;if(h.isCompleteForChild(_)){d=n.serverCache.getNode();const E=ep(r,l,h.getNode(),d);E!=null?v=h.getNode().getImmediateChild(_).updateChild(y,E):v=h.getNode().getImmediateChild(_)}else v=Qf(r,_,n.serverCache);v!=null?g=a.filter.updateChild(h.getNode(),_,v,y,o,f):g=h.getNode()}}return Pa(n,g,h.isFullyInitialized()||le(l),a.filter.filtersNodes())}}function Jr(a,n,l,r,o,f,h,g){const d=n.serverCache;let _;const y=h?a.filter:a.filter.getIndexedFilter();if(le(l))_=y.updateFullNode(d.getNode(),r,null);else if(y.filtersNodes()&&!d.isFiltered()){const R=d.getNode().updateChild(l,r);_=y.updateFullNode(d.getNode(),R,null)}else{const R=ne(l);if(!d.isCompleteForPath(l)&&ci(l)>1)return n;const D=Me(l),k=d.getNode().getImmediateChild(R).updateChild(D,r);R===".priority"?_=y.updatePriority(d.getNode(),k):_=y.updateChild(d.getNode(),R,k,D,my,null)}const v=uy(n,_,d.isFullyInitialized()||le(l),y.filtersNodes()),E=new Xf(o,v,f);return _y(a,v,l,o,E,g)}function _f(a,n,l,r,o,f,h){const g=n.eventCache;let d,_;const y=new Xf(o,n,f);if(le(l))_=a.filter.updateFullNode(n.eventCache.getNode(),r,h),d=Pa(n,_,!0,a.filter.filtersNodes());else{const v=ne(l);if(v===".priority")_=a.filter.updatePriority(n.eventCache.getNode(),r),d=Pa(n,_,g.isFullyInitialized(),g.isFiltered());else{const E=Me(l),R=g.getNode().getImmediateChild(v);let D;if(le(E))D=r;else{const B=y.getCompleteChild(v);B!=null?Lf(E)===".priority"&&B.getChild(ey(E)).isEmpty()?D=B:D=B.updateChild(E,r):D=Z.EMPTY_NODE}if(R.equals(D))d=n;else{const B=a.filter.updateChild(g.getNode(),v,D,E,y,h);d=Pa(n,B,g.isFullyInitialized(),a.filter.filtersNodes())}}}return d}function tp(a,n){return a.eventCache.isCompleteForChild(n)}function _2(a,n,l,r,o,f,h){let g=n;return r.foreach((d,_)=>{const y=Ue(l,d);tp(n,ne(y))&&(g=_f(a,g,y,_,o,f,h))}),r.foreach((d,_)=>{const y=Ue(l,d);tp(n,ne(y))||(g=_f(a,g,y,_,o,f,h))}),g}function np(a,n,l){return l.foreach((r,o)=>{n=n.updateChild(r,o)}),n}function gf(a,n,l,r,o,f,h,g){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let d=n,_;le(l)?_=r:_=new De(null).setTree(l,r);const y=n.serverCache.getNode();return _.children.inorderTraversal((v,E)=>{if(y.hasChild(v)){const R=n.serverCache.getNode().getImmediateChild(v),D=np(a,R,E);d=Jr(a,d,new Ce(v),D,o,f,h,g)}}),_.children.inorderTraversal((v,E)=>{const R=!n.serverCache.isCompleteForChild(v)&&E.value===null;if(!y.hasChild(v)&&!R){const D=n.serverCache.getNode().getImmediateChild(v),B=np(a,D,E);d=Jr(a,d,new Ce(v),B,o,f,h,g)}}),d}function g2(a,n,l,r,o,f,h){if(Zr(o,l)!=null)return n;const g=n.serverCache.isFiltered(),d=n.serverCache;if(r.value!=null){if(le(l)&&d.isFullyInitialized()||d.isCompleteForPath(l))return Jr(a,n,l,d.getNode().getChild(l),o,f,g,h);if(le(l)){let _=new De(null);return d.getNode().forEachChild(Ll,(y,v)=>{_=_.set(new Ce(y),v)}),gf(a,n,l,_,o,f,g,h)}else return n}else{let _=new De(null);return r.foreach((y,v)=>{const E=Ue(l,y);d.isCompleteForPath(E)&&(_=_.set(y,d.getNode().getChild(E)))}),gf(a,n,l,_,o,f,g,h)}}function p2(a,n,l,r,o){const f=n.serverCache,h=uy(n,f.getNode(),f.isFullyInitialized()||le(l),f.isFiltered());return _y(a,h,l,r,my,o)}function y2(a,n,l,r,o,f){let h;if(Zr(r,l)!=null)return n;{const g=new Xf(r,n,o),d=n.eventCache.getNode();let _;if(le(l)||ne(l)===".priority"){let y;if(n.serverCache.isFullyInitialized())y=Kr(r,qi(n));else{const v=n.serverCache.getNode();H(v instanceof Z,"serverChildren would be complete if leaf node"),y=Vf(r,v)}y=y,_=a.filter.updateFullNode(d,y,f)}else{const y=ne(l);let v=Qf(r,y,n.serverCache);v==null&&n.serverCache.isCompleteForChild(y)&&(v=d.getImmediateChild(y)),v!=null?_=a.filter.updateChild(d,y,v,Me(l),g,f):n.eventCache.getNode().hasChild(y)?_=a.filter.updateChild(d,y,Z.EMPTY_NODE,Me(l),g,f):_=d,_.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Kr(r,qi(n)),h.isLeafNode()&&(_=a.filter.updateFullNode(_,h,f)))}return h=n.serverCache.isFullyInitialized()||Zr(r,ye())!=null,Pa(n,_,h,a.filter.filtersNodes())}}class v2{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Hf(r.getIndex()),f=Bb(r);this.processor_=f2(f);const h=l.serverCache,g=l.eventCache,d=o.updateFullNode(Z.EMPTY_NODE,h.getNode(),null),_=f.updateFullNode(Z.EMPTY_NODE,g.getNode(),null),y=new ki(d,h.isFullyInitialized(),o.filtersNodes()),v=new ki(_,g.isFullyInitialized(),f.filtersNodes());this.viewCache_=au(v,y),this.eventGenerator_=new Vb(this.query_)}get query(){return this.query_}}function E2(a){return a.viewCache_.serverCache.getNode()}function S2(a,n){const l=qi(a.viewCache_);return l&&(a.query._queryParams.loadsAllData()||!le(n)&&!l.getImmediateChild(ne(n)).isEmpty())?l.getChild(n):null}function ip(a){return a.eventRegistrations_.length===0}function b2(a,n){a.eventRegistrations_.push(n)}function lp(a,n,l){const r=[];if(l){H(n==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(l,o);h&&r.push(h)})}if(n){let o=[];for(let f=0;f<a.eventRegistrations_.length;++f){const h=a.eventRegistrations_[f];if(!h.matches(n))o.push(h);else if(n.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return r}function ap(a,n,l,r){n.type===tn.MERGE&&n.source.queryId!==null&&(H(qi(a.viewCache_),"We should always have a full cache before handling merges"),H(ff(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,f=d2(a.processor_,o,n,l,r);return h2(a.processor_,f.viewCache),H(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,gy(a,f.changes,f.viewCache.eventCache.getNode(),null)}function C2(a,n){const l=a.viewCache_.eventCache,r=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Ie,(f,h)=>{r.push(jl(f,h))}),l.isFullyInitialized()&&r.push(ry(l.getNode())),gy(a,r,l.getNode(),n)}function gy(a,n,l,r){const o=r?[r]:a.eventRegistrations_;return Qb(a.eventGenerator_,n,l,o)}let Wr;class T2{constructor(){this.views=new Map}}function A2(a){H(!Wr,"__referenceConstructor has already been defined"),Wr=a}function N2(){return H(Wr,"Reference.ts has not been loaded"),Wr}function R2(a){return a.views.size===0}function Ff(a,n,l,r){const o=n.source.queryId;if(o!==null){const f=a.views.get(o);return H(f!=null,"SyncTree gave us an op for an invalid query."),ap(f,n,l,r)}else{let f=[];for(const h of a.views.values())f=f.concat(ap(h,n,l,r));return f}}function M2(a,n,l,r,o){const f=n._queryIdentifier,h=a.views.get(f);if(!h){let g=Kr(l,o?r:null),d=!1;g?d=!0:r instanceof Z?(g=Vf(l,r),d=!1):(g=Z.EMPTY_NODE,d=!1);const _=au(new ki(g,d,!1),new ki(r,o,!1));return new v2(n,_)}return h}function D2(a,n,l,r,o,f){const h=M2(a,n,r,o,f);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,h),b2(h,l),C2(h,l)}function O2(a,n,l,r){const o=n._queryIdentifier,f=[];let h=[];const g=fi(a);if(o==="default")for(const[d,_]of a.views.entries())h=h.concat(lp(_,l,r)),ip(_)&&(a.views.delete(d),_.query._queryParams.loadsAllData()||f.push(_.query));else{const d=a.views.get(o);d&&(h=h.concat(lp(d,l,r)),ip(d)&&(a.views.delete(o),d.query._queryParams.loadsAllData()||f.push(d.query)))}return g&&!fi(a)&&f.push(new(N2())(n._repo,n._path)),{removed:f,events:h}}function py(a){const n=[];for(const l of a.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function Ul(a,n){let l=null;for(const r of a.views.values())l=l||S2(r,n);return l}function yy(a,n){if(n._queryParams.loadsAllData())return su(a);{const r=n._queryIdentifier;return a.views.get(r)}}function vy(a,n){return yy(a,n)!=null}function fi(a){return su(a)!=null}function su(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let Pr;function w2(a){H(!Pr,"__referenceConstructor has already been defined"),Pr=a}function x2(){return H(Pr,"Reference.ts has not been loaded"),Pr}let z2=1;class sp{constructor(n){this.listenProvider_=n,this.syncPointTree_=new De(null),this.pendingWriteTree_=r2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ey(a,n,l,r,o){return Zb(a.pendingWriteTree_,n,l,r,o),o?Fl(a,new ji(kf(),n,l)):[]}function L2(a,n,l,r){Jb(a.pendingWriteTree_,n,l,r);const o=De.fromObject(l);return Fl(a,new kl(kf(),n,o))}function si(a,n,l=!1){const r=Wb(a.pendingWriteTree_,n);if(Pb(a.pendingWriteTree_,n)){let f=new De(null);return r.snap!=null?f=f.set(ye(),!0):rt(r.children,h=>{f=f.set(new Ce(h),!0)}),Fl(a,new Fr(r.path,f,l))}else return[]}function ru(a,n,l){return Fl(a,new ji(qf(),n,l))}function U2(a,n,l){const r=De.fromObject(l);return Fl(a,new kl(qf(),n,r))}function I2(a,n){return Fl(a,new os(qf(),n))}function B2(a,n,l){const r=Zf(a,l);if(r){const o=Jf(r),f=o.path,h=o.queryId,g=Rt(f,n),d=new os(Gf(h),g);return Wf(a,f,d)}else return[]}function pf(a,n,l,r,o=!1){const f=n._path,h=a.syncPointTree_.get(f);let g=[];if(h&&(n._queryIdentifier==="default"||vy(h,n))){const d=O2(h,n,l,r);R2(h)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const _=d.removed;if(g=d.events,!o){const y=_.findIndex(E=>E._queryParams.loadsAllData())!==-1,v=a.syncPointTree_.findOnPath(f,(E,R)=>fi(R));if(y&&!v){const E=a.syncPointTree_.subtree(f);if(!E.isEmpty()){const R=k2(E);for(let D=0;D<R.length;++D){const B=R[D],k=B.query,$=Cy(a,B);a.listenProvider_.startListening(es(k),$r(a,k),$.hashFn,$.onComplete)}}}!v&&_.length>0&&!r&&(y?a.listenProvider_.stopListening(es(n),null):_.forEach(E=>{const R=a.queryToTagMap.get(uu(E));a.listenProvider_.stopListening(es(E),R)}))}q2(a,_)}return g}function H2(a,n,l,r){const o=Zf(a,r);if(o!=null){const f=Jf(o),h=f.path,g=f.queryId,d=Rt(h,n),_=new ji(Gf(g),d,l);return Wf(a,h,_)}else return[]}function j2(a,n,l,r){const o=Zf(a,r);if(o){const f=Jf(o),h=f.path,g=f.queryId,d=Rt(h,n),_=De.fromObject(l),y=new kl(Gf(g),d,_);return Wf(a,h,y)}else return[]}function rp(a,n,l,r=!1){const o=n._path;let f=null,h=!1;a.syncPointTree_.foreachOnPath(o,(E,R)=>{const D=Rt(E,o);f=f||Ul(R,D),h=h||fi(R)});let g=a.syncPointTree_.get(o);g?(h=h||fi(g),f=f||Ul(g,ye())):(g=new T2,a.syncPointTree_=a.syncPointTree_.set(o,g));let d;f!=null?d=!0:(d=!1,f=Z.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((R,D)=>{const B=Ul(D,ye());B&&(f=f.updateImmediateChild(R,B))}));const _=vy(g,n);if(!_&&!n._queryParams.loadsAllData()){const E=uu(n);H(!a.queryToTagMap.has(E),"View does not exist, but we have a tag");const R=G2();a.queryToTagMap.set(E,R),a.tagToQueryMap.set(R,E)}const y=Yf(a.pendingWriteTree_,o);let v=D2(g,n,l,y,f,d);if(!_&&!h&&!r){const E=yy(g,n);v=v.concat(Y2(a,n,E))}return v}function Kf(a,n,l){const o=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(n,(h,g)=>{const d=Rt(h,n),_=Ul(g,d);if(_)return _});return fy(o,n,f,l,!0)}function Fl(a,n){return Sy(n,a.syncPointTree_,null,Yf(a.pendingWriteTree_,ye()))}function Sy(a,n,l,r){if(le(a.path))return by(a,n,l,r);{const o=n.get(ye());l==null&&o!=null&&(l=Ul(o,ye()));let f=[];const h=ne(a.path),g=a.operationForChild(h),d=n.children.get(h);if(d&&g){const _=l?l.getImmediateChild(h):null,y=hy(r,h);f=f.concat(Sy(g,d,_,y))}return o&&(f=f.concat(Ff(o,a,r,l))),f}}function by(a,n,l,r){const o=n.get(ye());l==null&&o!=null&&(l=Ul(o,ye()));let f=[];return n.children.inorderTraversal((h,g)=>{const d=l?l.getImmediateChild(h):null,_=hy(r,h),y=a.operationForChild(h);y&&(f=f.concat(by(y,g,d,_)))}),o&&(f=f.concat(Ff(o,a,r,l))),f}function Cy(a,n){const l=n.query,r=$r(a,l);return{hashFn:()=>(E2(n)||Z.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?B2(a,l._path,r):I2(a,l._path);{const f=US(o,l);return pf(a,l,null,f)}}}}function $r(a,n){const l=uu(n);return a.queryToTagMap.get(l)}function uu(a){return a._path.toString()+"$"+a._queryIdentifier}function Zf(a,n){return a.tagToQueryMap.get(n)}function Jf(a){const n=a.indexOf("$");return H(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new Ce(a.substr(0,n))}}function Wf(a,n,l){const r=a.syncPointTree_.get(n);H(r,"Missing sync point for query tag that we're tracking");const o=Yf(a.pendingWriteTree_,n);return Ff(r,l,o,null)}function k2(a){return a.fold((n,l,r)=>{if(l&&fi(l))return[su(l)];{let o=[];return l&&(o=py(l)),rt(r,(f,h)=>{o=o.concat(h)}),o}})}function es(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(x2())(a._repo,a._path):a}function q2(a,n){for(let l=0;l<n.length;++l){const r=n[l];if(!r._queryParams.loadsAllData()){const o=uu(r),f=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(f)}}}function G2(){return z2++}function Y2(a,n,l){const r=n._path,o=$r(a,n),f=Cy(a,l),h=a.listenProvider_.startListening(es(n),o,f.hashFn,f.onComplete),g=a.syncPointTree_.subtree(r);if(o)H(!fi(g.value),"If we're adding a query, it shouldn't be shadowed");else{const d=g.fold((_,y,v)=>{if(!le(_)&&y&&fi(y))return[su(y).query];{let E=[];return y&&(E=E.concat(py(y).map(R=>R.query))),rt(v,(R,D)=>{E=E.concat(D)}),E}});for(let _=0;_<d.length;++_){const y=d[_];a.listenProvider_.stopListening(es(y),$r(a,y))}}return h}class Pf{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new Pf(l)}node(){return this.node_}}class $f{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Ue(this.path_,n);return new $f(this.syncTree_,l)}node(){return Kf(this.syncTree_,this.path_)}}const V2=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},up=function(a,n,l){if(!a||typeof a!="object")return a;if(H(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return Q2(a[".sv"],n,l);if(typeof a[".sv"]=="object")return X2(a[".sv"],n);H(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},Q2=function(a,n,l){if(a==="timestamp")return l.timestamp;H(!1,"Unexpected server value: "+a)},X2=function(a,n,l){a.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const r=a.increment;typeof r!="number"&&H(!1,"Unexpected increment value: "+r);const o=n.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return typeof h!="number"?r:h+r},Ty=function(a,n,l,r){return eh(n,new $f(l,a),r)},Ay=function(a,n,l){return eh(a,new Pf(n),l)};function eh(a,n,l){const r=a.getPriority().val(),o=up(r,n.getImmediateChild(".priority"),l);let f;if(a.isLeafNode()){const h=a,g=up(h.getValue(),n,l);return g!==h.getValue()||o!==h.getPriority().val()?new it(g,Xe(o)):a}else{const h=a;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new it(o))),h.forEachChild(Ie,(g,d)=>{const _=eh(d,n.getImmediateChild(g),l);_!==d&&(f=f.updateImmediateChild(g,_))}),f}}class th{constructor(n="",l=null,r={children:{},childCount:0}){this.name=n,this.parent=l,this.node=r}}function nh(a,n){let l=n instanceof Ce?n:new Ce(n),r=a,o=ne(l);for(;o!==null;){const f=Il(r.node.children,o)||{children:{},childCount:0};r=new th(o,r,f),l=Me(l),o=ne(l)}return r}function Kl(a){return a.node.value}function Ny(a,n){a.node.value=n,yf(a)}function Ry(a){return a.node.childCount>0}function F2(a){return Kl(a)===void 0&&!Ry(a)}function ou(a,n){rt(a.node.children,(l,r)=>{n(new th(l,a,r))})}function My(a,n,l,r){l&&n(a),ou(a,o=>{My(o,n,!0)})}function K2(a,n,l){let r=a.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function ms(a){return new Ce(a.parent===null?a.name:ms(a.parent)+"/"+a.name)}function yf(a){a.parent!==null&&Z2(a.parent,a.name,a)}function Z2(a,n,l){const r=F2(l),o=hn(a.node.children,n);r&&o?(delete a.node.children[n],a.node.childCount--,yf(a)):!r&&!o&&(a.node.children[n]=l.node,a.node.childCount++,yf(a))}const J2=/[\[\].#$\/\u0000-\u001F\u007F]/,W2=/[\[\].#$\u0000-\u001F\u007F]/,Zc=10*1024*1024,ih=function(a){return typeof a=="string"&&a.length!==0&&!J2.test(a)},Dy=function(a){return typeof a=="string"&&a.length!==0&&!W2.test(a)},P2=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Dy(a)},Oy=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!iu(a)||a&&typeof a=="object"&&hn(a,".sv")},vf=function(a,n,l,r){cu(Bl(a,"value"),n,l)},cu=function(a,n,l){const r=l instanceof Ce?new _b(l,a):l;if(n===void 0)throw new Error(a+"contains undefined "+Li(r));if(typeof n=="function")throw new Error(a+"contains a function "+Li(r)+" with contents = "+n.toString());if(iu(n))throw new Error(a+"contains "+n.toString()+" "+Li(r));if(typeof n=="string"&&n.length>Zc/3&&nu(n)>Zc)throw new Error(a+"contains a string greater than "+Zc+" utf8 bytes "+Li(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,f=!1;if(rt(n,(h,g)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!ih(h)))throw new Error(a+" contains an invalid key ("+h+") "+Li(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);gb(r,h),cu(a,g,r),pb(r)}),o&&f)throw new Error(a+' contains ".value" child '+Li(r)+" in addition to actual children.")}},$2=function(a,n){let l,r;for(l=0;l<n.length;l++){r=n[l];const f=as(r);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!ih(f[h]))throw new Error(a+"contains an invalid key ("+f[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(mb);let o=null;for(l=0;l<n.length;l++){if(r=n[l],o!==null&&Jt(o,r))throw new Error(a+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},wy=function(a,n,l,r){const o=Bl(a,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const f=[];rt(n,(h,g)=>{const d=new Ce(h);if(cu(o,g,Ue(l,d)),Lf(d)===".priority"&&!Oy(g))throw new Error(o+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(d)}),$2(o,f)},eC=function(a,n,l){if(iu(n))throw new Error(Bl(a,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Oy(n))throw new Error(Bl(a,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},xy=function(a,n,l,r){if(!Dy(l))throw new Error(Bl(a,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tC=function(a,n,l,r){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),xy(a,n,l)},Ka=function(a,n){if(ne(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},nC=function(a,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!ih(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!P2(l))throw new Error(Bl(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class iC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fu(a,n){let l=null;for(let r=0;r<n.length;r++){const o=n[r],f=o.getPath();l!==null&&!Uf(f,l.path)&&(a.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(o)}l&&a.eventLists_.push(l)}function zy(a,n,l){fu(a,l),Ly(a,r=>Uf(r,n))}function ln(a,n,l){fu(a,l),Ly(a,r=>Jt(r,n)||Jt(n,r))}function Ly(a,n){a.recursionDepth_++;let l=!0;for(let r=0;r<a.eventLists_.length;r++){const o=a.eventLists_[r];if(o){const f=o.path;n(f)?(lC(a.eventLists_[r]),a.eventLists_[r]=null):l=!1}}l&&(a.eventLists_=[]),a.recursionDepth_--}function lC(a){for(let n=0;n<a.events.length;n++){const l=a.events[n];if(l!==null){a.events[n]=null;const r=l.getEventRunner();Ja&&at("event: "+l.toString()),Ql(r)}}}const aC="repo_interrupt",sC=25;class rC{constructor(n,l,r,o){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xr(),this.transactionQueueTree_=new th,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uC(a,n,l){if(a.stats_=xf(a.repoInfo_),a.forceRestClient_||jS())a.server_=new Qr(a.repoInfo_,(r,o,f,h)=>{op(a,r,o,f,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>cp(a,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{st(l)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}a.persistentConnection_=new xn(a.repoInfo_,n,(r,o,f,h)=>{op(a,r,o,f,h)},r=>{cp(a,r)},r=>{cC(a,r)},a.authTokenProvider_,a.appCheckProvider_,l),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(r=>{a.server_.refreshAuthToken(r)}),a.appCheckProvider_.addTokenChangeListener(r=>{a.server_.refreshAppCheckToken(r.token)}),a.statsReporter_=VS(a.repoInfo_,()=>new Yb(a.stats_,a.server_)),a.infoData_=new Hb,a.infoSyncTree_=new sp({startListening:(r,o,f,h)=>{let g=[];const d=a.infoData_.getNode(r._path);return d.isEmpty()||(g=ru(a.infoSyncTree_,r._path,d),setTimeout(()=>{h("ok")},0)),g},stopListening:()=>{}}),lh(a,"connected",!1),a.serverSyncTree_=new sp({startListening:(r,o,f,h)=>(a.server_.listen(r,f,o,(g,d)=>{const _=h(g,d);ln(a.eventQueue_,r._path,_)}),[]),stopListening:(r,o)=>{a.server_.unlisten(r,o)}})}function oC(a){const l=a.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function hu(a){return V2({timestamp:oC(a)})}function op(a,n,l,r,o){a.dataUpdateCount++;const f=new Ce(n);l=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,l):l;let h=[];if(o)if(r){const d=Hr(l,_=>Xe(_));h=j2(a.serverSyncTree_,f,d,o)}else{const d=Xe(l);h=H2(a.serverSyncTree_,f,d,o)}else if(r){const d=Hr(l,_=>Xe(_));h=U2(a.serverSyncTree_,f,d)}else{const d=Xe(l);h=ru(a.serverSyncTree_,f,d)}let g=f;h.length>0&&(g=Gl(a,f)),ln(a.eventQueue_,g,h)}function cp(a,n){lh(a,"connected",n),n===!1&&dC(a)}function cC(a,n){rt(n,(l,r)=>{lh(a,l,r)})}function lh(a,n,l){const r=new Ce("/.info/"+n),o=Xe(l);a.infoData_.updateSnapshot(r,o);const f=ru(a.infoSyncTree_,r,o);ln(a.eventQueue_,r,f)}function ah(a){return a.nextWriteId_++}function fC(a,n,l,r,o){du(a,"set",{path:n.toString(),value:l,priority:r});const f=hu(a),h=Xe(l,r),g=Kf(a.serverSyncTree_,n),d=Ay(h,g,f),_=ah(a),y=Ey(a.serverSyncTree_,n,d,_,!0);fu(a.eventQueue_,y),a.server_.put(n.toString(),h.val(!0),(E,R)=>{const D=E==="ok";D||yt("set at "+n+" failed: "+E);const B=si(a.serverSyncTree_,_,!D);ln(a.eventQueue_,n,B),hi(a,o,E,R)});const v=rh(a,n);Gl(a,v),ln(a.eventQueue_,v,[])}function hC(a,n,l,r){du(a,"update",{path:n.toString(),value:l});let o=!0;const f=hu(a),h={};if(rt(l,(g,d)=>{o=!1,h[g]=Ty(Ue(n,g),Xe(d),a.serverSyncTree_,f)}),o)at("update() called with empty data.  Don't do anything."),hi(a,r,"ok",void 0);else{const g=ah(a),d=L2(a.serverSyncTree_,n,h,g);fu(a.eventQueue_,d),a.server_.merge(n.toString(),l,(_,y)=>{const v=_==="ok";v||yt("update at "+n+" failed: "+_);const E=si(a.serverSyncTree_,g,!v),R=E.length>0?Gl(a,n):n;ln(a.eventQueue_,R,E),hi(a,r,_,y)}),rt(l,_=>{const y=rh(a,Ue(n,_));Gl(a,y)}),ln(a.eventQueue_,n,[])}}function dC(a){du(a,"onDisconnectEvents");const n=hu(a),l=Xr();cf(a.onDisconnect_,ye(),(o,f)=>{const h=Ty(o,f,a.serverSyncTree_,n);Xl(l,o,h)});let r=[];cf(l,ye(),(o,f)=>{r=r.concat(ru(a.serverSyncTree_,o,f));const h=rh(a,o);Gl(a,h)}),a.onDisconnect_=Xr(),ln(a.eventQueue_,ye(),r)}function mC(a,n,l){a.server_.onDisconnectCancel(n.toString(),(r,o)=>{r==="ok"&&of(a.onDisconnect_,n),hi(a,l,r,o)})}function fp(a,n,l,r){const o=Xe(l);a.server_.onDisconnectPut(n.toString(),o.val(!0),(f,h)=>{f==="ok"&&Xl(a.onDisconnect_,n,o),hi(a,r,f,h)})}function _C(a,n,l,r,o){const f=Xe(l,r);a.server_.onDisconnectPut(n.toString(),f.val(!0),(h,g)=>{h==="ok"&&Xl(a.onDisconnect_,n,f),hi(a,o,h,g)})}function gC(a,n,l,r){if($c(l)){at("onDisconnect().update() called with empty data.  Don't do anything."),hi(a,r,"ok",void 0);return}a.server_.onDisconnectMerge(n.toString(),l,(o,f)=>{o==="ok"&&rt(l,(h,g)=>{const d=Xe(g);Xl(a.onDisconnect_,Ue(n,h),d)}),hi(a,r,o,f)})}function pC(a,n,l){let r;ne(n._path)===".info"?r=rp(a.infoSyncTree_,n,l):r=rp(a.serverSyncTree_,n,l),zy(a.eventQueue_,n._path,r)}function yC(a,n,l){let r;ne(n._path)===".info"?r=pf(a.infoSyncTree_,n,l):r=pf(a.serverSyncTree_,n,l),zy(a.eventQueue_,n._path,r)}function vC(a){a.persistentConnection_&&a.persistentConnection_.interrupt(aC)}function du(a,...n){let l="";a.persistentConnection_&&(l=a.persistentConnection_.id+":"),at(l,...n)}function hi(a,n,l,r){n&&Ql(()=>{if(l==="ok")n(null);else{const o=(l||"error").toUpperCase();let f=o;r&&(f+=": "+r);const h=new Error(f);h.code=o,n(h)}})}function Uy(a,n,l){return Kf(a.serverSyncTree_,n,l)||Z.EMPTY_NODE}function sh(a,n=a.transactionQueueTree_){if(n||mu(a,n),Kl(n)){const l=By(a,n);H(l.length>0,"Sending zero length transaction queue"),l.every(o=>o.status===0)&&EC(a,ms(n),l)}else Ry(n)&&ou(n,l=>{sh(a,l)})}function EC(a,n,l){const r=l.map(_=>_.currentWriteId),o=Uy(a,n,r);let f=o;const h=o.hash();for(let _=0;_<l.length;_++){const y=l[_];H(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=Rt(n,y.path);f=f.updateChild(v,y.currentOutputSnapshotRaw)}const g=f.val(!0),d=n;a.server_.put(d.toString(),g,_=>{du(a,"transaction put response",{path:d.toString(),status:_});let y=[];if(_==="ok"){const v=[];for(let E=0;E<l.length;E++)l[E].status=2,y=y.concat(si(a.serverSyncTree_,l[E].currentWriteId)),l[E].onComplete&&v.push(()=>l[E].onComplete(null,!0,l[E].currentOutputSnapshotResolved)),l[E].unwatcher();mu(a,nh(a.transactionQueueTree_,n)),sh(a,a.transactionQueueTree_),ln(a.eventQueue_,n,y);for(let E=0;E<v.length;E++)Ql(v[E])}else{if(_==="datastale")for(let v=0;v<l.length;v++)l[v].status===3?l[v].status=4:l[v].status=0;else{yt("transaction at "+d.toString()+" failed: "+_);for(let v=0;v<l.length;v++)l[v].status=4,l[v].abortReason=_}Gl(a,n)}},h)}function Gl(a,n){const l=Iy(a,n),r=ms(l),o=By(a,l);return SC(a,o,r),r}function SC(a,n,l){if(n.length===0)return;const r=[];let o=[];const h=n.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<n.length;g++){const d=n[g],_=Rt(l,d.path);let y=!1,v;if(H(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)y=!0,v=d.abortReason,o=o.concat(si(a.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=sC)y=!0,v="maxretry",o=o.concat(si(a.serverSyncTree_,d.currentWriteId,!0));else{const E=Uy(a,d.path,h);d.currentInputSnapshot=E;const R=n[g].update(E.val());if(R!==void 0){cu("transaction failed: Data returned ",R,d.path);let D=Xe(R);typeof R=="object"&&R!=null&&hn(R,".priority")||(D=D.updatePriority(E.getPriority()));const k=d.currentWriteId,$=hu(a),ee=Ay(D,E,$);d.currentOutputSnapshotRaw=D,d.currentOutputSnapshotResolved=ee,d.currentWriteId=ah(a),h.splice(h.indexOf(k),1),o=o.concat(Ey(a.serverSyncTree_,d.path,ee,d.currentWriteId,d.applyLocally)),o=o.concat(si(a.serverSyncTree_,k,!0))}else y=!0,v="nodata",o=o.concat(si(a.serverSyncTree_,d.currentWriteId,!0))}ln(a.eventQueue_,l,o),o=[],y&&(n[g].status=2,(function(E){setTimeout(E,Math.floor(0))})(n[g].unwatcher),n[g].onComplete&&(v==="nodata"?r.push(()=>n[g].onComplete(null,!1,n[g].currentInputSnapshot)):r.push(()=>n[g].onComplete(new Error(v),!1,null))))}mu(a,a.transactionQueueTree_);for(let g=0;g<r.length;g++)Ql(r[g]);sh(a,a.transactionQueueTree_)}function Iy(a,n){let l,r=a.transactionQueueTree_;for(l=ne(n);l!==null&&Kl(r)===void 0;)r=nh(r,l),n=Me(n),l=ne(n);return r}function By(a,n){const l=[];return Hy(a,n,l),l.sort((r,o)=>r.order-o.order),l}function Hy(a,n,l){const r=Kl(n);if(r)for(let o=0;o<r.length;o++)l.push(r[o]);ou(n,o=>{Hy(a,o,l)})}function mu(a,n){const l=Kl(n);if(l){let r=0;for(let o=0;o<l.length;o++)l[o].status!==2&&(l[r]=l[o],r++);l.length=r,Ny(n,l.length>0?l:void 0)}ou(n,r=>{mu(a,r)})}function rh(a,n){const l=ms(Iy(a,n)),r=nh(a.transactionQueueTree_,n);return K2(r,o=>{Jc(a,o)}),Jc(a,r),My(r,o=>{Jc(a,o)}),l}function Jc(a,n){const l=Kl(n);if(l){const r=[];let o=[],f=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(H(f===h-1,"All SENT items should be at beginning of queue."),f=h,l[h].status=3,l[h].abortReason="set"):(H(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),o=o.concat(si(a.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&r.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?Ny(n,void 0):l.length=f+1,ln(a.eventQueue_,ms(n),o);for(let h=0;h<r.length;h++)Ql(r[h])}}function bC(a){let n="";const l=a.split("/");for(let r=0;r<l.length;r++)if(l[r].length>0){let o=l[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function CC(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const l of a.split("&")){if(l.length===0)continue;const r=l.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):yt(`Invalid query segment '${l}' in query '${a}'`)}return n}const hp=function(a,n){const l=TC(a),r=l.namespace;l.domain==="firebase.com"&&Ln(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&l.domain!=="localhost"&&Ln("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||OS();const o=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new Qp(l.host,l.secure,r,o,n,"",r!==l.subdomain),path:new Ce(l.pathString)}},TC=function(a){let n="",l="",r="",o="",f="",h=!0,g="https",d=443;if(typeof a=="string"){let _=a.indexOf("//");_>=0&&(g=a.substring(0,_-1),a=a.substring(_+2));let y=a.indexOf("/");y===-1&&(y=a.length);let v=a.indexOf("?");v===-1&&(v=a.length),n=a.substring(0,Math.min(y,v)),y<v&&(o=bC(a.substring(y,v)));const E=CC(a.substring(Math.min(a.length,v)));_=n.indexOf(":"),_>=0?(h=g==="https"||g==="wss",d=parseInt(n.substring(_+1),10)):_=n.length;const R=n.slice(0,_);if(R.toLowerCase()==="localhost")l="localhost";else if(R.split(".").length<=2)l=R;else{const D=n.indexOf(".");r=n.substring(0,D).toLowerCase(),l=n.substring(D+1),f=r}"ns"in E&&(f=E.ns)}return{host:n,port:d,domain:l,subdomain:r,secure:h,scheme:g,pathString:o,namespace:f}};class AC{constructor(n,l,r,o){this.eventType=n,this.eventRegistration=l,this.snapshot=r,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+st(this.snapshot.exportVal())}}class NC{constructor(n,l,r){this.eventRegistration=n,this.error=l,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class RC{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class MC{constructor(n,l){this._repo=n,this._path=l}cancel(){const n=new fn;return mC(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Ka("OnDisconnect.remove",this._path);const n=new fn;return fp(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Ka("OnDisconnect.set",this._path),vf("OnDisconnect.set",n,this._path);const l=new fn;return fp(this._repo,this._path,n,l.wrapCallback(()=>{})),l.promise}setWithPriority(n,l){Ka("OnDisconnect.setWithPriority",this._path),vf("OnDisconnect.setWithPriority",n,this._path),eC("OnDisconnect.setWithPriority",l);const r=new fn;return _C(this._repo,this._path,n,l,r.wrapCallback(()=>{})),r.promise}update(n){Ka("OnDisconnect.update",this._path),wy("OnDisconnect.update",n,this._path);const l=new fn;return gC(this._repo,this._path,n,l.wrapCallback(()=>{})),l.promise}}class uh{constructor(n,l,r,o){this._repo=n,this._path=l,this._queryParams=r,this._orderByCalled=o}get key(){return le(this._path)?null:Lf(this._path)}get ref(){return new di(this._repo,this._path)}get _queryIdentifier(){const n=Jg(this._queryParams),l=Of(n);return l==="{}"?"default":l}get _queryObject(){return Jg(this._queryParams)}isEqual(n){if(n=Vl(n),!(n instanceof uh))return!1;const l=this._repo===n._repo,r=Uf(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return l&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+db(this._path)}}class di extends uh{constructor(n,l){super(n,l,new jf,!1)}get parent(){const n=ey(this._path);return n===null?null:new di(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class eu{constructor(n,l,r){this._node=n,this.ref=l,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new Ce(n),r=Ef(this.ref,n);return new eu(this._node.getChild(l),r,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>n(new eu(o,Ef(this.ref,r),Ie)))}hasChild(n){const l=new Ce(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ii(a,n){return a=Vl(a),a._checkNotDeleted("ref"),n!==void 0?Ef(a._root,n):a._root}function Ef(a,n){return a=Vl(a),ne(a._path)===null?tC("child","path",n):xy("child","path",n),new di(a._repo,Ue(a._path,n))}function DC(a){return a=Vl(a),new MC(a._repo,a._path)}function Ir(a,n){a=Vl(a),Ka("set",a._path),vf("set",n,a._path);const l=new fn;return fC(a._repo,a._path,n,null,l.wrapCallback(()=>{})),l.promise}function OC(a,n){wy("update",n,a._path);const l=new fn;return hC(a._repo,a._path,n,l.wrapCallback(()=>{})),l.promise}class oh{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const r=l._queryParams.getIndex();return new AC("value",this,new eu(n.snapshotNode,new di(l._repo,l._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new NC(this,n,l):null}matches(n){return n instanceof oh?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function wC(a,n,l,r,o){const f=new RC(l,void 0),h=new oh(f);return pC(a._repo,a,h),()=>yC(a._repo,a,h)}function Sf(a,n,l,r){return wC(a,"value",n)}A2(di);w2(di);const xC="FIREBASE_DATABASE_EMULATOR_HOST",bf={};let zC=!1;function LC(a,n,l,r){const o=n.lastIndexOf(":"),f=n.substring(0,o),h=Mf(f);a.repoInfo_=new Qp(n,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,l),r&&(a.authTokenProvider_=r)}function UC(a,n,l,r,o){let f=r||a.options.databaseURL;f===void 0&&(a.options.projectId||Ln("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=hp(f,o),g=h.repoInfo,d;typeof process<"u"&&xg&&(d=xg[xC]),d?(f=`http://${d}?ns=${g.namespace}`,h=hp(f,o),g=h.repoInfo):h.repoInfo.secure;const _=new qS(a.name,a.options,n);nC("Invalid Firebase Database URL",h),le(h.path)||Ln("Database URL must point to the root of a Firebase Database (not including a child path).");const y=BC(g,a,_,new kS(a,l));return new HC(y,a)}function IC(a,n){const l=bf[n];(!l||l[a.key]!==a)&&Ln(`Database ${n}(${a.repoInfo_}) has already been deleted.`),vC(a),delete l[a.key]}function BC(a,n,l,r){let o=bf[n.name];o||(o={},bf[n.name]=o);let f=o[a.toURLString()];return f&&Ln("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new rC(a,zC,l,r),o[a.toURLString()]=f,f}class HC{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new di(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(IC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Ln("Cannot call "+n+" on a deleted database.")}}function jC(a=dS(),n){const l=uS(a,"database").getImmediate({identifier:n});if(!l._instanceStarted){const r=F1("database");r&&kC(l,...r)}return l}function kC(a,n,l,r={}){a=Vl(a),a._checkNotDeleted("useEmulator");const o=`${n}:${l}`,f=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&jr(r,f.repoInfo_.emulatorOptions))return;Ln("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&Ln('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Ur(Ur.OWNER);else if(r.mockUserToken){const g=typeof r.mockUserToken=="string"?r.mockUserToken:Z1(r.mockUserToken,a.app.options.projectId);h=new Ur(g)}Mf(n)&&(K1(n),P1("Database",!0)),LC(f,o,r,h)}function qC(a){TS(hS),qr(new ns("database",(n,{instanceIdentifier:l})=>{const r=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return UC(r,o,f,l)},"PUBLIC").setMultipleInstances(!0)),xl(zg,Lg,a),xl(zg,Lg,"esm2020")}xn.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};xn.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};qC();var GC="firebase",YC="12.7.0";xl(GC,YC,"app");const VC={apiKey:"AIzaSyDgkfy9Y8SvL0rjCtGzLgsSqTp6mZnankY",authDomain:"mafiaonline-43409.firebaseapp.com",databaseURL:"https://mafiaonline-43409-default-rtdb.firebaseio.com",projectId:"mafiaonline-43409",storageBucket:"mafiaonline-43409.firebasestorage.app",messagingSenderId:"791522740316",appId:"1:791522740316:web:519cc375a49db9e54fbe99",measurementId:"G-BWV6S3PPX5"},QC=Mp(VC),Bi=jC(QC);const XC=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FC=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,l,r)=>r?r.toUpperCase():l.toLowerCase()),dp=a=>{const n=FC(a);return n.charAt(0).toUpperCase()+n.slice(1)},jy=(...a)=>a.filter((n,l,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===l).join(" ").trim(),KC=a=>{for(const n in a)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var ZC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JC=Le.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:o="",children:f,iconNode:h,...g},d)=>Le.createElement("svg",{ref:d,...ZC,width:n,height:n,stroke:a,strokeWidth:r?Number(l)*24/Number(n):l,className:jy("lucide",o),...!f&&!KC(g)&&{"aria-hidden":"true"},...g},[...h.map(([_,y])=>Le.createElement(_,y)),...Array.isArray(f)?f:[f]]));const Dt=(a,n)=>{const l=Le.forwardRef(({className:r,...o},f)=>Le.createElement(JC,{ref:f,iconNode:n,className:jy(`lucide-${XC(dp(a))}`,`lucide-${a}`,r),...o}));return l.displayName=dp(a),l};const WC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],PC=Dt("arrow-right",WC);const $C=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eT=Dt("circle-check-big",$C);const tT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],mp=Dt("moon",tT);const nT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ky=Dt("play",nT);const iT=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],lT=Dt("scan-line",iT);const aT=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],sT=Dt("scan",aT);const rT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Cf=Dt("search",rT);const uT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oT=Dt("settings",uT);const cT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],qy=Dt("shield",cT);const fT=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],hT=Dt("skull",fT);const dT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],mT=Dt("sun",dT);const _T=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],Gy=Dt("sword",_T);const gT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pT=Dt("users",gT);const yT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vT=Dt("zap",yT);function ET({onHost:a,onJoin:n,joinToken:l}){const[r,o]=Le.useState(""),[f,h]=Le.useState(null);Le.useEffect(()=>{if(l)try{const d=JSON.parse(atob(l));d.r&&h(d.r)}catch{console.error("Invalid QR")}},[l]);const g=async()=>{const d=U1();await Ir(Ii(Bi,`rooms/${d}`),{gameState:"LOBBY",createdAt:Date.now(),players:{},config:{mafia:1,doctor:1,detective:1,peacefulFirstNight:!1}}),a(d)};return f?w.jsx("div",{className:"center-container",children:w.jsxs("div",{className:"game-card pop-in",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"inline-block bg-blue-500/20 text-blue-400 text-xs font-black uppercase tracking-widest px-3 py-1 rounded-full mb-4",children:"Joining Room"}),w.jsx("div",{className:"text-5xl font-mono font-black text-white mb-8 tracking-widest",children:f})]}),w.jsxs("div",{className:"w-full space-y-4",children:[w.jsxs("div",{className:"text-left w-full",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 mb-2 block uppercase tracking-wider",children:"Nickname"}),w.jsx("input",{className:"input-field",placeholder:"ENTER NAME",value:r,onChange:d=>o(d.target.value),autoFocus:!0,maxLength:12})]}),w.jsxs("button",{onClick:()=>n(f,r),disabled:!r,className:"btn-primary flex items-center justify-center gap-2",children:["Enter Game ",w.jsx(PC,{size:20})]})]})]})}):w.jsxs("div",{className:"center-container relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-[-20%] left-[-20%] w-[500px] h-[500px] bg-blue-600/20 rounded-full blur-[100px] pointer-events-none"}),w.jsx("div",{className:"absolute bottom-[-20%] right-[-20%] w-[500px] h-[500px] bg-indigo-600/20 rounded-full blur-[100px] pointer-events-none"}),w.jsxs("div",{className:"text-center mb-16 pop-in relative z-10",children:[w.jsx("h1",{className:"text-8xl md:text-9xl font-black tracking-tighter text-white drop-shadow-2xl mb-2 text-glow",children:"MAFIA"}),w.jsx("div",{className:"inline-block bg-white/10 backdrop-blur-md border border-white/10 px-6 py-1.5 rounded-full",children:w.jsx("span",{className:"text-xs font-bold tracking-[0.4em] text-blue-200 uppercase",children:"Pocket Edition"})})]}),w.jsxs("div",{className:"game-card pop-in z-10",children:[w.jsxs("button",{onClick:g,className:"btn-primary btn-red py-6 text-xl flex items-center justify-center gap-3 shadow-red-900/50",children:[w.jsx(ky,{fill:"currentColor",size:24})," Host New Game"]}),w.jsxs("div",{className:"relative w-full text-center py-4",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("div",{className:"w-full border-t border-slate-700"})}),w.jsx("span",{className:"relative bg-[#131b2e] px-4 text-xs font-bold text-slate-500 uppercase tracking-widest",children:"OR"})]}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"flex justify-center mb-4 text-slate-500",children:w.jsx(lT,{size:48,strokeWidth:1})}),w.jsx("p",{className:"text-slate-400 text-sm font-medium px-4",children:"To join a game, simply scan the Host's QR code with your camera app."})]})]})]})}var ST=Object.defineProperty,tu=Object.getOwnPropertySymbols,Yy=Object.prototype.hasOwnProperty,Vy=Object.prototype.propertyIsEnumerable,_p=(a,n,l)=>n in a?ST(a,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[n]=l,Tf=(a,n)=>{for(var l in n||(n={}))Yy.call(n,l)&&_p(a,l,n[l]);if(tu)for(var l of tu(n))Vy.call(n,l)&&_p(a,l,n[l]);return a},Af=(a,n)=>{var l={};for(var r in a)Yy.call(a,r)&&n.indexOf(r)<0&&(l[r]=a[r]);if(a!=null&&tu)for(var r of tu(a))n.indexOf(r)<0&&Vy.call(a,r)&&(l[r]=a[r]);return l};var Gi;(a=>{const n=class oe{constructor(d,_,y,v){if(this.version=d,this.errorCorrectionLevel=_,this.modules=[],this.isFunction=[],d<oe.MIN_VERSION||d>oe.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let E=[];for(let D=0;D<this.size;D++)E.push(!1);for(let D=0;D<this.size;D++)this.modules.push(E.slice()),this.isFunction.push(E.slice());this.drawFunctionPatterns();const R=this.addEccAndInterleave(y);if(this.drawCodewords(R),v==-1){let D=1e9;for(let B=0;B<8;B++){this.applyMask(B),this.drawFormatBits(B);const k=this.getPenaltyScore();k<D&&(v=B,D=k),this.applyMask(B)}}o(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(d,_){const y=a.QrSegment.makeSegments(d);return oe.encodeSegments(y,_)}static encodeBinary(d,_){const y=a.QrSegment.makeBytes(d);return oe.encodeSegments([y],_)}static encodeSegments(d,_,y=1,v=40,E=-1,R=!0){if(!(oe.MIN_VERSION<=y&&y<=v&&v<=oe.MAX_VERSION)||E<-1||E>7)throw new RangeError("Invalid value");let D,B;for(D=y;;D++){const V=oe.getNumDataCodewords(D,_)*8,ce=h.getTotalBits(d,D);if(ce<=V){B=ce;break}if(D>=v)throw new RangeError("Data too long")}for(const V of[oe.Ecc.MEDIUM,oe.Ecc.QUARTILE,oe.Ecc.HIGH])R&&B<=oe.getNumDataCodewords(D,V)*8&&(_=V);let k=[];for(const V of d){l(V.mode.modeBits,4,k),l(V.numChars,V.mode.numCharCountBits(D),k);for(const ce of V.getData())k.push(ce)}o(k.length==B);const $=oe.getNumDataCodewords(D,_)*8;o(k.length<=$),l(0,Math.min(4,$-k.length),k),l(0,(8-k.length%8)%8,k),o(k.length%8==0);for(let V=236;k.length<$;V^=253)l(V,8,k);let ee=[];for(;ee.length*8<k.length;)ee.push(0);return k.forEach((V,ce)=>ee[ce>>>3]|=V<<7-(ce&7)),new oe(D,_,ee,E)}getModule(d,_){return 0<=d&&d<this.size&&0<=_&&_<this.size&&this.modules[_][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let y=0;y<this.size;y++)this.setFunctionModule(6,y,y%2==0),this.setFunctionModule(y,6,y%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),_=d.length;for(let y=0;y<_;y++)for(let v=0;v<_;v++)y==0&&v==0||y==0&&v==_-1||y==_-1&&v==0||this.drawAlignmentPattern(d[y],d[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const _=this.errorCorrectionLevel.formatBits<<3|d;let y=_;for(let E=0;E<10;E++)y=y<<1^(y>>>9)*1335;const v=(_<<10|y)^21522;o(v>>>15==0);for(let E=0;E<=5;E++)this.setFunctionModule(8,E,r(v,E));this.setFunctionModule(8,7,r(v,6)),this.setFunctionModule(8,8,r(v,7)),this.setFunctionModule(7,8,r(v,8));for(let E=9;E<15;E++)this.setFunctionModule(14-E,8,r(v,E));for(let E=0;E<8;E++)this.setFunctionModule(this.size-1-E,8,r(v,E));for(let E=8;E<15;E++)this.setFunctionModule(8,this.size-15+E,r(v,E));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let y=0;y<12;y++)d=d<<1^(d>>>11)*7973;const _=this.version<<12|d;o(_>>>18==0);for(let y=0;y<18;y++){const v=r(_,y),E=this.size-11+y%3,R=Math.floor(y/3);this.setFunctionModule(E,R,v),this.setFunctionModule(R,E,v)}}drawFinderPattern(d,_){for(let y=-4;y<=4;y++)for(let v=-4;v<=4;v++){const E=Math.max(Math.abs(v),Math.abs(y)),R=d+v,D=_+y;0<=R&&R<this.size&&0<=D&&D<this.size&&this.setFunctionModule(R,D,E!=2&&E!=4)}}drawAlignmentPattern(d,_){for(let y=-2;y<=2;y++)for(let v=-2;v<=2;v++)this.setFunctionModule(d+v,_+y,Math.max(Math.abs(v),Math.abs(y))!=1)}setFunctionModule(d,_,y){this.modules[_][d]=y,this.isFunction[_][d]=!0}addEccAndInterleave(d){const _=this.version,y=this.errorCorrectionLevel;if(d.length!=oe.getNumDataCodewords(_,y))throw new RangeError("Invalid argument");const v=oe.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][_],E=oe.ECC_CODEWORDS_PER_BLOCK[y.ordinal][_],R=Math.floor(oe.getNumRawDataModules(_)/8),D=v-R%v,B=Math.floor(R/v);let k=[];const $=oe.reedSolomonComputeDivisor(E);for(let V=0,ce=0;V<v;V++){let Be=d.slice(ce,ce+B-E+(V<D?0:1));ce+=Be.length;const Pe=oe.reedSolomonComputeRemainder(Be,$);V<D&&Be.push(0),k.push(Be.concat(Pe))}let ee=[];for(let V=0;V<k[0].length;V++)k.forEach((ce,Be)=>{(V!=B-E||Be>=D)&&ee.push(ce[V])});return o(ee.length==R),ee}drawCodewords(d){if(d.length!=Math.floor(oe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let _=0;for(let y=this.size-1;y>=1;y-=2){y==6&&(y=5);for(let v=0;v<this.size;v++)for(let E=0;E<2;E++){const R=y-E,B=(y+1&2)==0?this.size-1-v:v;!this.isFunction[B][R]&&_<d.length*8&&(this.modules[B][R]=r(d[_>>>3],7-(_&7)),_++)}}o(_==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let _=0;_<this.size;_++)for(let y=0;y<this.size;y++){let v;switch(d){case 0:v=(y+_)%2==0;break;case 1:v=_%2==0;break;case 2:v=y%3==0;break;case 3:v=(y+_)%3==0;break;case 4:v=(Math.floor(y/3)+Math.floor(_/2))%2==0;break;case 5:v=y*_%2+y*_%3==0;break;case 6:v=(y*_%2+y*_%3)%2==0;break;case 7:v=((y+_)%2+y*_%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[_][y]&&v&&(this.modules[_][y]=!this.modules[_][y])}}getPenaltyScore(){let d=0;for(let E=0;E<this.size;E++){let R=!1,D=0,B=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[E][k]==R?(D++,D==5?d+=oe.PENALTY_N1:D>5&&d++):(this.finderPenaltyAddHistory(D,B),R||(d+=this.finderPenaltyCountPatterns(B)*oe.PENALTY_N3),R=this.modules[E][k],D=1);d+=this.finderPenaltyTerminateAndCount(R,D,B)*oe.PENALTY_N3}for(let E=0;E<this.size;E++){let R=!1,D=0,B=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][E]==R?(D++,D==5?d+=oe.PENALTY_N1:D>5&&d++):(this.finderPenaltyAddHistory(D,B),R||(d+=this.finderPenaltyCountPatterns(B)*oe.PENALTY_N3),R=this.modules[k][E],D=1);d+=this.finderPenaltyTerminateAndCount(R,D,B)*oe.PENALTY_N3}for(let E=0;E<this.size-1;E++)for(let R=0;R<this.size-1;R++){const D=this.modules[E][R];D==this.modules[E][R+1]&&D==this.modules[E+1][R]&&D==this.modules[E+1][R+1]&&(d+=oe.PENALTY_N2)}let _=0;for(const E of this.modules)_=E.reduce((R,D)=>R+(D?1:0),_);const y=this.size*this.size,v=Math.ceil(Math.abs(_*20-y*10)/y)-1;return o(0<=v&&v<=9),d+=v*oe.PENALTY_N4,o(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,_=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let y=[6];for(let v=this.size-7;y.length<d;v-=_)y.splice(1,0,v);return y}}static getNumRawDataModules(d){if(d<oe.MIN_VERSION||d>oe.MAX_VERSION)throw new RangeError("Version number out of range");let _=(16*d+128)*d+64;if(d>=2){const y=Math.floor(d/7)+2;_-=(25*y-10)*y-55,d>=7&&(_-=36)}return o(208<=_&&_<=29648),_}static getNumDataCodewords(d,_){return Math.floor(oe.getNumRawDataModules(d)/8)-oe.ECC_CODEWORDS_PER_BLOCK[_.ordinal][d]*oe.NUM_ERROR_CORRECTION_BLOCKS[_.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let _=[];for(let v=0;v<d-1;v++)_.push(0);_.push(1);let y=1;for(let v=0;v<d;v++){for(let E=0;E<_.length;E++)_[E]=oe.reedSolomonMultiply(_[E],y),E+1<_.length&&(_[E]^=_[E+1]);y=oe.reedSolomonMultiply(y,2)}return _}static reedSolomonComputeRemainder(d,_){let y=_.map(v=>0);for(const v of d){const E=v^y.shift();y.push(0),_.forEach((R,D)=>y[D]^=oe.reedSolomonMultiply(R,E))}return y}static reedSolomonMultiply(d,_){if(d>>>8||_>>>8)throw new RangeError("Byte out of range");let y=0;for(let v=7;v>=0;v--)y=y<<1^(y>>>7)*285,y^=(_>>>v&1)*d;return o(y>>>8==0),y}finderPenaltyCountPatterns(d){const _=d[1];o(_<=this.size*3);const y=_>0&&d[2]==_&&d[3]==_*3&&d[4]==_&&d[5]==_;return(y&&d[0]>=_*4&&d[6]>=_?1:0)+(y&&d[6]>=_*4&&d[0]>=_?1:0)}finderPenaltyTerminateAndCount(d,_,y){return d&&(this.finderPenaltyAddHistory(_,y),_=0),_+=this.size,this.finderPenaltyAddHistory(_,y),this.finderPenaltyCountPatterns(y)}finderPenaltyAddHistory(d,_){_[0]==0&&(d+=this.size),_.pop(),_.unshift(d)}};n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],a.QrCode=n;function l(g,d,_){if(d<0||d>31||g>>>d)throw new RangeError("Value out of range");for(let y=d-1;y>=0;y--)_.push(g>>>y&1)}function r(g,d){return(g>>>d&1)!=0}function o(g){if(!g)throw new Error("Assertion error")}const f=class qe{constructor(d,_,y){if(this.mode=d,this.numChars=_,this.bitData=y,_<0)throw new RangeError("Invalid argument");this.bitData=y.slice()}static makeBytes(d){let _=[];for(const y of d)l(y,8,_);return new qe(qe.Mode.BYTE,d.length,_)}static makeNumeric(d){if(!qe.isNumeric(d))throw new RangeError("String contains non-numeric characters");let _=[];for(let y=0;y<d.length;){const v=Math.min(d.length-y,3);l(parseInt(d.substring(y,y+v),10),v*3+1,_),y+=v}return new qe(qe.Mode.NUMERIC,d.length,_)}static makeAlphanumeric(d){if(!qe.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let _=[],y;for(y=0;y+2<=d.length;y+=2){let v=qe.ALPHANUMERIC_CHARSET.indexOf(d.charAt(y))*45;v+=qe.ALPHANUMERIC_CHARSET.indexOf(d.charAt(y+1)),l(v,11,_)}return y<d.length&&l(qe.ALPHANUMERIC_CHARSET.indexOf(d.charAt(y)),6,_),new qe(qe.Mode.ALPHANUMERIC,d.length,_)}static makeSegments(d){return d==""?[]:qe.isNumeric(d)?[qe.makeNumeric(d)]:qe.isAlphanumeric(d)?[qe.makeAlphanumeric(d)]:[qe.makeBytes(qe.toUtf8ByteArray(d))]}static makeEci(d){let _=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)l(d,8,_);else if(d<16384)l(2,2,_),l(d,14,_);else if(d<1e6)l(6,3,_),l(d,21,_);else throw new RangeError("ECI assignment value out of range");return new qe(qe.Mode.ECI,0,_)}static isNumeric(d){return qe.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return qe.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,_){let y=0;for(const v of d){const E=v.mode.numCharCountBits(_);if(v.numChars>=1<<E)return 1/0;y+=4+E+v.bitData.length}return y}static toUtf8ByteArray(d){d=encodeURI(d);let _=[];for(let y=0;y<d.length;y++)d.charAt(y)!="%"?_.push(d.charCodeAt(y)):(_.push(parseInt(d.substring(y+1,y+3),16)),y+=2);return _}};f.NUMERIC_REGEX=/^[0-9]*$/,f.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,f.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let h=f;a.QrSegment=f})(Gi||(Gi={}));(a=>{(n=>{const l=class{constructor(o,f){this.ordinal=o,this.formatBits=f}};l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2),n.Ecc=l})(a.QrCode||(a.QrCode={}))})(Gi||(Gi={}));(a=>{(n=>{const l=class{constructor(o,f){this.modeBits=o,this.numBitsCharCount=f}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};l.NUMERIC=new l(1,[10,12,14]),l.ALPHANUMERIC=new l(2,[9,11,13]),l.BYTE=new l(4,[8,16,16]),l.KANJI=new l(8,[8,10,12]),l.ECI=new l(7,[0,0,0]),n.Mode=l})(a.QrSegment||(a.QrSegment={}))})(Gi||(Gi={}));var wl=Gi;var bT={L:wl.QrCode.Ecc.LOW,M:wl.QrCode.Ecc.MEDIUM,Q:wl.QrCode.Ecc.QUARTILE,H:wl.QrCode.Ecc.HIGH},Qy=128,Xy="L",Fy="#FFFFFF",Ky="#000000",Zy=!1,Jy=1,CT=4,TT=0,AT=.1;function Wy(a,n=0){const l=[];return a.forEach(function(r,o){let f=null;r.forEach(function(h,g){if(!h&&f!==null){l.push(`M${f+n} ${o+n}h${g-f}v1H${f+n}z`),f=null;return}if(g===r.length-1){if(!h)return;f===null?l.push(`M${g+n},${o+n} h1v1H${g+n}z`):l.push(`M${f+n},${o+n} h${g+1-f}v1H${f+n}z`);return}h&&f===null&&(f=g)})}),l.join("")}function Py(a,n){return a.slice().map((l,r)=>r<n.y||r>=n.y+n.h?l:l.map((o,f)=>f<n.x||f>=n.x+n.w?o:!1))}function NT(a,n,l,r){if(r==null)return null;const o=a.length+l*2,f=Math.floor(n*AT),h=o/n,g=(r.width||f)*h,d=(r.height||f)*h,_=r.x==null?a.length/2-g/2:r.x*h,y=r.y==null?a.length/2-d/2:r.y*h,v=r.opacity==null?1:r.opacity;let E=null;if(r.excavate){let D=Math.floor(_),B=Math.floor(y),k=Math.ceil(g+_-D),$=Math.ceil(d+y-B);E={x:D,y:B,w:k,h:$}}const R=r.crossOrigin;return{x:_,y,h:d,w:g,excavation:E,opacity:v,crossOrigin:R}}function RT(a,n){return n!=null?Math.max(Math.floor(n),0):a?CT:TT}function $y({value:a,level:n,minVersion:l,includeMargin:r,marginSize:o,imageSettings:f,size:h,boostLevel:g}){let d=et.useMemo(()=>{const D=(Array.isArray(a)?a:[a]).reduce((B,k)=>(B.push(...wl.QrSegment.makeSegments(k)),B),[]);return wl.QrCode.encodeSegments(D,bT[n],l,void 0,void 0,g)},[a,n,l,g]);const{cells:_,margin:y,numCells:v,calculatedImageSettings:E}=et.useMemo(()=>{let R=d.getModules();const D=RT(r,o),B=R.length+D*2,k=NT(R,h,D,f);return{cells:R,margin:D,numCells:B,calculatedImageSettings:k}},[d,h,f,r,o]);return{qrcode:d,margin:y,cells:_,numCells:v,calculatedImageSettings:E}}var MT=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),DT=et.forwardRef(function(n,l){const r=n,{value:o,size:f=Qy,level:h=Xy,bgColor:g=Fy,fgColor:d=Ky,includeMargin:_=Zy,minVersion:y=Jy,boostLevel:v,marginSize:E,imageSettings:R}=r,B=Af(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=B,$=Af(B,["style"]),ee=R?.src,V=et.useRef(null),ce=et.useRef(null),Be=et.useCallback(ut=>{V.current=ut,typeof l=="function"?l(ut):l&&(l.current=ut)},[l]),[Pe,ie]=et.useState(!1),{margin:Fe,cells:vt,numCells:an,calculatedImageSettings:He}=$y({value:o,level:h,minVersion:y,boostLevel:v,includeMargin:_,marginSize:E,imageSettings:R,size:f});et.useEffect(()=>{if(V.current!=null){const ut=V.current,Ge=ut.getContext("2d");if(!Ge)return;let z=vt;const j=ce.current,F=He!=null&&j!==null&&j.complete&&j.naturalHeight!==0&&j.naturalWidth!==0;F&&He.excavation!=null&&(z=Py(vt,He.excavation));const ge=window.devicePixelRatio||1;ut.height=ut.width=f*ge;const ve=f/an*ge;Ge.scale(ve,ve),Ge.fillStyle=g,Ge.fillRect(0,0,an,an),Ge.fillStyle=d,MT?Ge.fill(new Path2D(Wy(z,Fe))):vt.forEach(function(C,I){C.forEach(function(q,Y){q&&Ge.fillRect(Y+Fe,I+Fe,1,1)})}),He&&(Ge.globalAlpha=He.opacity),F&&Ge.drawImage(j,He.x+Fe,He.y+Fe,He.w,He.h)}}),et.useEffect(()=>{ie(!1)},[ee]);const mt=Tf({height:f,width:f},k);let sn=null;return ee!=null&&(sn=et.createElement("img",{src:ee,key:ee,style:{display:"none"},onLoad:()=>{ie(!0)},ref:ce,crossOrigin:He?.crossOrigin})),et.createElement(et.Fragment,null,et.createElement("canvas",Tf({style:mt,height:f,width:f,ref:Be,role:"img"},$)),sn)});DT.displayName="QRCodeCanvas";var ev=et.forwardRef(function(n,l){const r=n,{value:o,size:f=Qy,level:h=Xy,bgColor:g=Fy,fgColor:d=Ky,includeMargin:_=Zy,minVersion:y=Jy,boostLevel:v,title:E,marginSize:R,imageSettings:D}=r,B=Af(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:$,numCells:ee,calculatedImageSettings:V}=$y({value:o,level:h,minVersion:y,boostLevel:v,includeMargin:_,marginSize:R,imageSettings:D,size:f});let ce=$,Be=null;D!=null&&V!=null&&(V.excavation!=null&&(ce=Py($,V.excavation)),Be=et.createElement("image",{href:D.src,height:V.h,width:V.w,x:V.x+k,y:V.y+k,preserveAspectRatio:"none",opacity:V.opacity,crossOrigin:V.crossOrigin}));const Pe=Wy(ce,k);return et.createElement("svg",Tf({height:f,width:f,viewBox:`0 0 ${ee} ${ee}`,ref:l,role:"img"},B),!!E&&et.createElement("title",null,E),et.createElement("path",{fill:g,d:`M0,0 h${ee}v${ee}H0z`,shapeRendering:"crispEdges"}),et.createElement("path",{fill:d,d:Pe,shapeRendering:"crispEdges"}),Be)});ev.displayName="QRCodeSVG";function OT({roomCode:a}){const[n,l]=Le.useState(null),[r,o]=Le.useState({mafia:1,doctor:1,detective:1,peacefulFirstNight:!1});if(Le.useEffect(()=>{const d=Ii(Bi,`rooms/${a}`);return Sf(d,_=>{_.exists()&&l(_.val())})},[a]),Le.useEffect(()=>{if(n?.gameState==="LOBBY"){const d=n.players?Object.keys(n.players).length:0;o(_=>({..._,mafia:Math.max(1,Math.floor(d/4)),doctor:d>2?1:0,detective:d>4?1:0,peacefulFirstNight:d<=4}))}},[n?.players]),!n)return w.jsx("div",{className:"host-wrapper",children:"Loading..."});const f=n.players?Object.values(n.players):[],h=window.location.href.split("?")[0]+`?q=${btoa(JSON.stringify({r:a}))}`,g=()=>{const d=[];for(let v=0;v<r.mafia;v++)d.push("MAFIA");for(let v=0;v<r.doctor;v++)d.push("DOCTOR");for(let v=0;v<r.detective;v++)d.push("DETECTIVE");for(;d.length<f.length;)d.push("VILLAGER");const _=I1(d).slice(0,f.length),y={};f.forEach((v,E)=>{y[`rooms/${a}/players/${v.id}/role`]=_[E]||"VILLAGER",y[`rooms/${a}/players/${v.id}/isAlive`]=!0,y[`rooms/${a}/players/${v.id}/voteTarget`]=null}),y[`rooms/${a}/config`]=r,y[`rooms/${a}/gameState`]="NIGHT",y[`rooms/${a}/turnCount`]=1,y[`rooms/${a}/publicMessage`]="NIGHT HAS FALLEN",y[`rooms/${a}/nightActions`]=null,OC(Ii(Bi),y)};return n.gameState!=="LOBBY"?w.jsxs("div",{className:"ingame-wrapper",children:[w.jsx("h1",{className:"ingame-message",children:n.publicMessage}),w.jsx("div",{className:"player-grid",children:f.map(d=>w.jsx("div",{className:`player-card ${d.isAlive?"":"dead"}`,children:d.name},d.id))})]}):w.jsxs("div",{className:"host-wrapper",children:[w.jsxs("div",{className:"room-header",children:[w.jsx("div",{className:"room-label",children:"Room Code"}),w.jsx("div",{className:"room-code",children:a})]}),w.jsxs("div",{className:"host-grid",children:[w.jsxs("div",{className:"ui-card",children:[w.jsxs("h2",{className:"card-title",children:[w.jsx(sT,{size:24})," Scan to Join"]}),w.jsx("div",{className:"qr-container",children:w.jsx("div",{className:"qr-box",children:w.jsx(ev,{value:h,size:240})})}),w.jsxs("div",{className:"lobby-status",children:[w.jsxs("div",{className:"lobby-header",children:[w.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[w.jsx(pT,{size:18})," Lobby"]}),w.jsxs("span",{children:[f.length," Connected"]})]}),f.length===0?w.jsx("div",{style:{color:"var(--text-muted)",textAlign:"center",padding:"1rem"},children:"Waiting for players to connect..."}):w.jsx("div",{className:"player-pills",children:f.map(d=>w.jsx("div",{className:"player-pill",children:d.name},d.id))})]})]}),w.jsxs("div",{className:"ui-card",children:[w.jsxs("h2",{className:"card-title",children:[w.jsx(oT,{size:24})," Game Config"]}),w.jsxs("div",{className:"config-list",children:[w.jsx(Wc,{label:"Mafia",icon:w.jsx(Gy,{size:22,color:"var(--danger)"}),value:r.mafia,onChange:d=>o({...r,mafia:d})}),w.jsx(Wc,{label:"Doctor",icon:w.jsx(qy,{size:22,color:"var(--success)"}),value:r.doctor,onChange:d=>o({...r,doctor:d})}),w.jsx(Wc,{label:"Detective",icon:w.jsx(Cf,{size:22,color:"var(--primary)"}),value:r.detective,onChange:d=>o({...r,detective:d})}),w.jsxs("div",{className:"config-item",onClick:()=>o({...r,peacefulFirstNight:!r.peacefulFirstNight}),style:{cursor:"pointer"},children:[w.jsxs("div",{className:"config-label",children:[w.jsx(vT,{size:22,color:r.peacefulFirstNight?"var(--success)":"var(--text-muted)"}),w.jsx("span",{style:{color:r.peacefulFirstNight?"var(--success)":"var(--text-main)"},children:"Peaceful Night 1"})]}),w.jsx("div",{className:`toggle-switch ${r.peacefulFirstNight?"on":""}`,children:w.jsx("div",{className:"toggle-knob"})})]})]}),w.jsxs("button",{className:"btn-start",disabled:f.length<2,onClick:g,children:[w.jsx(ky,{size:24,fill:"currentColor"}),f.length<2?"Need 2+ Players":"Start Game"]})]})]})]})}function Wc({label:a,icon:n,value:l,onChange:r}){return w.jsxs("div",{className:"config-item",children:[w.jsxs("div",{className:"config-label",children:[n,w.jsx("span",{children:a})]}),w.jsxs("div",{className:"counter-wrap",children:[w.jsx("button",{onClick:()=>r(Math.max(0,l-1)),className:"btn-counter",children:"-"}),w.jsx("span",{className:"counter-val",children:l}),w.jsx("button",{onClick:()=>r(l+1),className:"btn-counter",children:"+"})]})]})}function wT({roomCode:a,playerName:n}){const[l,r]=Le.useState(null),[o,f]=Le.useState(null),[h,g]=Le.useState(null);if(Le.useEffect(()=>{const E=`mafia_id_${a}`;let R=sessionStorage.getItem(E);R||(R=n.replace(/[^a-zA-Z0-9]/g,"")+"_"+Date.now(),sessionStorage.setItem(E,R));const D=Ii(Bi,`rooms/${a}/players/${R}`);Sf(D,$=>{$.exists()?r($.val()):Ir(D,{id:R,name:n,isAlive:!0,role:"UNKNOWN",isOnline:!0})}),DC(D).update({isOnline:!1});const B=Ii(Bi,`rooms/${a}`),k=Sf(B,$=>{const ee=$.val();ee&&(f(ee),ee.gameState!=="NIGHT"&&g(null))});return()=>k()},[]),!l||!o)return w.jsx("div",{className:"center-container",children:w.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-white"})});const d=(E,R)=>{if(!(R==="KILL"&&o.turnCount===1&&o.config?.peacefulFirstNight))if(R==="INVESTIGATE"){const D=Object.values(o.players).find(B=>B.id===E);g({name:D.name,role:D.role==="MAFIA"?"MAFIA":"INNOCENT"})}else Ir(Ii(Bi,`rooms/${a}/nightActions/${l.id}`),{type:R,targetId:E})},_=E=>Ir(Ii(Bi,`rooms/${a}/players/${l.id}/voteTarget`),E),y=o.gameState!=="LOBBY"&&l.isAlive===!1,v=E=>{switch(E){case"MAFIA":return"text-red-500 bg-red-950/30 border-red-500/20";case"DOCTOR":return"text-green-500 bg-green-950/30 border-green-500/20";case"DETECTIVE":return"text-blue-500 bg-blue-950/30 border-blue-500/20";default:return"text-slate-400 bg-slate-800/50 border-slate-700"}};return y?w.jsxs("div",{className:"center-container bg-[#2a0a0a]",children:[w.jsx("div",{className:"bg-red-500/10 p-12 rounded-full border-4 border-red-500/20 mb-8 animate-pulse",children:w.jsx(hT,{size:80,className:"text-red-500"})}),w.jsx("h1",{className:"text-5xl font-black mb-4 uppercase tracking-tighter text-red-500",children:"Eliminated"}),w.jsx("p",{className:"text-red-200/60 font-medium",children:"You have been removed from the game."})]}):w.jsxs("div",{className:"flex flex-col h-[100dvh] w-full bg-slate-950 overflow-hidden",children:[w.jsxs("div",{className:"w-full bg-slate-900 border-b border-white/10 p-4 pt-safe flex items-center justify-between z-20 shadow-xl",children:[w.jsx("div",{className:"font-bold text-xl tracking-tight text-white",children:n}),l.role!=="UNKNOWN"&&w.jsx("div",{className:`text-xs font-black uppercase tracking-widest px-3 py-1.5 rounded-lg border ${v(l.role)}`,children:l.role})]}),o.gameState==="LOBBY"&&w.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center p-6 text-center space-y-6 animate-in zoom-in duration-500",children:[w.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-2xl rotate-3 flex items-center justify-center shadow-2xl shadow-blue-900/50",children:w.jsx("span",{className:"text-4xl text-white font-black",children:"?"})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:"You are in!"}),w.jsx("p",{className:"text-slate-400 font-medium text-sm",children:"Watch the TV for instructions."})]})]}),(o.gameState==="NIGHT"||o.gameState==="VOTING")&&w.jsxs("div",{className:"flex flex-col h-full",children:[w.jsxs("div",{className:"p-6 text-center bg-gradient-to-b from-slate-900 to-transparent",children:[w.jsx("div",{className:"flex justify-center mb-2",children:o.gameState==="NIGHT"?w.jsx(mp,{size:32,className:"text-indigo-400"}):w.jsx(mT,{size:32,className:"text-amber-400"})}),w.jsx("h2",{className:"text-3xl font-black uppercase text-white tracking-tight leading-none mb-1",children:o.gameState==="NIGHT"?"Night Phase":"Voting Phase"}),w.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-[0.2em]",children:o.gameState==="NIGHT"?l.role==="VILLAGER"?"Stay Quiet":"Select Target":"Cast Your Vote"})]}),h&&w.jsxs("div",{className:"mx-6 mb-4 p-4 rounded-xl bg-indigo-600 text-white shadow-lg shadow-indigo-900/50 flex items-center gap-4 animate-bounce",children:[w.jsx(Cf,{size:24,className:"text-indigo-200"}),w.jsxs("div",{children:[w.jsx("div",{className:"text-xs font-bold opacity-75 uppercase",children:"Investigation Result"}),w.jsxs("div",{className:"text-lg font-black",children:[h.name," is ",w.jsx("span",{className:h.role==="MAFIA"?"text-red-300 decoration-red-300 underline":"text-white",children:h.role})]})]})]}),w.jsx("div",{className:"flex-grow overflow-y-auto px-4 pb-32 space-y-3",children:o.gameState==="NIGHT"&&l.role==="VILLAGER"?w.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-700 space-y-4",children:[w.jsx(mp,{size:64,className:"opacity-20 animate-pulse"}),w.jsx("p",{className:"font-bold uppercase tracking-widest text-sm",children:"You are sleeping..."})]}):Object.values(o.players).filter(E=>E.isAlive&&E.id!==l.id).map(E=>{const R=l.role==="MAFIA"&&o.turnCount===1&&o.config?.peacefulFirstNight,D=l.voteTarget===E.id;return w.jsxs("button",{disabled:R,onClick:()=>o.gameState==="NIGHT"?d(E.id,l.role==="MAFIA"?"KILL":l.role==="DOCTOR"?"SAVE":"INVESTIGATE"):_(E.id),className:`w-full relative group p-5 rounded-2xl font-bold text-lg text-left transition-all border-2 ${D?"bg-blue-600 border-blue-500 text-white shadow-lg shadow-blue-900/40 scale-[1.02]":"bg-slate-900 border-slate-800 text-slate-300 hover:bg-slate-800"} ${R?"opacity-40 grayscale":""}`,children:[w.jsx("span",{className:"relative z-10",children:E.name}),D&&w.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white",children:w.jsx(eT,{fill:"white",className:"text-blue-600",size:24})}),o.gameState==="NIGHT"&&!D&&w.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-20 group-hover:opacity-100 transition-opacity",children:l.role==="MAFIA"?w.jsx(Gy,{size:20,className:"text-red-500"}):l.role==="DOCTOR"?w.jsx(qy,{size:20,className:"text-green-500"}):w.jsx(Cf,{size:20,className:"text-blue-500"})})]},E.id)})})]}),o.gameState==="DAY"&&w.jsx("div",{className:"flex-grow flex items-center justify-center flex-col text-center p-8 m-4",children:w.jsxs("div",{className:"w-full max-w-xs bg-slate-900/50 p-8 rounded-3xl border border-slate-800 backdrop-blur-sm",children:[w.jsx("div",{className:"text-6xl mb-6 animate-bounce",children:""}),w.jsx("h2",{className:"text-2xl font-black text-white mb-2",children:"Morning Briefing"}),w.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Look at the main screen"})]})})]})}function xT(){const[a,n]=Le.useState("LANDING"),[l,r]=Le.useState(""),[o,f]=Le.useState(""),[h,g]=Le.useState(null);return Le.useEffect(()=>{const _=new URLSearchParams(window.location.search).get("q");_&&g(_)},[]),a==="HOST"?w.jsx(OT,{roomCode:l}):a==="PLAYER"?w.jsx(wT,{roomCode:l,playerName:o}):w.jsx(ET,{onHost:d=>{r(d),n("HOST")},onJoin:(d,_)=>{r(d),f(_),n("PLAYER")},joinToken:h})}L1.createRoot(document.getElementById("root")).render(w.jsx(Le.StrictMode,{children:w.jsx(xT,{})}));
